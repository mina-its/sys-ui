(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["sys-ui"]=t(require("vue")):e["sys-ui"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(__WEBPACK_EXTERNAL_MODULE__8bbf__){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({"0025":function(e,t,r){},"0132":function(e,t,r){"use strict";r.r(t);var n=r("4fdd"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"027b":function(e,t,r){"use strict";var n=r("20d3"),o=r.n(n);o.a},"027f":function(e,t,r){"use strict";r.r(t);var n=r("e35a"),o=r("e3ca");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("08f7");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"0297":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("a76d"),a=r("60a3"),i=r("8445"),s=r("cd49"),l=n.__importStar(r("cd49")),c=n.__importDefault(r("b57c")),u=n.__importDefault(r("9ac3"));let d=class extends a.Vue{constructor(){super(...arguments),this.currentGroup=this.groups[0],this.groupPropertyLink=null,this.headFuncs=[],this.AccessPermission_Edit=i.AccessPermission.Edit,this.ObjectDetailsViewType_Tabular=i.ObjectDetailsViewType.Tabular}comment(){return s.markDown(this.dec.comment)}isNotAloneInlineDataGridProperty(e,t){return t._.gtype==i.GlobalType.object&&t.isList&&this.level>0}groupPanelStyle(e){let t=this.dec.detailsViewType===i.ObjectDetailsViewType.Tabular?"py-4":"",r=this.getProps(e);if(r&&1==r.length){let e=r[0];if(e.isList){if(e.listsViewType==i.ObjectListsViewType.Card)return"";if(!this.level)return"grid-view-box"}}return this.level||(t+=" gp"),t}resetHeadFuncs(){this.headFuncs=[],this.dec.links&&(this.headFuncs=this.dec.links.filter(e=>!e.disable&&!e.type).map(e=>({title:e.title,ref:s.urlInsertPrefix(e.address)})))}mounted(){this.resetHeadFuncs(),this.reloadLastGroup()}getGroupId(e){return this.level?void 0:"gp-"+e.replace(/\s/g,"-")}onPropertyChanged(e,t){this.currentGroup=this.groups[0],this.groupPropertyLink=null,this.resetHeadFuncs()}saveLastGroup(e){"undefined"!==typeof Storage&&localStorage.setItem("_gp"+location.pathname,JSON.stringify(e))}reloadLastGroup(){if("undefined"===typeof Storage)return;let e=localStorage.getItem("_gp"+location.pathname);e?this.selectGroup(JSON.parse(e)):this.currentGroup=this.groups[0]}loadPropertyGroupLinkData(e){s.loadObjectViewData(e,this.data,(e,t)=>{this.groupPropertyLink=t.ref})}selectGroup(e){if(this.currentGroup=e.title,this.saveLastGroup(e),/^\//.test(e.uri))return this.loadPropertyGroupLinkData(e.uri);if(this.groupPropertyLink=null,this.dec.detailsViewType==i.ObjectDetailsViewType.Tabular){let t=$(".details-view");t.animate({scrollTop:$(e.ref).offset().top+t.scrollTop()-t.offset().top},0)}let t=this.getProps(this.currentGroup),r=this.headFuncs.find(e=>"new-item"==e.name);if(r&&this.headFuncs.splice(this.headFuncs.indexOf(r),1),t&&1==t.length&&t[0].isList){let e=t[0];switch(e.referType){case i.PropertyReferType.inlineData:let t=s.getNewItemTitle(e.title);this.headFuncs.push({title:t,name:"new-item",exec:()=>{let t=this.uri+"/"+e.name,r=s.glob.form.declarations[t],n={_id:o.ID.generateByBrowser(),_new:!0,_:{marked:!1,dec:r}};this.dec.properties.forEach(e=>n[e.name]=null),this.data?this.data[t].push(n):l.dispatchStoreModify(this,{type:o.ChangeType.InsertItem,item:n,uri:t,vue:this})}});break}}}nonGroupVisible(){return this.groups.length<=1}groupVisible(e){return!(this.groups.length<=1)&&(!!this.level||(this.dec.detailsViewType==i.ObjectDetailsViewType.Tabular||this.currentGroup==e))}groupHeadVisible(e){this.getProps(e);return!this.level&&this.dec.detailsViewType==i.ObjectDetailsViewType.Tabular}execLink(e){let t={data:this.item};l.ajax("/"+e.name,t,null,l.handleResponse,e=>{l.notify(e)})}emitChanged(e){return e}changed(e){this.data?(e.vue.$set(e.item,e.prop.name,e.val),this.emitChanged(e)):l.dispatchStoreModify(this,{type:o.ChangeType.EditProp,prop:e.prop,value:e.val,item:e.item,uri:this.uri,vue:e.vue});let t=this.dec.properties.filter(t=>t.dependsOn&&t.dependsOn.split(",").indexOf(e.prop.name)>-1&&null!=this.item[e.prop.name]);for(const r of t)this.changed({item:this.item,prop:r,val:null,vue:this})}getProps(e){let t=this.dec.properties.filter(t=>t.properties?e==t.title:t.group==e);return t}get showSideMenu(){return this.sideMenu&&!this.level&&(!this.dec.detailsViewType||this.dec.detailsViewType==i.ObjectDetailsViewType.Grouped||this.dec.detailsViewType==i.ObjectDetailsViewType.Tabular)}get sideMenu(){let e=[];for(const r of this.groups)e.push({uri:"#gp-"+r.replace(/\s/g,"-"),title:r});let t=this.dec.links?this.dec.links.filter(e=>!e.disable&&e.type==i.LinkType.PropertyGroupLink).map(e=>({title:e.title,uri:e.address})):[];return e=[...e,...t],e.length<=1&&(e=null),e}get item(){return this.data?this.data:this.$store.state.data[this.uri]}get groups(){let e=this.dec.properties.filter(e=>e.group&&(null==e.condition||l.evalExpression(this.item,e.condition)));return e.map(e=>e.group).filter(l.onlyUnique)}};n.__decorate([a.Prop()],d.prototype,"uri",void 0),n.__decorate([a.Prop()],d.prototype,"data",void 0),n.__decorate([a.Prop()],d.prototype,"dec",void 0),n.__decorate([a.Prop()],d.prototype,"level",void 0),n.__decorate([a.Watch("uri")],d.prototype,"onPropertyChanged",null),n.__decorate([a.Emit("changed")],d.prototype,"emitChanged",null),d=n.__decorate([a.Component({name:"DetailsView",components:{LayoutDefault:u.default,ObjectView:c.default}})],d),t.default=d},"02b4":function(e,t,r){"use strict";r.r(t);var n=r("a326"),o=r("5010");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("4f1b");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"0341":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};n.__decorate([o.Prop()],a.prototype,"prop",void 0),a=n.__decorate([o.Component({name:"MasterSearch"})],a),t.default=a},"04f2":function(e,t,r){"use strict";r.r(t);var n=r("c023"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"0542":function(e,t,r){},"05f6":function(e,t,r){"use strict";r.r(t);var n=r("1208"),o=r("7711");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"1f637b0c",null);t["default"]=s.exports},"0684":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tree-view-line m-2"},[r("span",{class:"tree-view-head token mr-2"+(e.line.head?"":" empty")},[e._v(e._s(e.line.head))]),r("label",{staticClass:"tree-view-subject"},[e.line.item?r("prop",{attrs:{viewType:3,labelMode:1,item:e.line.item,meta:e.line.subject}}):e._e()],1),e._l(e.line.attrs,(function(e){return r("tree-view-attribute",{attrs:{attr:e}})}))],2)},o=[]},"07c9":function(e,t,r){},"07e8":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},o=[]},"08a6":function(e,t,r){"use strict";r.r(t);var n=r("3086"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"08f7":function(e,t,r){"use strict";var n=r("e38a"),o=r.n(n);o.a},"0a06":function(e,t,r){"use strict";var n=r("c532"),o=r("30b5"),a=r("f6b4"),i=r("5270"),s=r("4a7b");function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=s(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[i,void 0],r=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)r=r.then(t.shift(),t.shift());return r},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,o){return this.request(n.merge(o||{},{method:e,url:t,data:r}))}})),e.exports=l},"0a84":function(e,t,r){"use strict";r.r(t);var n=r("1515"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"0b82":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{constructor(){super(...arguments),this.message=""}functionTest(e,t){}};n.__decorate([o.Prop()],a.prototype,"dec",void 0),a=n.__decorate([o.Component({name:"FunctionTesting"})],a),t.default=a},"0c47":function(e,t,r){"use strict";r.r(t);var n=r("96a7"),o=r("2bff");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"0c7b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49");let s=class extends o.Vue{constructor(){super(...arguments),this.countries=[]}created(){i.call("getRegionCountries",null,(e,t)=>{this.countries=t.data})}changeRegion(e){location.href=i.setQs("e",e.ref,!0)}get items(){let e=[],t=this.countries.filter(e=>e.locale&&e.group).map(e=>e.group).filter(i.onlyUnique);for(let r of t){e.push({name:r});let t=this.countries.filter(e=>e.locale&&r==i.$t(e.group));for(let r of t)e.push({name:r.localName||r.name,ref:a.Locale[r.locale]})}return e}};s=n.__decorate([o.Component({name:"AppChangeRegion"})],s),t.default=s},"0df6":function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"0edf":function(e,t,r){},1045:function(e,t,r){},"118a":function(e,t,r){"use strict";r.r(t);var n=r("7bf8"),o=r("5e14");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("7030");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"11a9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49"),i=r("8445"),s=r("a76d"),l=n.__importStar(r("cd49"));let c=class extends o.Vue{constructor(){super(...arguments),this.uri="",this.path="",this.drive=null,this.drives=[],this.list=[],this.loading=!0,this.selected=null,this.gridView=!1}created(){this.gridView="1"==localStorage.getItem("app-drive-grid-view"),a.call("getDrivesList",null,(e,t)=>{this.drives=t.data,this.loading=!1,this.browsePath(location.pathname)})}back(){history.back(),setTimeout(()=>{this.browsePath(location.pathname)},100)}toggleView(){this.gridView=!this.gridView,localStorage.setItem("app-drive-grid-view",this.gridView?"1":"0")}clickConfig(){}refresh(){this.browsePath(location.pathname)}load(){a.call("getFileGallery",{path:this.path,drive:this.drive._id},(e,t)=>{this.loading=!1,t.code==i.StatusCode.Ok?($(":focus").blur(),this.uri=t.data.uri,this.list=t.data.list,document.title="App Drive: "+l.joinUri(this.drive.name,this.path)):a.notify(t.message,i.LogType.Error)})}onContextMenu(e){e.stopPropagation(),e.preventDefault()}openMenu(e,t){if(3!=e.which||t.type!==i.DirFileType.File)return;let r=[{ref:"preview",title:a.$t("preview")},{ref:"download",title:a.$t("download")},{title:"-"},{ref:"remove",title:a.$t("remove")},{title:"-"},{ref:"refresh",title:a.$t("refresh")}];l.showCmenu(t,r,e,(e,r)=>{switch(r.ref){case"remove":this.removeFile(t.name);break;case"preview":case"download":window.open(l.joinUri(this.uri,t.name),"_blank");break;case"refresh":l.refreshFileGallery();break;case"rename":t["editing"]=!0,console.log(t);break}}),e.stopPropagation(),e.preventDefault()}removeFile(e){l.question("Confirm delete file",`Are you sure you want to delete the file '${e}'`,[{title:"Cancel",ref:"no",_cs:"btn btn-light ml-2"},{title:"Delete file",ref:"yes",_cs:"btn btn-danger ml-2"}],null,t=>{t&&"yes"==t&&l.ajax("/deleteFromFileGallery?m=1",{drive:this.drive._id,pth:this.path,name:e},null,()=>this.refresh())})}isImage(e){let t=e.name.split(".").pop().toLowerCase();return s.Constants.imageExtensions.includes(t)}size(e){return e.size?a.toFriendlyFileSizeString(e.size):""}focus(e){this.selected=e}selectBreadcrumb(e){this.browsePath(e.ref)}browsePath(e){let t=e.split("/");if(t.length<3)return document.title="App Drive",history.pushState(null,null,"/app-drive"),this.list=this.drives,this.drive=null,void(this.path=null);this.drive=this.drives.find(e=>e.name==t[2]),this.drive&&(this.path=t.slice(3).join("/"),history.pushState(null,null,e),this.load())}select(e,t){if(t&&(this.selected=t),e.stopProgress&&e.stopProgress(),this.selected){switch(this.selected.type){case i.DirFileType.Drive:this.drive=this.selected,history.pushState(null,null,"/app-drive/"+this.drive.name),this.path="";break;case i.DirFileType.Folder:this.path=l.joinUri(this.path,this.selected.name),history.pushState(null,null,"/app-drive/"+this.drive.name+this.path);break;default:return}this.load()}}icon(e){if(e.type==i.DirFileType.Folder)return"fa-folder-open text-primary fad "+(this.gridView?"fa-5x":"mx-2 fa-lg");if(e.type==i.DirFileType.Drive)return"fa-hdd fad text-primary "+(this.gridView?"mx-4 fa-5x":"mx-2 fa-lg");let t=e.name.split(".").pop().toLowerCase();if(this.gridView&&s.Constants.imageExtensions.includes(t))return l.joinUri(this.uri,e.name);let r="fal "+(this.gridView?"fa-2x ":"fa-lg text-black-50 mx-2 ");switch(t){case"doc":case"docx":return r+"fa-file-word";case"exe":return r+"fa-file-medical-alt";case"mp3":case"wav":return r+"fa-file-audio";case"pdf":return r+"fa-file-pdf";case"xsl":case"xslx":return r+"fa-file-spreadsheet";case"avi":case"mp4":case"mov":return r+"fa-file-video";case"jpg":case"png":case"ico":return r+"fa-file-image";case"tar":case"zip":return r+"fa-file-archive";case"txt":return r+"fa-file-alt";case"csv":return r+"fa-file-csv";case"xml":return r+"fa-file-code";default:return r+"fa-file"}}isSelected(e){return this.selected==e}get current(){if(!this.path)return this.drive?this.drive.name:"Drives";let e=this.path.split("/").filter(e=>e);return 0==e.length?a.$t("drive"):e.pop()}get breadcrumb(){if(!this.drive)return[];let e=this.path.split("/").filter(e=>e),t=[{title:"Drives",ref:"/app-drive"}];return e.forEach((r,n)=>t.push({title:r,ref:`/app-drive/${this.drive.name}/`+e.slice(0,n+1).join("/")})),t.length&&t.splice(1,0,{title:this.drive.name,ref:"/app-drive/"+this.drive.name}),t.pop(),t}get files(){return this.list.sort((e,t)=>t.type-e.type),this.list.forEach(e=>e["editing"]=!1),this.list}};c=n.__decorate([o.Component({name:"AppDrive"})],c),t.default=c},1208:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"m-3 card text-white bg-"+e.type,staticStyle:{"max-width":"18rem"}},[r("div",{staticClass:"card-header"},[e._v(e._s(e.header))]),r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-text"},[e._v(e._s(e.message))])])])},o=[]},1217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{changeLocale(e){console.log(e),location.href=a.setQs("e",e.ref,!0)}};i=n.__decorate([o.Component({name:"AppLocaleMenu"})],i),t.default=i},"12b9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49"),s=n.__importStar(r("cd49"));let l=class extends o.Vue{constructor(){super(...arguments),this.focused=!1}get inputType(){return this.prop.number&&this.prop.number.digitGrouping?"text":"number"}keydown(e){return e.which!==a.Keys.up&&e.which!==a.Keys.down||e.preventDefault(),{prop:this.prop,event:e}}blur(){this.focused=!1}focus(e){return this.focused=!0,{prop:this.prop,event:e}}update(e){let t=e.target.value;""===t&&(t=null);let r=null!=t?t.indexOf(".")>-1?parseFloat(t):parseInt(t):null;return{prop:this.prop,val:r,vue:this}}get readonly(){return!!this.prop.formula}get value(){let e=s.getPropTextValue(this.prop,this.doc);return this.prop.number&&this.prop.number.digitGrouping&&!this.focused?i.digitGroup(e):e}get placeholder(){if(!this.doc||this.prop.formula)return null;let e=this.doc[this.prop.name];if(e&&"object"===typeof e){let t=s.getQs("e")||"en";if(!e[t])return e["en"]||e[Object.keys(e)[0]]}return null}};n.__decorate([o.Prop()],l.prototype,"doc",void 0),n.__decorate([o.Prop()],l.prototype,"viewType",void 0),n.__decorate([o.Prop()],l.prototype,"prop",void 0),n.__decorate([o.Prop()],l.prototype,"readOnly",void 0),n.__decorate([o.Emit("keydown")],l.prototype,"keydown",null),n.__decorate([o.Emit("focus")],l.prototype,"focus",null),n.__decorate([o.Emit("changed")],l.prototype,"update",null),l=n.__decorate([o.Component({name:"PropText"})],l),t.default=l},"13fa":function(e,t,r){"use strict";r.r(t);var n=r("4044"),o=r("7196");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("5fe8");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},1435:function(e,t,r){},"147c":function(e,t,r){"use strict";r.r(t);var n=r("a99f"),o=r("afec");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"2c1bd4aa",null);t["default"]=s.exports},"147e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{constructor(){super(...arguments),this.itemHeight=50,this.scrollTop=0}mounted(){this.$refs.sc.scrollTop=this.index*this.itemHeight,$(this.$refs.sc).css("scroll-behavior","smooth")}itemStyle(e,t){let r=e-Math.round(this.scrollTop/this.itemHeight);return t==Math.abs(r)}click(e){this.$refs.sc.scrollTop=e*this.itemHeight}change(e){return{index:e,item:this.items[e]}}scroll(){this.scrollTop=this.$refs.sc.scrollTop;let e=Math.round(this.scrollTop/this.itemHeight);this.index!=e&&this.change(e)}};n.__decorate([o.Prop()],a.prototype,"items",void 0),n.__decorate([o.Prop()],a.prototype,"index",void 0),n.__decorate([o.Prop()],a.prototype,"caption",void 0),n.__decorate([o.Emit("changed")],a.prototype,"change",null),a=n.__decorate([o.Component({name:"RollPicker"})],a),t.default=a},1515:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{onScroll(){a.hideCmenu()}};i=n.__decorate([o.Component({name:"FormView",components:{}})],i),t.default=i},1636:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{get html(){return marked(this.content)}};n.__decorate([o.Prop()],a.prototype,"content",void 0),n.__decorate([o.Prop()],a.prototype,"styles",void 0),a=n.__decorate([o.Component({name:"Markdown"})],a),t.default=a},"175e":function(e,t,r){"use strict";r.r(t);var n=r("53bf"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"17b7":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.value?r("span",{staticClass:"tree-view-attribute m-2"},[r("prop",{attrs:{viewType:3,item:e.attr.item,meta:e.attr.prop}})],1):e._e()},o=[]},"185b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49");let s=class extends o.Vue{dragEnd(e,t){return{ev:e,task:t,group:this.group}}hasChild(e){return this.group.tasks.filter(t=>i.equalID(t.parent,e._id)).length>0}taskCaption(e){let t=e.title||"";return t.split(" ").length<6||(t="#"+e.no,e.categories&&e.categories.length&&(t+=" "+e.categories.map(e=>"#"+e).join(" "))),t}dragEnterTask(e,t){return{ev:e,task:t,group:this.group}}dragEnterGroup(e){return{ev:e,group:this.group}}getTaskTime(e){if(!e.dueDates)return"";let t=null;if(1==e.dueDates.length)t=e.dueDates[0].setTime?e.dueDates[0]:null;else switch(this.group.concern){case a.TaskView.Start:t=e.dueDates.find(e=>e.setTime&&this.datePeriodContains(e.time,this.today()));break;case a.TaskView.DueDate:this.group.value&&(t=e.dueDates.find(e=>e.setTime&&this.group.value.diff(e.time)<=0&&moment(this.group.value).add(1,"days").diff(e.time)>0));break}return t?"<span>&nbsp;<span>"+moment(t.time).format("HH:mm")+"<span>&nbsp;<span>":""}today(){let e=moment().startOf("day");return e}datePeriodContains(e,t){return t.diff(e)<=0&&moment(t).add(1,"days").diff(e)>0}isVisible(e){return e.collapse||!e.parent}toggleExpand(e){return e}clickGroup(e){$(".task-group.active").removeClass("active"),$(e.target).closest(".task-group").addClass("active"),$(e.target).find(".new-task").focus()}drop(e){return{ev:e,group:this.group}}saveTask(e,t,r){i.ajax("/tasks/"+e,t,{method:a.WebMethod.patch},e=>{console.log("Saved!"),r&&r(e)})}dragovergroup(e){return e.preventDefault(),{ev:e,group:this.group}}taskkeypress(e,t){return{ev:e,task:t,group:this.group}}dragStart(e,t){return{ev:e,task:t,group:this.group}}newTask(e){return{ev:e,group:this.group}}focusTask(e){return{task:e,group:this.group}}};n.__decorate([o.Prop()],s.prototype,"group",void 0),n.__decorate([o.Prop()],s.prototype,"milestone",void 0),n.__decorate([o.Emit("dragEnd")],s.prototype,"dragEnd",null),n.__decorate([o.Emit("dragEnterTask")],s.prototype,"dragEnterTask",null),n.__decorate([o.Emit("dragEnterGroup")],s.prototype,"dragEnterGroup",null),n.__decorate([o.Emit("toggleExpand")],s.prototype,"toggleExpand",null),n.__decorate([o.Emit("drop")],s.prototype,"drop",null),n.__decorate([o.Emit("dragovergroup")],s.prototype,"dragovergroup",null),n.__decorate([o.Emit("taskkeypress")],s.prototype,"taskkeypress",null),n.__decorate([o.Emit("dragStart")],s.prototype,"dragStart",null),n.__decorate([o.Emit("newTask")],s.prototype,"newTask",null),n.__decorate([o.Emit("focusTask")],s.prototype,"focusTask",null),s=n.__decorate([o.Component({name:"TaskGroup"})],s),t.default=s},"18e8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};n.__decorate([o.Prop()],a.prototype,"header",void 0),n.__decorate([o.Prop()],a.prototype,"message",void 0),n.__decorate([o.Prop()],a.prototype,"type",void 0),a=n.__decorate([o.Component({name:"MessageCard"})],a),t.default=a},"193c":function(e,t,r){"use strict";r.r(t);var n=r("f2a2"),o=r("fe13");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"1a83":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tree-view-node"},[r("tree-view-line",{attrs:{line:e.node.line}}),e._l(e.node.nodes,(function(t){return e.node.nodes?r("tree-view-node",{staticClass:"ml-4",attrs:{node:t}}):e._e()}))],2)},o=[]},"1b43":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{"card-view":1,"p-2":!e.level}},[r("div",{staticClass:"d-flex flex-wrap"},e._l(e.items,(function(t){return r("div",{},[r("div",{staticClass:"card mr-4 mb-4 outline-0",attrs:{tabindex:"0"}},[r("div",{staticClass:"card-header",on:{click:function(r){return e.clickMenu(r,t)}}},[r("span",[e._v(e._s(e.getTitle(t)))]),r("i",{staticClass:"fa fa-cog fa-lg text-muted float-right mt-1"})]),r("div",{staticClass:"card-body details-view"},e._l(e.dec.properties,(function(n){return r("Property",{key:n.name,attrs:{item:t,prop:n,viewType:2},on:{changed:e.changed}})})),1)])])})),0)])},o=[]},"1bc9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49"),i=n.__importStar(r("cd49"));let s=class extends o.Vue{clickNotify(){$(".notify-message-container").html("")}close(){a.glob.modal=!1,i.load(location.href)}};n.__decorate([o.Prop()],s.prototype,"title",void 0),n.__decorate([o.Prop()],s.prototype,"footerElems",void 0),n.__decorate([o.Prop()],s.prototype,"bodyElems",void 0),s=n.__decorate([o.Component({name:"Modal",components:{}})],s),t.default=s},"1d2b":function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},"1df6":function(e,t,r){"use strict";r.r(t);var n=r("79e8"),o=r("7c7f");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("5986");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"1ec2":function(e,t,r){},"1f3d":function(e,t,r){"use strict";r.r(t);var n=r("f50b"),o=r("175e");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"1f6d":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout-default",{attrs:{justContent:!!e.level,globalFunctions:e.headFuncs,showSideMenu:e.showSideMenu}},[r("template",{slot:"side-menu"},[r("ul",{staticClass:"details-view nav flex-column",attrs:{id:"menus"}},e._l(e.sideMenu,(function(t){return r("li",{staticClass:"nav-item"},[r("a",{class:{"text-nowrap text-secondary nav-link":1,"font-weight-bold active":e.$data.currentGroup===t.title},attrs:{href:"javascript:void(0);"},on:{click:function(r){return e.selectGroup(t)}}},[e._v(e._s(t.title))])])})),0)]),r("template",{slot:"main-content"},[e.groupPropertyLink?r("div",{staticClass:"p-4 group-property-link grid-view-box"},[r("object-view",{attrs:{level:2,uri:e.groupPropertyLink}})],1):r("div",{class:{"details-view d-inline-block":1,"border rounded":e.level&&e.dec.detailsViewType===e.ObjectDetailsViewType_Tabular}},[e._l(e.groups,(function(t){return e.groupVisible(t)?r("div",{class:e.groupPanelStyle(t),attrs:{id:e.getGroupId(t)}},[e.groupHeadVisible(t)?r("h3",{staticClass:"text-secondary mb-4"},[e._v(e._s(t))]):e._e(),r("div",{staticClass:"group"},[e._l(e.getProps(t),(function(n){return[e.isNotAloneInlineDataGridProperty(t,n,e.item)?r("label",{staticClass:"prop-label from-outside-label pt-2"},[e._v(e._s(n.title))]):e._e(),r("Property",{attrs:{level:e.level?e.level+1:1,readonly:!(e.dec.access&e.AccessPermission_Edit),item:e.item,prop:n,viewType:e.ObjectDetailsViewType_Tabular},on:{changed:e.changed}})]}))],2)]):e._e()})),e.nonGroupVisible()?r("div",{class:{gp:!e.level}},e._l(e.dec.properties,(function(t){return r("Property",{attrs:{level:e.level?e.level+1:1,readonly:!(e.dec.access&e.AccessPermission_Edit),item:e.item,prop:t,viewType:e.ObjectDetailsViewType_Tabular},on:{changed:e.changed}})})),1):e._e(),e.level?e._e():r("div",{staticClass:"h-25"})],2)])],2)},o=[]},"1fc6":function(e,t,r){"use strict";r.r(t);var n=r("5230"),o=r("5a6f");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("7f98");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"1fd4":function(e,t,r){"use strict";var n=r("2c84"),o=r.n(n);o.a},"20d3":function(e,t,r){},"21de":function(e,t,r){"use strict";r.r(t);var n=r("d5fa"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},2323:function(e,t,r){var n={"./ApiDoc.vue":"2c6f","./AppChangeRegion.vue":"8c82","./AppChart.vue":"544c","./AppDocs.vue":"d8dd","./AppDrive.vue":"5ff5","./AppFeedback.vue":"fa85","./AppHeader.vue":"a4ce","./AppLocaleMenu.vue":"78cf","./AppUserLoginMenu.vue":"e062","./Breadcrumb.vue":"2fbc","./BrowseFile.vue":"7a8d","./CardView.vue":"f5cc","./CheckBox.vue":"c321","./ContextMenu.vue":"6825","./DashboardInfoBox.vue":"63f3","./DateTimePicker.vue":"9b86","./DetailsView.vue":"b403","./DocumentEditor.vue":"4667","./FileDrive.vue":"9939","./FileDriveItem.vue":"866d","./FileGallery.vue":"4a5f","./FilterItem.vue":"ab34","./FlowchartDesigner.vue":"be88","./FormElem.vue":"2729","./FormView.vue":"ab06","./Function.vue":"474f","./FunctionTesting.vue":"57b1","./GeoMap.vue":"8edf","./GridView.vue":"02b4","./GridViewRow.vue":"cf6c","./HelperObjects.vue":"193c","./ImagePreview.vue":"9ed7","./LayoutDefault.vue":"9ac3","./LogTerminal.vue":"b875","./Markdown.vue":"e6e0","./MarkdownEditable.vue":"e210","./MasterSearch.vue":"6333","./MessageCard.vue":"05f6","./Modal.vue":"714b","./NavMenu.vue":"4cc3","./NotifyBox.vue":"53b6","./ObjectView.vue":"b57c","./Panel.vue":"9c97","./ProgressBar.vue":"b6b4","./PropBoolean.vue":"0c47","./PropBooleanSwitch.vue":"1f3d","./PropDocumentEditor.vue":"1df6","./PropFile.vue":"631a","./PropHtmlEditor.vue":"e528","./PropLink.vue":"4497","./PropLocation.vue":"13fa","./PropMessage.vue":"147c","./PropNumber.vue":"db82","./PropReference.vue":"278f","./PropReferenceMultiple.vue":"c7bb","./PropText.vue":"b83a","./PropTextEditor.vue":"118a","./PropTextMultiline.vue":"027f","./PropTextMultiple.vue":"99ac","./PropTime.vue":"840b","./Property.vue":"9367","./PropertyFilter.vue":"43b2","./QuestionBox.vue":"1fc6","./RollPicker.vue":"b5ff","./SwitchBox.vue":"9228","./SysDashboard.vue":"6b0c","./TaskGroup.vue":"81d7","./TaskManager.vue":"7ea3","./ToolbarModifyButtons.vue":"355f","./Tree.vue":"730d","./TreeView.vue":"52b7","./TreeViewAttribute.vue":"5a5f","./TreeViewLine.vue":"a995","./TreeViewNode.vue":"a8f7","./UserAccount.vue":"3a8f","./WebSocket.vue":"e7fa"};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id="2323"},"23bd":function(e,t,r){"use strict";var n=r("5ba3"),o=r.n(n);o.a},"23d7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{mounted(){0===$(this.$el).next(".note-editor").length&&($(this.$el).summernote("code",this.doc[this.prop.name]),$(this.$el).on("summernote.change",this.changed).on("summernote.focus",this.focus),this.readOnly&&$(this.$el).summernote("disable"))}changed(){let e=$(this.$el).summernote("code");return{prop:this.prop,val:e,vue:this}}focus(e){return{prop:this.prop,event:e}}};n.__decorate([o.Prop()],a.prototype,"doc",void 0),n.__decorate([o.Prop()],a.prototype,"prop",void 0),n.__decorate([o.Prop()],a.prototype,"readOnly",void 0),n.__decorate([o.Emit("changed")],a.prototype,"changed",null),n.__decorate([o.Emit("focus")],a.prototype,"focus",null),a=n.__decorate([o.Component({name:"PropHtmlEditor"})],a),t.default=a},2405:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"change-region mx-2"},[r("a",{staticClass:"nav-link py-0 px-0",attrs:{href:"#",id:"navbarDropdownLocale",role:"button","data-toggle":"modal","data-target":"#changeRegion"}},[r("i",{staticClass:"fal fa-globe text-white px-1",staticStyle:{"font-size":"16px"}}),e._v(e._s(e.$t("change-region"))+" ")]),r("div",{staticClass:"modal fade",attrs:{id:"changeRegion",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[e._m(0),r("div",{staticClass:"modal-body  px-4"},[r("div",{staticClass:"countries d-flex flex-wrap flex-column align-content-start"},e._l(e.items,(function(t){return r("div",{staticClass:"item"},[t.ref?e._e():r("div",{class:{"font-weight-bold pt-3":1,"pr-5":e.ltr,"pl-5":e.rtl}},[e._v(e._s(t.name))]),t.ref?r("div",{class:{country:1,"pr-5":e.ltr,"pl-5":e.rtl}},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(r){return e.changeRegion(t)}}},[e._v(e._s(t.name))])]):e._e()])})),0)])])])])])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-header"},[r("div",[r("h5",{staticClass:"font-weight-bold",attrs:{id:"exampleModalLabel"}},[e._v("Choose your region")]),r("div",[e._v("Selecting a region changes the language and/or content.")])]),r("button",{staticClass:"close text-dark",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}]},2444:function(e,t,r){"use strict";(function(t){var n=r("c532"),o=r("c8af"),a={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function s(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=r("b50d")),e}var l={adapter:s(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){l.headers[e]=n.merge(a)})),e.exports=l}).call(this,r("4362"))},2457:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};n.__decorate([o.Prop()],a.prototype,"data",void 0),a=n.__decorate([o.Component({name:"SysDashboard",components:{}})],a),t.default=a},2498:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.styles+" border-0"},[2==e.viewType?r("div",{staticClass:"prop-file-box"},[e._l(e.files,(function(t){return r("div",{on:{click:function(r){return e.showMenu(t,r)}}},[e.prop.file&&e.prop.file.preview&&t._?r("figure",[r("img",{staticClass:"figure-img img-fluid border",attrs:{src:t._.uri},on:{load:function(r){return e.resetFileInfo(r,t)}}}),t._.dimensions?r("figcaption",[e._v(e._s(t._.dimensions))]):e._e()]):r("div",{staticClass:"prop-file-item d-flex px-2 py-1 mb-2 border border-bottom",staticStyle:{cursor:"pointer"}},[r("span",{staticClass:"flex-grow-1"},[e._v(e._s(e.title(t)))]),r("span",{staticClass:"property-file-size text-secondary text-nowrap mx-2"},[e._v("("+e._s(e.size(t))+")")]),r("i",{staticClass:"text-black-50 fa fa-times float-right p-1 fa-xs",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.remove(t,r)}}})])])})),e.showBrowseButton?r("Function",{attrs:{title:"Browse file ...",styles:"btn-light py-1 px-2 border"},on:{exec:e.selectFile}}):e._e()],2):e._l(e.files,(function(t){return r("div",{on:{click:function(r){return e.showMenu(t,r)}}},[e.prop.file&&e.prop.file.preview&&t._?r("img",{staticClass:"thumbnail",attrs:{src:t._.uri}}):r("div",{class:{"p-1":!0,"d-inline-block":3==e.viewType}},[r("div",[e._v(e._s(e.title(t))),r("span",{staticClass:"text-secondary mx-2"},[e._v(e._s(e.size(t)))])])])])})),2==e.viewType||e.files&&e.files.length?e._e():r("a",{staticClass:"w-100 h-100 text-center prop-file-empty fal fa-file-upload cursor-pointer",on:{click:function(t){return e.selectFile(null)}}})],2)},o=[]},2549:function(e,t,r){},"25c0":function(e,t,r){"use strict";var n=r("4de4"),o=r.n(n);o.a},"25ec":function(e,t,r){},"266d":function(e,t,r){"use strict";var n=r("9e7e"),o=r.n(n);o.a},2681:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.cmenu.show?r("div",{staticClass:"dropdown-menu py-0 show overflow-auto context-menu text-start",style:e.style},[e.glob.cmenu.datePicker?r("DateTimePicker",{attrs:{format:e.glob.cmenu.datePicker.format,value:e.glob.cmenu.datePicker.value},on:{changed:e.dateChanged,canceled:function(t){e.glob.cmenu.show=!1}}}):r("div",{staticClass:"py-2"},[e._l(e.glob.cmenu.items,(function(t){return["-"===t.title?r("div",{staticClass:"dropdown-divider"}):null==t.ref&&t.title?r("div",{staticClass:"dropdown-header",domProps:{innerHTML:e._s(e.getTitle(t))}}):r("a",{class:e.getStyle(t),attrs:{href:"javascript:;"},domProps:{innerHTML:e._s(e.getTitle(t))},on:{click:function(r){return e.click(t)}}})]}))],2)],1):e._e()},o=[]},"26f5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=n.__importStar(r("cd49")),s=r("cd49"),l=r("cd49");let c=class extends o.Vue{keydown(e){if(!l.glob.cmenu.show||e.which!==a.Keys.up&&e.which!==a.Keys.down||e.preventDefault(),!l.glob.cmenu.show)return{prop:this.prop,event:e}}focus(e){return{prop:this.prop,event:e}}click(e){this.update(e,!0)}update(e,t){if(this.readOnly)return;let r=e.target.value;s.showPropRefMenu(this.prop,this.doc,t?"":r,this.$refs.ctrl,!1,e=>{null!=e?i.equalID(this.doc[this.prop.name],e.ref)||this.selectItem(e.ref):this.refreshText()})}refreshText(){this.$refs.ctrl.value=this.value}selectItem(e){return{prop:this.prop,val:e,vue:this}}get value(){return i.getPropReferenceValue(this.prop,this.doc)}};n.__decorate([o.Prop()],c.prototype,"type",void 0),n.__decorate([o.Prop()],c.prototype,"doc",void 0),n.__decorate([o.Prop()],c.prototype,"prop",void 0),n.__decorate([o.Prop()],c.prototype,"readOnly",void 0),n.__decorate([o.Emit("keydown")],c.prototype,"keydown",null),n.__decorate([o.Emit("focus")],c.prototype,"focus",null),n.__decorate([o.Emit("changed")],c.prototype,"selectItem",null),c=n.__decorate([o.Component({name:"PropReference"})],c),t.default=c},2729:function(e,t,r){"use strict";r.r(t);var n=r("a2b9");for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);var a,i,s=r("2877"),l=Object(s["a"])(n["default"],a,i,!1,null,null,null);t["default"]=l.exports},2756:function(e,t,r){"use strict";r.r(t);var n=r("4b58"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"278f":function(e,t,r){"use strict";r.r(t);var n=r("6241"),o=r("e6db");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("f978");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},2877:function(e,t,r){"use strict";function n(e,t,r,n,o,a,i,s){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}r.d(t,"a",(function(){return n}))},"28e0":function(e,t,r){"use strict";var n=r("0542"),o=r.n(n);o.a},"297d":function(e,t,r){"use strict";var n=r("ea03"),o=r.n(n);o.a},"2bff":function(e,t,r){"use strict";r.r(t);var n=r("d6ea"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"2c6f":function(e,t,r){"use strict";r.r(t);var n=r("8839"),o=r("4d5b");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("027b");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"2c84":function(e,t,r){},"2d3a":function(e,t,r){},"2d83":function(e,t,r){"use strict";var n=r("387f");e.exports=function(e,t,r,o,a){var i=new Error(e);return n(i,t,r,o,a)}},"2e67":function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"2f39":function(e,t,r){"use strict";r.r(t);var n=r("31b6"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"2f62":function(e,t,r){"use strict";r.r(t),function(e){
/*!
 * vuex v3.5.1
 * (c) 2020 Evan You
 * @license MIT
 */
function n(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:n});else{var r=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,r.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}r.d(t,"Store",(function(){return b})),r.d(t,"createLogger",(function(){return q})),r.d(t,"createNamespacedHelpers",(function(){return A})),r.d(t,"install",(function(){return j})),r.d(t,"mapActions",(function(){return I})),r.d(t,"mapGetters",(function(){return F})),r.d(t,"mapMutations",(function(){return V})),r.d(t,"mapState",(function(){return M}));var o="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},a=o.__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(e){a&&(e._devtoolHook=a,a.emit("vuex:init",e),a.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){a.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){a.emit("vuex:action",e,t)}),{prepend:!0}))}function s(e,t){return e.filter(t)[0]}function l(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var r=s(t,(function(t){return t.original===e}));if(r)return r.copy;var n=Array.isArray(e)?[]:{};return t.push({original:e,copy:n}),Object.keys(e).forEach((function(r){n[r]=l(e[r],t)})),n}function c(e,t){Object.keys(e).forEach((function(r){return t(e[r],r)}))}function u(e){return null!==e&&"object"===typeof e}function d(e){return e&&"function"===typeof e.then}function f(e,t){return function(){return e(t)}}var p=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=("function"===typeof r?r():r)||{}},h={namespaced:{configurable:!0}};h.namespaced.get=function(){return!!this._rawModule.namespaced},p.prototype.addChild=function(e,t){this._children[e]=t},p.prototype.removeChild=function(e){delete this._children[e]},p.prototype.getChild=function(e){return this._children[e]},p.prototype.hasChild=function(e){return e in this._children},p.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},p.prototype.forEachChild=function(e){c(this._children,e)},p.prototype.forEachGetter=function(e){this._rawModule.getters&&c(this._rawModule.getters,e)},p.prototype.forEachAction=function(e){this._rawModule.actions&&c(this._rawModule.actions,e)},p.prototype.forEachMutation=function(e){this._rawModule.mutations&&c(this._rawModule.mutations,e)},Object.defineProperties(p.prototype,h);var m=function(e){this.register([],e,!1)};function g(e,t,r){if(t.update(r),r.modules)for(var n in r.modules){if(!t.getChild(n))return void 0;g(e.concat(n),t.getChild(n),r.modules[n])}}m.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},m.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,r){return t=t.getChild(r),e+(t.namespaced?r+"/":"")}),"")},m.prototype.update=function(e){g([],this.root,e)},m.prototype.register=function(e,t,r){var n=this;void 0===r&&(r=!0);var o=new p(t,r);if(0===e.length)this.root=o;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],o)}t.modules&&c(t.modules,(function(t,o){n.register(e.concat(o),t,r)}))},m.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1],n=t.getChild(r);n&&n.runtime&&t.removeChild(r)},m.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1];return t.hasChild(r)};var v;var b=function(e){var t=this;void 0===e&&(e={}),!v&&"undefined"!==typeof window&&window.Vue&&j(window.Vue);var r=e.plugins;void 0===r&&(r=[]);var n=e.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new m(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new v,this._makeLocalGettersCache=Object.create(null);var o=this,a=this,s=a.dispatch,l=a.commit;this.dispatch=function(e,t){return s.call(o,e,t)},this.commit=function(e,t,r){return l.call(o,e,t,r)},this.strict=n;var c=this._modules.root.state;x(this,c,[],this._modules.root),k(this,c),r.forEach((function(e){return e(t)}));var u=void 0!==e.devtools?e.devtools:v.config.devtools;u&&i(this)},y={state:{configurable:!0}};function _(e,t,r){return t.indexOf(e)<0&&(r&&r.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function w(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var r=e.state;x(e,r,[],e._modules.root,!0),k(e,r,t)}function k(e,t,r){var n=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,a={};c(o,(function(t,r){a[r]=f(t,e),Object.defineProperty(e.getters,r,{get:function(){return e._vm[r]},enumerable:!0})}));var i=v.config.silent;v.config.silent=!0,e._vm=new v({data:{$$state:t},computed:a}),v.config.silent=i,e.strict&&S(e),n&&(r&&e._withCommit((function(){n._data.$$state=null})),v.nextTick((function(){return n.$destroy()})))}function x(e,t,r,n,o){var a=!r.length,i=e._modules.getNamespace(r);if(n.namespaced&&(e._modulesNamespaceMap[i],e._modulesNamespaceMap[i]=n),!a&&!o){var s=E(t,r.slice(0,-1)),l=r[r.length-1];e._withCommit((function(){v.set(s,l,n.state)}))}var c=n.context=C(e,i,r);n.forEachMutation((function(t,r){var n=i+r;P(e,n,t,c)})),n.forEachAction((function(t,r){var n=t.root?r:i+r,o=t.handler||t;D(e,n,o,c)})),n.forEachGetter((function(t,r){var n=i+r;O(e,n,t,c)})),n.forEachChild((function(n,a){x(e,t,r.concat(a),n,o)}))}function C(e,t,r){var n=""===t,o={dispatch:n?e.dispatch:function(r,n,o){var a=$(r,n,o),i=a.payload,s=a.options,l=a.type;return s&&s.root||(l=t+l),e.dispatch(l,i)},commit:n?e.commit:function(r,n,o){var a=$(r,n,o),i=a.payload,s=a.options,l=a.type;s&&s.root||(l=t+l),e.commit(l,i,s)}};return Object.defineProperties(o,{getters:{get:n?function(){return e.getters}:function(){return T(e,t)}},state:{get:function(){return E(e.state,r)}}}),o}function T(e,t){if(!e._makeLocalGettersCache[t]){var r={},n=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,n)===t){var a=o.slice(n);Object.defineProperty(r,a,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=r}return e._makeLocalGettersCache[t]}function P(e,t,r,n){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){r.call(e,n.state,t)}))}function D(e,t,r,n){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=r.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},t);return d(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function O(e,t,r,n){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return r(n.state,n.getters,e.state,e.getters)})}function S(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function E(e,t){return t.reduce((function(e,t){return e[t]}),e)}function $(e,t,r){return u(e)&&e.type&&(r=t,t=e,e=e.type),{type:e,payload:t,options:r}}function j(e){v&&e===v||(v=e,n(v))}y.state.get=function(){return this._vm._data.$$state},y.state.set=function(e){0},b.prototype.commit=function(e,t,r){var n=this,o=$(e,t,r),a=o.type,i=o.payload,s=(o.options,{type:a,payload:i}),l=this._mutations[a];l&&(this._withCommit((function(){l.forEach((function(e){e(i)}))})),this._subscribers.slice().forEach((function(e){return e(s,n.state)})))},b.prototype.dispatch=function(e,t){var r=this,n=$(e,t),o=n.type,a=n.payload,i={type:o,payload:a},s=this._actions[o];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(i,r.state)}))}catch(c){0}var l=s.length>1?Promise.all(s.map((function(e){return e(a)}))):s[0](a);return new Promise((function(e,t){l.then((function(t){try{r._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(i,r.state)}))}catch(c){0}e(t)}),(function(e){try{r._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(i,r.state,e)}))}catch(c){0}t(e)}))}))}},b.prototype.subscribe=function(e,t){return _(e,this._subscribers,t)},b.prototype.subscribeAction=function(e,t){var r="function"===typeof e?{before:e}:e;return _(r,this._actionSubscribers,t)},b.prototype.watch=function(e,t,r){var n=this;return this._watcherVM.$watch((function(){return e(n.state,n.getters)}),t,r)},b.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},b.prototype.registerModule=function(e,t,r){void 0===r&&(r={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),x(this,this.state,e,this._modules.get(e),r.preserveState),k(this,this.state)},b.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var r=E(t.state,e.slice(0,-1));v.delete(r,e[e.length-1])})),w(this)},b.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},b.prototype.hotUpdate=function(e){this._modules.update(e),w(this,!0)},b.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(b.prototype,y);var M=L((function(e,t){var r={};return R(t).forEach((function(t){var n=t.key,o=t.val;r[n]=function(){var t=this.$store.state,r=this.$store.getters;if(e){var n=G(this.$store,"mapState",e);if(!n)return;t=n.context.state,r=n.context.getters}return"function"===typeof o?o.call(this,t,r):t[o]},r[n].vuex=!0})),r})),V=L((function(e,t){var r={};return R(t).forEach((function(t){var n=t.key,o=t.val;r[n]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var n=this.$store.commit;if(e){var a=G(this.$store,"mapMutations",e);if(!a)return;n=a.context.commit}return"function"===typeof o?o.apply(this,[n].concat(t)):n.apply(this.$store,[o].concat(t))}})),r})),F=L((function(e,t){var r={};return R(t).forEach((function(t){var n=t.key,o=t.val;o=e+o,r[n]=function(){if(!e||G(this.$store,"mapGetters",e))return this.$store.getters[o]},r[n].vuex=!0})),r})),I=L((function(e,t){var r={};return R(t).forEach((function(t){var n=t.key,o=t.val;r[n]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var n=this.$store.dispatch;if(e){var a=G(this.$store,"mapActions",e);if(!a)return;n=a.context.dispatch}return"function"===typeof o?o.apply(this,[n].concat(t)):n.apply(this.$store,[o].concat(t))}})),r})),A=function(e){return{mapState:M.bind(null,e),mapGetters:F.bind(null,e),mapMutations:V.bind(null,e),mapActions:I.bind(null,e)}};function R(e){return N(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function N(e){return Array.isArray(e)||u(e)}function L(e){return function(t,r){return"string"!==typeof t?(r=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,r)}}function G(e,t,r){var n=e._modulesNamespaceMap[r];return n}function q(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var r=e.filter;void 0===r&&(r=function(e,t,r){return!0});var n=e.transformer;void 0===n&&(n=function(e){return e});var o=e.mutationTransformer;void 0===o&&(o=function(e){return e});var a=e.actionFilter;void 0===a&&(a=function(e,t){return!0});var i=e.actionTransformer;void 0===i&&(i=function(e){return e});var s=e.logMutations;void 0===s&&(s=!0);var c=e.logActions;void 0===c&&(c=!0);var u=e.logger;return void 0===u&&(u=console),function(e){var d=l(e.state);"undefined"!==typeof u&&(s&&e.subscribe((function(e,a){var i=l(a);if(r(e,d,i)){var s=z(),c=o(e),f="mutation "+e.type+s;U(u,f,t),u.log("%c prev state","color: #9E9E9E; font-weight: bold",n(d)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",n(i)),H(u)}d=i})),c&&e.subscribeAction((function(e,r){if(a(e,r)){var n=z(),o=i(e),s="action "+e.type+n;U(u,s,t),u.log("%c action","color: #03A9F4; font-weight: bold",o),H(u)}})))}}function U(e,t,r){var n=r?e.groupCollapsed:e.group;try{n.call(e,t)}catch(o){e.log(t)}}function H(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function z(){var e=new Date;return" @ "+W(e.getHours(),2)+":"+W(e.getMinutes(),2)+":"+W(e.getSeconds(),2)+"."+W(e.getMilliseconds(),3)}function B(e,t){return new Array(t+1).join(e)}function W(e,t){return B("0",t-e.toString().length)+e}var Y={Store:b,install:j,version:"3.5.1",mapState:M,mapMutations:V,mapGetters:F,mapActions:I,createNamespacedHelpers:A,createLogger:q};t["default"]=Y}.call(this,r("c8ba"))},"2fbc":function(e,t,r){"use strict";r.r(t);var n=r("49a8"),o=r("993b");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("28e0");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"301f":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},o=[]},3086:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49");let s=class extends o.Vue{constructor(){super(...arguments),this.dirty=!1,this.hasError=!1}escape(){this.hasError=!1,this.$forceUpdate()}update(e){if(!this.dirty)return;let t=e.target.value?moment(e.target.value,this.format):null,r=t&&t.isValid()?t.toDate():null;!r&&e.target.value?this.hasError=!0:(this.hasError=!1,this.changed({value:r}))}changed(e){return{prop:this.prop,val:e.value,vue:this}}get datePick(){return/D/.test(this.format)||/Y/.test(this.format)}click(e){i.glob.cmenu={show:!0,datePicker:{value:this.value,format:this.format},state:this,event:{ctrl:this.$refs.ctrl},handler:(e,t)=>e.changed(t)}}get format(){if(this.prop.time){if(this.prop.time.customFormat)return this.prop.time.customFormat;if(this.prop.time.format)switch(this.prop.time.format){case a.TimeFormat.YearMonthDayHourMinute:return"YYYY/MM/DD - HH:mm";case a.TimeFormat.DateWithDayOfWeek:return"YYYY/MM/DD";case a.TimeFormat.HourMinute:return"HH:mm";case a.TimeFormat.YearMonthDay:return"YYYY/MM/DD";case a.TimeFormat.DayMonthNameYear:return"DD MMM YYYY"}}return"YYYY/MM/DD"}get value(){if(this.hasError)return $(this.$refs.ctrl).val();let e=this.doc[this.prop.name];return e?moment(e).format(this.format):""}};n.__decorate([o.Prop()],s.prototype,"doc",void 0),n.__decorate([o.Prop()],s.prototype,"prop",void 0),n.__decorate([o.Prop()],s.prototype,"viewType",void 0),n.__decorate([o.Prop()],s.prototype,"readOnly",void 0),n.__decorate([o.Prop()],s.prototype,"placeHolder",void 0),n.__decorate([o.Emit("changed")],s.prototype,"changed",null),s=n.__decorate([o.Component({name:"PropTime",components:{}})],s),t.default=s},"30b5":function(e,t,r){"use strict";var n=r("c532");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),a=i.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},"30db":function(e,t,r){"use strict";var n=r("0025"),o=r.n(n);o.a},"30f2":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.imagePreview.show?r("div",{staticClass:"image-preview"},[r("div",{staticClass:"modal-mask",on:{click:function(t){e.glob.imagePreview.show=!1}}},[r("div",{staticClass:"modal-wrapper align-middle text-center"},[r("img",{attrs:{src:e.glob.imagePreview.url}})])])]):e._e()},o=[]},"31b6":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};a=n.__decorate([o.Component({name:"ProgressBar"})],a),t.default=a},"322c":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"log-terminal w-100 bg-dark overflow-auto h-100 small"},[r("div",{staticClass:"w-100 h-100"},[r("div",{staticClass:"p-2 position-absolute"},[r("button",{staticClass:"btn btn-secondary",attrs:{title:"Clear the terminal"},on:{click:e.clear}},[r("i",{staticClass:"fal fa-trash"})]),r("button",{class:{"btn mx-2":1,"btn-light":e.scrollToEnd,"btn-secondary":!e.scrollToEnd},attrs:{title:"Scroll to End"},on:{click:function(t){e.scrollToEnd=!e.scrollToEnd}}},[r("i",{staticClass:"fal fa-arrow-alt-to-bottom"})]),r("button",{class:{btn:1,"btn-light":e.softWrap,"btn-secondary":!e.softWrap},attrs:{title:"Soft Wrap"},on:{click:function(t){e.softWrap=!e.softWrap}}},[r("i",{staticClass:"fal fa-page-break"})]),r("button",{staticClass:"btn btn-secondary mx-2",attrs:{title:"Download"},on:{click:e.download}},[r("i",{staticClass:"fal fa-download"})])]),r("div",{staticClass:"p-2 flex-fill h-0",staticStyle:{"padding-top":"4rem!important"}},[e._l(e.glob.logs,(function(t){return[t?r("div",{directives:[{name:"focus",rawName:"v-focus",value:e.scrollToEnd,expression:"scrollToEnd"}],class:"log-terminal-item type-"+t.type+(e.softWrap?" text-wrap":" text-nowrap"),attrs:{tabindex:"1"}},[e._v(e._s(t.message)+" ")]):r("div",{staticClass:"mb-5"})]}))],2)])])},o=[]},"33fb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49");let s=class extends o.Vue{constructor(){super(...arguments),this.codeMirror=null}onValueChanged(e,t){e!=this.codeMirror.getValue()&&this.codeMirror.setValue(e)}mounted(){if(0!==$(this.$el).next(".CodeMirror").length)return;let e=null,t=null;switch(this.prop.text.editor){case a.TextEditor.HtmlText:e="htmlmixed",t={style:[["type",/^text\/(x-)?scss$/,"text/x-scss"],[null,null,"css"]],custom:[[null,null,"customMode"]]};break;case a.TextEditor.Javascript:e="javascript";break;case a.TextEditor.Css:e="text/x-scss";break;case a.TextEditor.Json:e="javascript";break;case a.TextEditor.Xml:e="application/xml";break;case a.TextEditor.Markdown:e="text/x-markdown";break}this.codeMirror=CodeMirror.fromTextArea(this.$refs.area,{tabSize:4,readOnly:this.readOnly,lineNumbers:!0,autoCloseTags:!0,mode:e,tags:t}),this.codeMirror.setValue(this.value),this.codeMirror.on("change",this.changed),this.codeMirror.on("focus",this.focus)}get value(){return i.getPropTextValue(this.prop,this.doc)||""}changed(){let e=this.codeMirror.getValue();return{prop:this.prop,val:e,vue:this}}focus(e){return{prop:this.prop,event:e}}};n.__decorate([o.Prop()],s.prototype,"doc",void 0),n.__decorate([o.Prop()],s.prototype,"prop",void 0),n.__decorate([o.Prop()],s.prototype,"readOnly",void 0),n.__decorate([o.Watch("value")],s.prototype,"onValueChanged",null),n.__decorate([o.Emit("changed")],s.prototype,"changed",null),n.__decorate([o.Emit("focus")],s.prototype,"focus",null),s=n.__decorate([o.Component({name:"PropTextEditor"})],s),t.default=s},3426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49"),i=n.__importStar(r("cd49"));let s=class extends o.Vue{click(e){a.glob.cmenu.show=!1,a.glob.cmenu.handler(a.glob.cmenu.state,e)}dateChanged(e){a.glob.cmenu.show=!1,a.glob.cmenu.handler(a.glob.cmenu.state,e)}getStyle(e){let t="dropdown-item text-nowrap";return e._cs&&(t+=" "+e._cs),e.hover&&(t+=" active"),t}getTitle(e){let t=e.title||"&nbsp;";return t}calcMenuPosition(){let e,t,r,n,o=0,s=0,l=$(window).height(),c=$(window).width();if(a.glob.cmenu.event.ctrl){let i=$(a.glob.cmenu.event.ctrl);e=r=i.offset().left,t=n=i.offset().top,o=i.outerWidth(),s=i.outerHeight()}else e=r=a.glob.cmenu.event.pageX,t=n=a.glob.cmenu.event.pageY;l-n<300?n=l-t:(n=0,t+=s),r=i.isRtl()||e>c-300?c-e-o:0,a.glob.cmenu.left=e,a.glob.cmenu.right=r,a.glob.cmenu.top=t,a.glob.cmenu.bottom=n}get style(){this.calcMenuPosition();let e={};return a.glob.cmenu.right?(e.right=a.glob.cmenu.right+"px",e.left="auto"):e.left=a.glob.cmenu.left+"px",a.glob.cmenu.bottom?(e.bottom=a.glob.cmenu.bottom+"px",e.top="auto"):e.top=a.glob.cmenu.top+"px",e}};s=n.__decorate([o.Component({name:"ContextMenu"})],s),t.default=s},"343f":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"filter-item py-2 badge badge-pill badge-info"},[e._v(e._s(e.item.title)+" "),r("i",{staticClass:"fas fa-times ml-2",on:{click:e.close}})])},o=[]},"34a0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{fileBrowsed(e){let t=e.target.files;t.length||a.glob.fileBrowsed([]);let r=[];for(const n of t)r.push({name:n.name,size:n.size,lastModified:n.lastModified,type:n.type,_:{rawData:n,uri:URL.createObjectURL(n)}});a.glob.fileBrowsed(r)}};i=n.__decorate([o.Component({name:"BrowseFile"})],i),t.default=i},"34e4":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{staticClass:"d-none h-0 w-0",attrs:{id:"file-browse",type:"file",multiple:"true"},on:{change:e.fileBrowsed}})},o=[]},"355f":function(e,t,r){"use strict";r.r(t);var n=r("cb05"),o=r("f3f5");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"09f46f9f",null);t["default"]=s.exports},3659:function(e,t,r){"use strict";r.r(t);var n=r("fc26"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"366c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49");let s=class extends o.Vue{render(e){if(!this.uri)return console.error("Element 'object-view' needs obj property."),e("div","...");let t=this.$store.state.data[this.uri];const r=i.glob.form.declarations[this.uri];if(!r)return console.log("glob.form.declarations",i.glob.form.declarations),console.error(`dec is empty for ref '${this.uri}'`),e("div","...");let n={uri:this.uri,dec:r,level:this.level};if(!Array.isArray(t)){let t=r.detailsViewType||a.ObjectDetailsViewType.Tabular;return t===a.ObjectDetailsViewType.Tree?e("tree-view",{props:n}):e("details-view",{props:n})}{let t=r.listsViewType||a.ObjectListsViewType.Grid;switch(t){default:case a.ObjectListsViewType.Grid:return e("grid-view",{props:n});case a.ObjectListsViewType.Card:return e("card-view",{props:n})}}}};n.__decorate([o.Prop()],s.prototype,"uri",void 0),n.__decorate([o.Prop()],s.prototype,"level",void 0),s=n.__decorate([o.Component({name:"ObjectView"})],s),t.default=s},"36f7":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dropdown cursor-pointer",attrs:{title:"Feedback"}},[e._m(0),r("div",{staticClass:"dropdown-menu dropdown-menu-right filter-panel p-5",staticStyle:{width:"30rem"},attrs:{"aria-labelledby":"feedbackButton"}},[r("form",[e.showOverall?r("div",[r("div",{staticClass:"mr-2 font-weight-bold"},[e._v("How is experience going?")]),r("div",{staticClass:"mr-2 small"},[e._v("Your feedback helps us improve.")]),r("div",{staticClass:"my-2 py-3"},[r("button",{staticClass:"btn btn-link pl-0",attrs:{title:"Awful!"},on:{click:function(t){return e.postOverall("awful")}}},[r("i",{staticClass:"fad fa-tired fa-2x",staticStyle:{color:"#F00"}})]),r("button",{staticClass:"btn btn-link",attrs:{title:"Not Good!"},on:{click:function(t){return e.postOverall("not-good")}}},[r("i",{staticClass:"fad fa-frown fa-2x",staticStyle:{color:"#600"}})]),r("button",{staticClass:"btn btn-link",attrs:{title:"Average!"},on:{click:function(t){return e.postOverall("average")}}},[r("i",{staticClass:"fad fa-meh fa-2x",staticStyle:{color:"#999"}})]),r("button",{staticClass:"btn btn-link",attrs:{title:"Good!"},on:{click:function(t){return e.postOverall("good")}}},[r("i",{staticClass:"fad fa-smile fa-2x",staticStyle:{color:"#060"}})]),r("button",{staticClass:"btn btn-link",attrs:{title:"Perfect!"},on:{click:function(t){return e.postOverall("perfect")}}},[r("i",{staticClass:"fad fa-laugh-beam fa-2x",staticStyle:{color:"#0A0"}})])])]):e._e(),e.showComments?r("div",[r("div",{staticClass:"font-weight-bold"},[e._v("How can we improve it?")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.feedbackComment,expression:"feedbackComment"}],staticClass:"w-100 p-2",domProps:{value:e.feedbackComment},on:{input:function(t){t.target.composing||(e.feedbackComment=t.target.value)}}}),r("button",{staticClass:"btn btn-success px-4 mt-2",on:{click:e.postFeedback}},[e._v("Post")])]):e._e(),e.showComments||e.showOverall?e._e():r("div",{staticClass:"font-weight-bold m-2"},[e._v("Thanks for your feedback.")])])])])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"text-white",attrs:{id:"feedbackButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("i",{staticClass:"fal fa-comment-alt-exclamation px-1"}),r("span",{},[e._v("Feedback")])])}]},"377b":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"info-box d-flex"},[r("span",{staticClass:"info-box-icon flex-column",style:{"background-color":e.color}},[r("i",{class:"fad "+e.icon})]),r("div",{staticClass:"p-2 flex-column"},[r("div",{staticClass:"info-box-text"},[e._v(e._s(e.title))]),r("div",{staticClass:"info-box-number font-weight-bold"},[e._v(e._s(e.value))])])])},o=[]},"387f":function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},"38ed":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};a=n.__decorate([o.Component({name:"ImagePreview"})],a),t.default=a},3934:function(e,t,r){"use strict";var n=r("c532");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},3955:function(e,t,r){},3978:function(e,t,r){},"398a":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("a76d"),s=r("cd49");let l=class extends o.Vue{constructor(){super(...arguments),this.filterOperator=null}render(e){let t=this,r=e(this.allowPropChange?"a":"div",{attrs:{class:"filter-prop-title"+(this.allowPropChange?"":" font-weight-bold"),href:"javascript:void(0);"},on:{click:t.changeFilterProp}},this.prop.title||this.prop.name),n=e("a",{attrs:{class:"filter-prop-oper border rounded bg-white px-4 px-md-2 py-1 py-md-1 font-weight-bold mx-1",href:"javascript:void(0);"},on:{click:t.changeOperator}},s.$t("opr-"+this.filterOperator)),o=this.renderValue(e,"filter-prop-value d-flex align-items-center px-1 border-0");return e("div",{attrs:{class:"d-flex align-items-center"}},[r,n,o])}onPropChanged(e,t){this.filterOperator=this.catchOperator()}mounted(){this.filterOperator=this.catchOperator()}changed(e){(this.prop._.isRef||this.prop._.gtype!=a.GlobalType.string&&this.prop._.gtype!=a.GlobalType.number)&&this.raiseChanged(e)}raiseChanged(e){let t=e.filterVal;if(null!=e.val)switch(this.filterOperator){case i.FilterOperator.Like:t={$RegExp:"/"+e.val+"/i"};break;case i.FilterOperator.StartWith:t={$RegExp:"/^"+e.val+"/i"};break;case i.FilterOperator.EndWith:t={$RegExp:"/"+e.val+"$/i"};break;case i.FilterOperator.Yes:t=!0;break;case i.FilterOperator.No:t={$ne:!0};break;case i.FilterOperator.NotEqual:t={$ne:e.val};break;case i.FilterOperator.GreaterThan:t={$gt:e.val};break;case i.FilterOperator.GreaterThanEqual:t={$gte:e.val};break;case i.FilterOperator.LessThan:t={$lt:e.val};break;case i.FilterOperator.LessThanEqual:t={$lte:e.val};break;case i.FilterOperator.In:t={$in:e.val};break;case i.FilterOperator.NotIn:t={$nin:e.val};break;case i.FilterOperator.Exist:t=this.prop._.gtype==a.GlobalType.string?{$RegExp:"/\\w/"}:{$exists:!0};break;case i.FilterOperator.None:t=this.prop._.gtype==a.GlobalType.string?{$not:{$RegExp:"/\\w/"}}:{$null:!0};break;case i.FilterOperator.Equal:t=e.val;break}return{prop:e.prop,val:e.val,filterVal:t}}keydown(e){if(console.log(1),e.event.keyCode==a.Keys.enter){let t;t=this.prop._.gtype==a.GlobalType.string?e.event.target.value.trim():this.prop._.gtype==a.GlobalType.number?NaN!=e.event.target.valueAsNumber?parseInt(e.event.target.value):e.event.target.valueAsNumber:this.filterDoc[this.prop.name],""===t&&(t=null),this.raiseChanged({prop:this.prop,val:t})}}get propFilter(){let e=this.filter.$and.find(e=>this.prop.name==Object.keys(e.$or[0])[0]);return e&&e.$or?e.$or[0][this.prop.name]:null}changeFilterProp(e){return e}catchOperator(){let e=this.filterDoc[this.prop.name],t=this.propFilter;if(!t){if(this.prop._.isRef)return i.FilterOperator.Equal;switch(this.prop._.gtype){case a.GlobalType.boolean:return!0===e?i.FilterOperator.Yes:!1===e?i.FilterOperator.No:i.FilterOperator.Select;case a.GlobalType.string:return i.FilterOperator.Like}return i.FilterOperator.Equal}return t instanceof RegExp?/^\/\^/.test(t.toString())?i.FilterOperator.StartWith:/\$\/i?$/.test(t.toString())?i.FilterOperator.EndWith:/\/\\w\//.test(t.toString())?i.FilterOperator.Exist:i.FilterOperator.Like:t.$not&&t.$not.$RegExp?/\/\\w\//.test(t.$not.$RegExp)?i.FilterOperator.None:void 0:t.$gt?i.FilterOperator.GreaterThan:t.$gte?i.FilterOperator.GreaterThanEqual:t.$lt?i.FilterOperator.LessThan:t.$lte?i.FilterOperator.LessThanEqual:t.$in?i.FilterOperator.In:!0===t.$ne?i.FilterOperator.No:t.$ne?i.FilterOperator.NotEqual:t.$nn?i.FilterOperator.NotNull:t.$null?i.FilterOperator.None:t.$exists?i.FilterOperator.Exist:t.$nin?i.FilterOperator.NotIn:"string"==typeof t?i.FilterOperator.Equal:!0===t?i.FilterOperator.Yes:i.FilterOperator.Equal}changeOperator(e){let t;if(this.prop._.isRef)t=[i.FilterOperator.Equal,i.FilterOperator.NotEqual,i.FilterOperator.None,i.FilterOperator.Exist];else switch(this.prop._.gtype){case a.GlobalType.string:t=[i.FilterOperator.Like,i.FilterOperator.Equal,i.FilterOperator.NotEqual,i.FilterOperator.StartWith,i.FilterOperator.EndWith,i.FilterOperator.None,i.FilterOperator.Exist];break;case a.GlobalType.number:t=[i.FilterOperator.Equal,i.FilterOperator.NotEqual,i.FilterOperator.GreaterThan,i.FilterOperator.GreaterThanEqual,i.FilterOperator.LessThan,i.FilterOperator.LessThanEqual,i.FilterOperator.None,i.FilterOperator.Exist];break;case a.GlobalType.time:t=[i.FilterOperator.Equal,i.FilterOperator.NotEqual,i.FilterOperator.Null,i.FilterOperator.NotNull,i.FilterOperator.GreaterThan,i.FilterOperator.GreaterThanEqual,i.FilterOperator.LessThan,i.FilterOperator.LessThanEqual,i.FilterOperator.None,i.FilterOperator.Exist];break;case a.GlobalType.boolean:t=[i.FilterOperator.Select,i.FilterOperator.Yes,i.FilterOperator.No];break;default:t=[i.FilterOperator.None,i.FilterOperator.Exist];break}let r=t.map(e=>({ref:e,title:s.$t("opr-"+e)}));s.showCmenu(this,r,e,(e,t)=>{if(t){e.filterOperator=t.ref;let r=this.filterDoc[this.prop.name];switch(e.filterOperator){case i.FilterOperator.No:case i.FilterOperator.Exist:case i.FilterOperator.None:case i.FilterOperator.Yes:r="";break;default:r=r||null;break}this.raiseChanged({prop:this.prop,val:r})}})}renderValue(e,t){if(this.filterOperator==i.FilterOperator.None||this.filterOperator==i.FilterOperator.Exist||this.filterOperator==i.FilterOperator.Null||this.filterOperator==i.FilterOperator.NotNull||null==this.filterDoc)return null;let r={doc:this.filterDoc,name:this.prop.name,prop:this.prop,viewType:a.ObjectViewType.Filter,styles:t,readOnly:!1};if(this.prop._.isRef)return e("prop-reference",{attrs:{class:"prop-reference "+t},on:{changed:this.changed,keydown:this.keydown},props:r});switch(this.prop._.gtype){case a.GlobalType.string:return e("prop-text",{attrs:{type:"text",class:t},on:{changed:this.changed,keydown:this.keydown},props:r});case a.GlobalType.number:return e("prop-text",{attrs:{type:"number",class:t},on:{changed:this.changed,keydown:this.keydown},props:r});case a.GlobalType.time:return e("prop-time",{attrs:{class:"prop-time "+t},on:{changed:this.changed,keydown:this.keydown},props:r});case a.GlobalType.location:return e("prop-location",{on:{changed:this.changed,keydown:this.keydown},props:r})}return null}};n.__decorate([o.Prop()],l.prototype,"filter",void 0),n.__decorate([o.Prop()],l.prototype,"filterDoc",void 0),n.__decorate([o.Prop()],l.prototype,"prop",void 0),n.__decorate([o.Prop()],l.prototype,"allowPropChange",void 0),n.__decorate([o.Watch("prop")],l.prototype,"onPropChanged",null),n.__decorate([o.Emit("changed")],l.prototype,"raiseChanged",null),n.__decorate([o.Emit("changeFilterProp")],l.prototype,"changeFilterProp",null),l=n.__decorate([o.Component({name:"PropertyFilter",components:{}})],l),t.default=l},"3a77":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{attrs:{href:e.ref},on:{click:e.click,keydown:e.keydown}},[e._v(e._s(e.value))])},o=[]},"3a8e":function(e,t,r){"use strict";r.r(t);var n=r("6ad3"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"3a8f":function(e,t,r){"use strict";r.r(t);var n=r("b2bc"),o=r("760b");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"3aea":function(e,t,r){"use strict";r.r(t);var n=r("c8f8"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"3c4d":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"roll-picker d-flex"},[r("hr",{staticClass:"position-absolute",staticStyle:{"margin-top":"100px"}}),r("hr",{staticClass:"position-absolute",staticStyle:{"margin-top":"150px"}}),r("span",{staticClass:"px-1 caption position-absolute text-secondary",staticStyle:{"margin-top":"100px"}},[e._v(e._s(e.caption))]),r("div",{ref:"sc",staticClass:"scroll-content w-100",style:{padding:2*e.itemHeight+"px 0"},on:{scroll:e.scroll}},[r("ul",{staticClass:"p-0 mb-0"},e._l(e.items,(function(t,n){return r("li",{class:{"px-3 text-center pt-2":!0,level0:e.itemStyle(n,0),level1:e.itemStyle(n,1),level2:e.itemStyle(n,2)},style:{height:e.itemHeight+"px"},on:{click:function(t){return e.click(n)}}},[e._v(e._s(t)+" ")])})),0)])])},o=[]},"3c99":function(e,t,r){"use strict";var n=r("7375"),o=r.n(n);o.a},"3d57":function(e,t,r){"use strict";var n=r("d952"),o=r.n(n);o.a},"3d70":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49"),s=n.__importStar(r("cd49"));let l=class extends o.Vue{get glob(){return i.glob}emit(e,...t){i.glob.socket.emit(e,...t)}mounted(){i.glob.config.interactive&&(console.log("web-socket initing ..."),i.glob.socket?i.glob.socket.on("cmd",this.handleCommand):console.warn("WebSocket: glob.socket is null!"))}handleCommand(e,...t){switch(e){case a.ClientCommand.Log:i.glob.logs.push({message:t[0],type:t[1],ref:t[2]});break;case a.ClientCommand.PingAck:console.log("socket is ready");break;case a.ClientCommand.Notification:s.notify(t[0],t[1]);break;case a.ClientCommand.Question:s.question(t[0],t[1],t[2],{questionId:t[3]},e=>{i.glob.socket.emit("cmd",a.ClientCommand.Answer,t[3],e)});break;case a.ClientCommand.FunctionDone:i.glob.logs.push({message:"done!",type:a.LogType.Info}),i.glob.logs.push(null);break;case a.ClientCommand.Download:window.open(t[0]);break;case a.ClientCommand.FunctionFailed:i.glob.logs.push({message:t[0],type:a.LogType.Error}),i.glob.logs.push(null);break}}};l=n.__decorate([o.Component({name:"WebSocket"})],l),t.default=l},"3dfd":function(e,t,r){"use strict";r.r(t);var n=r("5de6"),o=r("6f68");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("5c0b");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},4044:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{"prop-location prop-value fa-lg":!0,"has-data":e.value},on:{click:e.changing}},[r("i",{class:{"fa-map-marker text-dark":1,fal:!e.value,fas:e.value}})])},o=[]},4092:function(e,t,r){"use strict";var n=r("47e4"),o=r.n(n);o.a},4098:function(e,t,r){},"40ff":function(e,t,r){"use strict";r.r(t);var n=r("db9d"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},4298:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("a76d"),s=r("cd49");let l=class extends o.Vue{mounted(){}showMenu(e,t){if(this.prop.file&&this.prop.file.drive){let r=[{title:this.title(e)+" ("+this.size(e)+")"},{ref:"preview",title:s.$t("preview")},{title:"-"},{ref:"select",title:s.$t("select")},{ref:"download",title:s.$t("download")},{title:"-"},{ref:"remove",title:s.$t("remove")}];s.showCmenu(e,r,t,this.selectMenu)}}selectMenu(e,t){if(s.hideCmenu(),t)switch(t.ref){case"preview":s.glob.imagePreview.url=e._.uri,s.glob.imagePreview.show=!0;break;case"download":window.open(e._.uri+"?m="+a.RequestMode.download,"_blank");break;case"remove":this.changed(i.ChangeType.DeleteFile);break;case"select":this.selectFile();break}}selectFromGallery(e,t){let r="http://"+s.joinUri(this.prop._.fileUri,e,t.name),n={path:e,_:{uri:r},name:t.name,size:t.size,lastModified:t.lastModified},o=this.doc[this.prop.name];Array.isArray(o)?(o=[...o],o.push(n)):o=n,this.changed(i.ChangeType.SelectFile,o)}selectFile(e){e&&e.stopProgress();let t=this.getVal();if(this.prop.file&&this.prop.file.drive)if(this.prop.file.gallery){let e=t&&t.path?t.path:this.prop.file.path;s.openFileGallery(this.prop.file.drive,t?t.name:null,e,!!this.prop.file.path,this.selectFromGallery)}else this.openFileBrowse(t);else this.openFileBrowse(t)}getVal(){let e=this.doc[this.prop.name];return this.prop.isList&&(e?Array.isArray(e)||(e=[e]):e=[]),e}openFileBrowse(e){s.browseFile(t=>{if(t&&t.length){for(let e of t)e.path=this.prop.file?this.prop.file.path:"",e.name=i.ID.generateByBrowser()+"__"+e.name;this.prop.file&&this.prop.file.sizeLimit&&t.find(e=>e.size>this.prop.file.sizeLimit)?s.notify("File size must be less than "+this.prop.file.sizeLimit,a.LogType.Error):(e=this.prop.isList?e.concat(...t):t[0],this.changed(i.ChangeType.UploadFile,e))}})}remove(e,t){let r=this.doc[this.prop.name];Array.isArray(r)?(r=r.filter(t=>t.name!=e.name),0==r.length&&(r=null)):r=null,this.changed(i.ChangeType.DeleteFile),t.stopPropagation()}changed(e,t){return{prop:this.prop,item:this.doc,val:t,vue:this,type:e}}size(e){return e.size?s.toFriendlyFileSizeString(e.size):null}title(e){return this.prop.file&&!this.prop.file.gallery||i.Constants.uniqueFilenameRegex.test(e.name)?e.name.replace(i.Constants.uniqueFilenameRegex,""):e.path?s.joinUri(e.path,e.name):e.name}resetFileInfo(e,t){e.path&&e.path[0]&&e.path[0].naturalWidth&&(t._.dimensions=e.path[0].naturalWidth+" x "+e.path[0].naturalHeight,this.$forceUpdate())}get showBrowseButton(){return(!this.files||this.prop.isList||!this.prop.file)&&!this.readOnly}get files(){let e=this.doc[this.prop.name];return e&&0!=e.length?(Array.isArray(e)||(e=[e]),e):null}get allowUpload(){return!this.files||this.prop.isList}};n.__decorate([o.Prop()],l.prototype,"prop",void 0),n.__decorate([o.Prop()],l.prototype,"doc",void 0),n.__decorate([o.Prop()],l.prototype,"viewType",void 0),n.__decorate([o.Prop()],l.prototype,"styles",void 0),n.__decorate([o.Prop()],l.prototype,"readOnly",void 0),n.__decorate([o.Emit("changed")],l.prototype,"changed",null),l=n.__decorate([o.Component({name:"PropFile",components:{}})],l),t.default=l},4357:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("a76d"),s=n.__importStar(r("cd49"));let l=class extends o.Vue{constructor(){super(...arguments),this.nodes=[]}mounted(){let e=this.$store.state.data[this.uri],t=s.getDec(e),r=t.properties,n=this.createNode(e,r);this.nodes=[n]}click(e){this.$refs.textInput.focus(),this.locateCursor()}locateCursor(){let e=$(".current-token"),t=e.offset().left+e.width(),r=e.offset().top,n=this.$refs.blinkingCursor;n.style.left=t+"px",n.style.top=r+"px"}lineKeyClick(){console.log("lineKeyClick")}checkToken(e){return!!this.data.language.types[e]&&($(".current-token").addClass("line-key").removeClass("current-token").click(this.lineKeyClick),!0)}keydown(e){let t=$(".current-token"),r=e.keyCode;if(e.ctrlKey||e.altKey)return;let n=r>47&&r<58||13==r||r>64&&r<91||r>95&&r<112||r>185&&r<193||r>218&&r<223;if(n)return void t.text(t.text()+e.key);this.data.language;switch(r){case a.Keys.backspace:t.text(t.text().substr(0,t.text().length-1));break;case a.Keys.space:if(this.checkToken(t.text()))return;t.text(t.text()+e.key);break;case a.Keys.tab:this.checkToken(t.text());break;default:console.log(e);break}}createNode(e,t,r){let n=new i.TreeViewNode;if(n.nodes=[],r&&r.isList){if(n.line={head:"..",subject:{name:"name",_:{gtype:a.GlobalType.string}},item:{name:r.name},attrs:[]},Array.isArray(e))for(const o of e){let e=this.createNode(o,t,null);n.nodes.push(e)}}else{n.line=this.createLine(e,t,r);let o=t.filter(e=>e._.gtype==a.GlobalType.object);for(const t of o)if(e[t.name]){let r=this.createNode(e[t.name],t.properties,t);n.nodes.push(r)}}return n}createLine(e,t,r){let n=[],o=t.filter(e=>e._.gtype!=a.GlobalType.object),i=r?{name:"__name",_:{gtype:a.GlobalType.string}}:o.shift();if(e){r&&(e.__name=r.name);for(const t of o)t.text&&t.text.password||n.push({prop:t,item:e})}return{head:"..",subject:i,item:e,attrs:n}}};n.__decorate([o.Prop()],l.prototype,"uri",void 0),n.__decorate([o.Prop()],l.prototype,"data",void 0),l=n.__decorate([o.Component({name:"TreeView",components:{}})],l),t.default=l},4362:function(e,t,r){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";t.cwd=function(){return n},t.chdir=function(t){e||(e=r("df7c")),n=e.resolve(t,n)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"43b2":function(e,t,r){"use strict";r.r(t);var n=r("b5f6");for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("f5e9");var a,i,s=r("2877"),l=Object(s["a"])(n["default"],a,i,!1,null,null,null);t["default"]=l.exports},"445a":function(e,t,r){"use strict";var n=r("8547"),o=r.n(n);o.a},"446c":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"prop-time"},[r("div",{staticClass:"d-flex"},[r("input",{ref:"ctrl",class:{"w-100 flex-grow-1 border-0":1,"prop-error":e.hasError},attrs:{type:"text",placeholder:e.placeHolder,name:1!=e.viewType?e.prop.name:null,readonly:e.readOnly},domProps:{value:e.value},on:{focus:function(t){return e.$emit("focus",t)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.escape(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.update(t)}],input:function(t){e.dirty=!0},blur:e.update}}),e.readOnly?e._e():r("div",{staticClass:"dropdown"},[r("i",{class:{"fa text-muted":1,"ml-1":e.ltr,"mr-1":e.rtl,"fa-clock":!e.datePick,"fa-calendar-alt":e.datePick},on:{click:e.click}})])])])},o=[]},4497:function(e,t,r){"use strict";r.r(t);var n=r("3a77"),o=r("3659");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"256aa92c",null);t["default"]=s.exports},4667:function(e,t,r){"use strict";r.r(t);var n=r("4745"),o=r("40ff");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"2d09a29c",null);t["default"]=s.exports},"467f":function(e,t,r){"use strict";var n=r("2d83");e.exports=function(e,t,r){var o=r.config.validateStatus;!o||o(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},4745:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"el",staticClass:"d-block w-100 border-0",attrs:{contenteditable:"true"},on:{input:e.updateHTML}})},o=[]},"474f":function(e,t,r){"use strict";r.r(t);var n=r("c7ce");for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);var a,i,s=r("2877"),l=Object(s["a"])(n["default"],a,i,!1,null,null,null);t["default"]=l.exports},"47e4":function(e,t,r){},"485d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{mounted(){this.$el.innerHTML=marked(this.content)}updateHTML(e){return{val:e.target.innerHTML}}};n.__decorate([o.Prop()],a.prototype,"content",void 0),n.__decorate([o.Prop()],a.prototype,"styles",void 0),n.__decorate([o.Emit("input")],a.prototype,"updateHTML",null),a=n.__decorate([o.Component({name:"MarkdownEditable"})],a),t.default=a},"49a8":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb p-0 m-0 bg-transparent d-flex align-items-center"},[r("li",{staticStyle:{"margin-inline-end":"1rem"}},[r("button",{staticClass:"btn hover-opacity btn-link px-1 py-0",attrs:{title:"Go Back"},on:{click:e.goBack}},[r("i",{class:{"fal text-secondary fa-2x":1,"fa-arrow-circle-left":e.ltr,"fa-arrow-circle-right":e.rtl}})])]),e._l(e.breadcrumb,(function(t){return r("li",{staticClass:"breadcrumb-item"},[r("a",{attrs:{href:t.ref}},[e._v(e._s(t.title))]),r("i",{class:{"fa my-1":1,"fa-chevron-right ml-2":e.ltr,"fa-chevron-left mr-2":e.rtl}})])})),r("li",{staticClass:"breadcrumb-item d-flex align-items-center font-weight-bold active",attrs:{"aria-current":"page"}},[r("div",[e._v(e._s(e.title))]),e.count?r("span",{staticClass:"text-muted small px-1"},[e._v("("+e._s(e.countTitle)+")")]):e._e()])],2)])},o=[]},"49bd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{close(){this.select(null)}select(e){a.glob.question.buttons=[],a.glob.question.show=!1,this.$forceUpdate(),a.glob.question.select(e)}updated(){this.$nextTick(()=>{$(this.$el).find(".main-footer button:first").focus()})}get message(){return a.glob.question.message?marked(a.glob.question.message):""}};i=n.__decorate([o.Component({name:"QuestionBox",components:{}})],i),t.default=i},"4a5f":function(e,t,r){"use strict";r.r(t);var n=r("99f2"),o=r("7820");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("7505");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"4a7b":function(e,t,r){"use strict";var n=r("c532");e.exports=function(e,t){t=t||{};var r={},o=["url","method","params","data"],a=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(o,(function(e){"undefined"!==typeof t[e]&&(r[e]=t[e])})),n.forEach(a,(function(o){n.isObject(t[o])?r[o]=n.deepMerge(e[o],t[o]):"undefined"!==typeof t[o]?r[o]=t[o]:n.isObject(e[o])?r[o]=n.deepMerge(e[o]):"undefined"!==typeof e[o]&&(r[o]=e[o])})),n.forEach(i,(function(n){"undefined"!==typeof t[n]?r[n]=t[n]:"undefined"!==typeof e[n]&&(r[n]=e[n])}));var s=o.concat(a).concat(i),l=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return n.forEach(l,(function(n){"undefined"!==typeof t[n]?r[n]=t[n]:"undefined"!==typeof e[n]&&(r[n]=e[n])})),r}},"4aa5":function(e,t,r){"use strict";r.r(t);var n=r("50cb"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"4af1":function(e,t,r){"use strict";r.r(t);var n=r("147e"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"4b03":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};a=n.__decorate([o.Component({name:"HelperObjects",components:{}})],a),t.default=a},"4b13":function(e,t,r){},"4b58":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{isActive(e){return location.pathname==e.ref}};n.__decorate([o.Prop()],a.prototype,"items",void 0),a=n.__decorate([o.Component({name:"Tree"})],a),t.default=a},"4b67":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49"),i=n.__importStar(r("cd49"));let s=class extends o.Vue{update(e){let t=e.target.value;""===t&&(t=null);let r=this.doc[this.prop.name];if(this.prop.text&&this.prop.text.multiLanguage)if(null==r&&this.$set(this.doc,this.prop.name,{}),a.glob.config.locale){if("string"==typeof r){let e=r;r={},r[a.glob.config.defaultLocale]=e,r[a.glob.config.locale]=t,this.$set(this.doc,this.prop.name,r)}else r=r||{};this.$set(this.doc[this.prop.name],a.glob.config.locale,t),r[a.glob.config.locale]=t}else r&&"object"==typeof r&&a.glob.config.defaultLocale?(this.$set(this.doc[this.prop.name],a.glob.config.defaultLocale,t),r[a.glob.config.defaultLocale]=t):r=t;else r=t;return{prop:this.prop,val:r,vue:this}}focus(e){return{prop:this.prop,event:e}}get value(){return i.getPropTextValue(this.prop,this.doc)}};n.__decorate([o.Prop()],s.prototype,"doc",void 0),n.__decorate([o.Prop()],s.prototype,"prop",void 0),n.__decorate([o.Prop()],s.prototype,"readOnly",void 0),n.__decorate([o.Emit("changed")],s.prototype,"update",null),n.__decorate([o.Emit("focus")],s.prototype,"focus",null),s=n.__decorate([o.Component({name:"PropTextMultiline"})],s),t.default=s},"4bfd":function(e,t,r){"use strict";r.r(t);var n=r("12b9"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"4cc3":function(e,t,r){"use strict";r.r(t);var n=r("cf31"),o=r("0132");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("a01c");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"4d5b":function(e,t,r){"use strict";r.r(t);var n=r("dc11"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"4dd8":function(e,t,r){"use strict";r.r(t);var n=r("185b"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"4de4":function(e,t,r){},"4ed8":function(e,t,r){"use strict";r.r(t);var n=r("81ce"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"4f1b":function(e,t,r){"use strict";var n=r("9587"),o=r.n(n);o.a},"4f43":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.json2bson=t.parse=t.stringify=t.getBsonValue=t.ID=void 0;let n=(()=>{class e{constructor(e){this._bsontype="ObjectID",this.id=new Uint8Array(e.match(/[\da-f]{2}/gi).map(e=>parseInt(e,16)))}static generateByBrowser(){if(this.machine)return this.generate();{localStorage.getItem("mongoMachineId");let e=this.generate();return localStorage.setItem("mongoMachineId",this.machine.toString()),e}}static generate(){this.machine=this.machine||Math.floor(16777216*Math.random());let t=this.machine.toString(16);this.increment=this.increment||Math.floor(16777216*Math.random()),this.increment=this.increment>=16777215?0:this.increment+1;let r=this.increment.toString(16);this.pid=this.pid||Math.floor(65536*Math.random());let n=this.pid.toString(16),o=Math.floor((new Date).valueOf()/1e3),a=o.toString(16),i="00000000".substr(0,8-a.length)+a+"000000".substr(0,6-t.length)+t+"0000".substr(0,4-n.length)+n+"000000".substr(0,6-r.length)+r;return new e(i)}equals(e){return this.toString()==e.toString()}toString(){return Array.from(this.id).map(e=>("0"+e.toString(16)).slice(-2)).join("")}}return e.increment=0,e.machine=0,e.pid=0,e})();function o(e,t){if(null==e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e)return e;if("function"==typeof e)return{$Func:!0};if(Array.isArray(e))return e.map(e=>o(e,t));if(e instanceof Date)return{$Date:e.toISOString()};if(e instanceof RegExp)return{$RegExp:e.toString()};if(e._bsontype&&"objectid"==e._bsontype.toLowerCase())return{$oid:e.toString()};if(t&&t.has(e))return t.get(e);{let r={};return a(e,r,t),r}}function a(e,t,r){if(!r.has(e)){r.set(e,t);for(const a in e)try{t[a]=o(e[a],r)}catch(n){throw n}}}function i(e,t=!1){if(null==e)return null;if(t){let t=new WeakMap;if(Array.isArray(e)){let r=e.map(e=>o(e,t));return d(r)}let r={};return a(e,r,t),d(r)}return d(e)}function s(e,t=!1,r=n){if(!e)return null;if("string"!=typeof e)return e;if(t){let t=f(e),n=new WeakSet;return l(t,n,r)}return f(e)}function l(e,t,r){if(t.has(e))return e;t.add(e);for(const n in e){let o=e[n];if(null!=o&&"object"==typeof o)if(o.$oid)e[n]=new r(o.$oid);else if(o.$Date)e[n]=new Date(Date.parse(o.$Date));else if(o.$RegExp){let t=o.$RegExp.match(/\/(.+)\/(.*)/);e[n]=new RegExp(t[1],t[2])}else e[n]=l(o,t,r)}return e}function c(e,t,r){let n,o,a,i,s,l=r.get(e);if(null!=l)return l;let u=t.length,d=Object.prototype.toString.call(e);if("[object Object]"===d){n={},r.set(e,u),t.push(n);let l=Object.keys(e);for(i=0,s=l.length;i<s;i++)o=l[i],a=e[o],n[o]=c(a,t,r)}else if("[object Array]"===d)for(n=[],r.set(e,u),t.push(n),i=0,s=e.length;i<s;i++)a=e[i],n[i]=c(a,t,r);else t.push(e);return u}function u(e){let t,r,n,o,a,i,s=e.length;while(s--)if(n=e[s],i=Object.prototype.toString.call(n),"[object Object]"===i){let i=Object.keys(n);for(t=0,r=i.length;t<r;t++)o=i[t],a=e[n[o]],n[o]=a}else if("[object Array]"===i)for(t=0,r=n.length;t<r;t++)a=e[n[t]],n[t]=a}function d(e,t){try{return 1===arguments.length?JSON.stringify(e):JSON.stringify(e,t)}catch(r){let n=[];return c(e,n,new Map),t?" "+JSON.stringify(n,null,t):" "+JSON.stringify(n)}}function f(e){let t=/^\s/.test(e);if(t){let t=JSON.parse(e);return u(t),t[0]}return JSON.parse(e)}t.ID=n,t.getBsonValue=o,t.stringify=i,t.parse=s,t.json2bson=l},"4fdd":function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i};Object.defineProperty(t,"__esModule",{value:!0});const o=r("60a3"),a=r("cd49");let i=class extends o.Vue{toggleSideNav(){a.glob.showNavMenu=!1}clickLink(e,t){$("a.active").removeClass("active"),$(`a[href='${t.ref}']`).addClass("active")}};i=n([o.Component({name:"NavMenu"})],i),t.default=i},5008:function(e,t,r){},5010:function(e,t,r){"use strict";r.r(t);var n=r("a5bc"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},5037:function(e,t,r){"use strict";r.r(t);var n=r("485d"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"50c5":function(e,t,r){"use strict";r.r(t);var n=r("0b82"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"50cb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49"),s=n.__importStar(r("cd49"));let l=class extends o.Vue{constructor(){super(...arguments),this.focused=!1}keydown(e){return e.which!==a.Keys.up&&e.which!==a.Keys.down||e.preventDefault(),{prop:this.prop,event:e}}blur(){this.focused=!1}focus(e){return this.focused=!0,{prop:this.prop,event:e}}update(e){console.log(1);let t=e.target.value;""===t&&(t=null);let r=this.doc[this.prop.name];if(this.prop.text&&this.prop.text.multiLanguage)if(null==r&&this.$set(this.doc,this.prop.name,{}),i.glob.config.locale){if("string"==typeof r){let e=r;r={},r[i.glob.config.defaultLocale]=e,r[i.glob.config.locale]=t,this.$set(this.doc,this.prop.name,r)}else r=r||{};this.$set(this.doc[this.prop.name],i.glob.config.locale,t),r[i.glob.config.locale]=t}else r&&"object"==typeof r&&i.glob.config.defaultLocale?(this.$set(this.doc[this.prop.name],i.glob.config.defaultLocale,t),r[i.glob.config.defaultLocale]=t):r=t;else r=t;return{prop:this.prop,val:r,vue:this}}get readonly(){return!!this.prop.formula}get value(){return s.getPropTextValue(this.prop,this.doc)}get placeholder(){if(!this.doc||this.prop.formula)return null;let e=this.doc[this.prop.name];if(e&&"object"===typeof e){let t=s.getQs("e")||"en";if(!e[t])return e["en"]||e[Object.keys(e)[0]]}return null}};n.__decorate([o.Prop()],l.prototype,"type",void 0),n.__decorate([o.Prop()],l.prototype,"doc",void 0),n.__decorate([o.Prop()],l.prototype,"viewType",void 0),n.__decorate([o.Prop()],l.prototype,"prop",void 0),n.__decorate([o.Prop()],l.prototype,"readOnly",void 0),n.__decorate([o.Emit("keydown")],l.prototype,"keydown",null),n.__decorate([o.Emit("focus")],l.prototype,"focus",null),n.__decorate([o.Emit("changed")],l.prototype,"update",null),l=n.__decorate([o.Component({name:"PropText"})],l),t.default=l},5230:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.question.show?r("div",{staticClass:"question-box"},[r("div",{staticClass:"overlay"}),r("div",{staticClass:"main p-5"},[r("button",{staticClass:"btn btn-link position-absolute",staticStyle:{top:"0",right:"0"},on:{click:e.close}},[r("i",{staticClass:"fal fa-times"})]),r("div",{staticClass:"main-title font-weight-bold"},[e._v(e._s(e.glob.question.title))]),r("div",{staticClass:"main-message",domProps:{innerHTML:e._s(e.message)}}),r("div",{staticClass:"main-footer text-right pt-3"},e._l(e.glob.question.buttons,(function(t){return r("button",{class:t._cs||"btn btn-primary ml-2",on:{click:function(r){return e.select(t.ref)}}},[e._v(e._s(t.title))])})),0)])]):e._e()},o=[]},5270:function(e,t,r){"use strict";var n=r("c532"),o=r("c401"),a=r("2e67"),i=r("2444");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||i.adapter;return t(e).then((function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"52b7":function(e,t,r){"use strict";r.r(t);var n=r("e113"),o=r("68b8");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("6583");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"53b6":function(e,t,r){"use strict";r.r(t);var n=r("646a"),o=r("6b2e");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("4092");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"53bf":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{keydown(e){return{e:e}}change(e){return{prop:this.prop,val:e.val,vue:this}}get checked(){if(!this.readOnly)return!!this.doc[this.prop.name]}};n.__decorate([o.Prop()],a.prototype,"prop",void 0),n.__decorate([o.Prop()],a.prototype,"doc",void 0),n.__decorate([o.Prop()],a.prototype,"readOnly",void 0),n.__decorate([o.Emit("keydown")],a.prototype,"keydown",null),n.__decorate([o.Emit("changed")],a.prototype,"change",null),a=n.__decorate([o.Component({name:"PropBooleanSwitch"})],a),t.default=a},"544c":function(e,t,r){"use strict";r.r(t);var n=r("b23b"),o=r("9ca0");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"b16fa518",null);t["default"]=s.exports},"556d":function(e,t,r){"use strict";var n=r("7f63"),o=r.n(n);o.a},"55f3":function(e,t,r){},"57b1":function(e,t,r){"use strict";r.r(t);var n=r("301f"),o=r("50c5");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"492b43e0",null);t["default"]=s.exports},"58d2":function(e,t,r){"use strict";r.r(t);var n=r("11a9"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},5986:function(e,t,r){"use strict";var n=r("3955"),o=r.n(n);o.a},"5a5f":function(e,t,r){"use strict";r.r(t);var n=r("17b7"),o=r("e3ef");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"6b6d33c1",null);t["default"]=s.exports},"5a6f":function(e,t,r){"use strict";r.r(t);var n=r("49bd"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"5ba3":function(e,t,r){},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),o=r.n(n);o.a},"5c33":function(e,t,r){"use strict";var n=r("25ec"),o=r.n(n);o.a},"5cc0":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sys-dashboard"},[r("div",{staticClass:"d-flex"},[r("DashboardInfoBox",{staticClass:"m-4",attrs:{title:"CPU Usage",value:e.data.cpuUsage,icon:"fa-cog",color:"#00c0ef"}}),r("DashboardInfoBox",{staticClass:"m-4",attrs:{title:"Objects",value:e.data.objectsCount,icon:"fa-anchor",color:"#00a65a"}}),r("DashboardInfoBox",{staticClass:"m-4",attrs:{title:"Functions",value:e.data.functionsCount,icon:"fa-bell-slash",color:"#dd4b39"}}),r("DashboardInfoBox",{staticClass:"m-4",attrs:{title:"Users",value:e.data.usersCount,icon:"fa-user-circle",color:"#f39c12"}})],1)])},o=[]},"5de6":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex h-100 flex-column"},[r("app-header"),r("main",{staticClass:"d-flex overflow-auto"},[r("NavMenu"),e.objectElemUri?r("object-view",{attrs:{uri:e.objectElemUri,level:0}}):r("FormView")],1),r("HelperObjects")],1)},o=[]},"5e14":function(e,t,r){"use strict";r.r(t);var n=r("33fb"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"5f33":function(e,t,r){"use strict";r.r(t);var n=r("dc35"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"5fe8":function(e,t,r){"use strict";var n=r("f275"),o=r.n(n);o.a},"5ff5":function(e,t,r){"use strict";r.r(t);var n=r("b425"),o=r("58d2");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("7200");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},6037:function(e,t,r){"use strict";var n=r("4b13"),o=r.n(n);o.a},"60a3":function(e,t,r){"use strict";r.r(t),r.d(t,"Component",(function(){return T})),r.d(t,"Vue",(function(){return o.a})),r.d(t,"Mixins",(function(){return v})),r.d(t,"Inject",(function(){return D})),r.d(t,"InjectReactive",(function(){return O})),r.d(t,"Provide",(function(){return $})),r.d(t,"ProvideReactive",(function(){return j})),r.d(t,"Model",(function(){return F})),r.d(t,"Prop",(function(){return I})),r.d(t,"PropSync",(function(){return A})),r.d(t,"Watch",(function(){return R})),r.d(t,"Emit",(function(){return G})),r.d(t,"Ref",(function(){return q}));var n=r("8bbf"),o=r.n(n);
/**
  * vue-class-component v7.2.5
  * (c) 2015-present Evan You
  * @license MIT
  */
function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return l(e)||c(e)||u()}function l(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function f(e,t){p(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(r){p(e.prototype,t.prototype,r)})),Object.getOwnPropertyNames(t).forEach((function(r){p(e,t,r)}))}function p(e,t,r){var n=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);n.forEach((function(n){var o=r?Reflect.getOwnMetadata(n,t,r):Reflect.getOwnMetadata(n,t);r?Reflect.defineMetadata(n,o,e,r):Reflect.defineMetadata(n,o,e)}))}var h={__proto__:[]},m=h instanceof Array;function g(e){return function(t,r,n){var o="function"===typeof t?t:t.constructor;o.__decorators__||(o.__decorators__=[]),"number"!==typeof n&&(n=void 0),o.__decorators__.push((function(t){return e(t,r,n)}))}}function v(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.a.extend({mixins:t})}function b(e){var t=a(e);return null==e||"object"!==t&&"function"!==t}function y(e,t){var r=t.prototype._init;t.prototype._init=function(){var t=this,r=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)e.hasOwnProperty(n)||r.push(n);r.forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},configurable:!0})}))};var n=new t;t.prototype._init=r;var o={};return Object.keys(n).forEach((function(e){void 0!==n[e]&&(o[e]=n[e])})),o}var _=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach((function(e){if("constructor"!==e)if(_.indexOf(e)>-1)t[e]=r[e];else{var n=Object.getOwnPropertyDescriptor(r,e);void 0!==n.value?"function"===typeof n.value?(t.methods||(t.methods={}))[e]=n.value:(t.mixins||(t.mixins=[])).push({data:function(){return i({},e,n.value)}}):(n.get||n.set)&&((t.computed||(t.computed={}))[e]={get:n.get,set:n.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return y(this,e)}});var n=e.__decorators__;n&&(n.forEach((function(e){return e(t)})),delete e.__decorators__);var a=Object.getPrototypeOf(e.prototype),s=a instanceof o.a?a.constructor:o.a,l=s.extend(t);return x(l,e,s),d()&&f(l,e),l}var k={prototype:!0,arguments:!0,callee:!0,caller:!0};function x(e,t,r){Object.getOwnPropertyNames(t).forEach((function(n){if(!k[n]){var o=Object.getOwnPropertyDescriptor(e,n);if(!o||o.configurable){var a=Object.getOwnPropertyDescriptor(t,n);if(!m){if("cid"===n)return;var i=Object.getOwnPropertyDescriptor(r,n);if(!b(a.value)&&i&&i.value===a.value)return}0,Object.defineProperty(e,n,a)}}}))}function C(e){return"function"===typeof e?w(e):function(t){return w(t,e)}}C.registerHooks=function(e){_.push.apply(_,s(e))};var T=C,P="__reactiveInject__";function D(e){return g((function(t,r){"undefined"===typeof t.inject&&(t.inject={}),Array.isArray(t.inject)||(t.inject[r]=e||r)}))}function O(e){return g((function(t,r){if("undefined"===typeof t.inject&&(t.inject={}),!Array.isArray(t.inject)){var n=e?e.from||e:r,o=!!e&&e.default||void 0;t.computed||(t.computed={}),t.computed[r]=function(){var e=this[P];return e?e[n]:o},t.inject[P]=P}}))}function S(e){var t=function(){var r=this,n="function"===typeof e?e.call(this):e;for(var o in n=Object.create(n||null),n[P]=this[P]||{},t.managed)n[t.managed[o]]=this[o];var a=function(e){n[t.managedReactive[e]]=i[e],Object.defineProperty(n[P],t.managedReactive[e],{enumerable:!0,get:function(){return r[e]}})},i=this;for(var o in t.managedReactive)a(o);return n};return t.managed={},t.managedReactive={},t}function E(e){return"function"!==typeof e||!e.managed&&!e.managedReactive}function $(e){return g((function(t,r){var n=t.provide;E(n)&&(n=t.provide=S(n)),n.managed[r]=e||r}))}function j(e){return g((function(t,r){var n=t.provide;Array.isArray(t.inject)||(t.inject=t.inject||{},t.inject[P]={from:P,default:{}}),E(n)&&(n=t.provide=S(n)),n.managedReactive[r]=e||r}))}var M="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function V(e,t,r){if(M&&!Array.isArray(e)&&"function"!==typeof e&&"undefined"===typeof e.type){var n=Reflect.getMetadata("design:type",t,r);n!==Object&&(e.type=n)}}function F(e,t){return void 0===t&&(t={}),function(r,n){V(t,r,n),g((function(r,n){(r.props||(r.props={}))[n]=t,r.model={prop:n,event:e||n}}))(r,n)}}function I(e){return void 0===e&&(e={}),function(t,r){V(e,t,r),g((function(t,r){(t.props||(t.props={}))[r]=e}))(t,r)}}function A(e,t){return void 0===t&&(t={}),function(r,n){V(t,r,n),g((function(r,n){(r.props||(r.props={}))[e]=t,(r.computed||(r.computed={}))[n]={get:function(){return this[e]},set:function(t){this.$emit("update:"+e,t)}}}))(r,n)}}function R(e,t){void 0===t&&(t={});var r=t.deep,n=void 0!==r&&r,o=t.immediate,a=void 0!==o&&o;return g((function(t,r){"object"!==typeof t.watch&&(t.watch=Object.create(null));var o=t.watch;"object"!==typeof o[e]||Array.isArray(o[e])?"undefined"===typeof o[e]&&(o[e]=[]):o[e]=[o[e]],o[e].push({handler:r,deep:n,immediate:a})}))}var N=/\B([A-Z])/g,L=function(e){return e.replace(N,"-$1").toLowerCase()};function G(e){return function(t,r,n){var o=L(r),a=n.value;n.value=function(){for(var t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=function(n){var a=e||o;void 0===n?0===r.length?t.$emit(a):1===r.length?t.$emit(a,r[0]):t.$emit.apply(t,[a].concat(r)):0===r.length?t.$emit(a,n):1===r.length?t.$emit(a,n,r[0]):t.$emit.apply(t,[a,n].concat(r))},s=a.apply(this,r);return U(s)?s.then(i):i(s),s}}}function q(e){return g((function(t,r){t.computed=t.computed||{},t.computed[r]={cache:!1,get:function(){return this.$refs[e||r]}}}))}function U(e){return e instanceof Promise||e&&"function"===typeof e.then}},"612e":function(e,t,r){"use strict";r.r(t);var n=r("d6f8"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"61ff":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{attrs:{type:e.inputType,placeholder:e.placeholder,name:1!=e.viewType?e.prop.name:null,readonly:e.readOnly},domProps:{value:e.value},on:{focus:e.focus,blur:e.blur,change:e.update,keydown:e.keydown}})},o=[]},6241:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{ref:"ctrl",staticClass:"form-control",attrs:{type:e.type,readonly:e.readOnly},domProps:{value:e.value},on:{focus:e.focus,keydown:e.keydown,blur:e.refreshText,input:e.update,click:e.click}})},o=[]},6285:function(e,t,r){"use strict";var n=r("a338"),o=r.n(n);o.a},"631a":function(e,t,r){"use strict";r.r(t);var n=r("2498"),o=r("bfd3");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("a3ca");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},6333:function(e,t,r){"use strict";r.r(t);var n=r("cc88"),o=r("ab12");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"3b82dd88",null);t["default"]=s.exports},"63f3":function(e,t,r){"use strict";r.r(t);var n=r("377b"),o=r("776b");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("266d");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"646a":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[e.glob.notify&&!e.glob.modal&&e.glob.notify.message?r("div",{ref:"notifyBox",class:"text-left w-100 navbar notify-type-"+e.glob.notify.type,attrs:{id:"notify-box",role:"alert"},on:{click:function(t){e.glob.notify=null}}},[r("i",{class:{"my-1 fas fa-2x":1,"fa-exclamation-circle":3===e.glob.notify.type,"fa-exclamation-triangle":4===e.glob.notify.type,"fa-info-circle":6===e.glob.notify.type}}),r("span",{staticClass:"mx-3 flex-grow-1 notify-message"},[e._v(e._s(e.glob.notify.message))]),r("i",{staticClass:"fal px-3 fa-times"})]):e._e()])},o=[]},6540:function(e,t,r){"use strict";var n=r("1045"),o=r.n(n);o.a},6542:function(e,t,r){"use strict";r.r(t);var n=r("1636"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"657f":function(e,t,r){"use strict";r.r(t);var n=r("8e7f"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},6583:function(e,t,r){"use strict";var n=r("5008"),o=r.n(n);o.a},"659d":function(e,t,r){"use strict";r.r(t);var n=r("c089"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"65f4":function(e,t,r){},6757:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"task-manager h-100 d-flex flex-column flex-fill overflow-auto"},[r("div",{staticClass:"d-flex p-2 align-items-center btn-toolbar toolbar",attrs:{role:"toolbar"}},[r("div",{staticClass:"concerns btn-group input-group mx-1",attrs:{role:"group","aria-label":"First group"}},[r("button",{class:{"btn btn-secondary toolbar-button":1,active:e.TaskView_Home===e.view.concern&&e.view.primary},attrs:{type:"button"},on:{click:function(t){return e.selectPrimaryView(e.TaskView_Home)}}},[r("i",{staticClass:"fal fa-home fa-lg"}),r("label",[e._v("Today")])]),r("button",{class:{"btn btn-secondary toolbar-button":1,active:e.TaskView_Status===e.view.concern&&e.view.primary},attrs:{type:"button"},on:{click:function(t){return e.selectPrimaryView(e.TaskView_Status)}}},[r("i",{staticClass:"fal fa-ballot-check fa-lg"}),r("label",[e._v("Status")])]),r("button",{class:{"btn btn-secondary toolbar-button":1,active:e.TaskView_DueDate===e.view.concern&&e.view.primary},attrs:{type:"button"},on:{click:function(t){return e.selectPrimaryView(e.TaskView_DueDate)}}},[r("i",{staticClass:"fal fa-calendar-alt fa-lg"}),r("label",[e._v("Calendar")])]),r("button",{class:{"btn btn-secondary toolbar-button":1,active:e.TaskView_Grid===e.view.concern&&e.view.primary},attrs:{type:"button"},on:{click:function(t){return e.selectPrimaryView(e.TaskView_Grid)}}},[r("i",{staticClass:"fal fa-th fa-lg"}),r("label",[e._v("Grid")])]),r("button",{class:{"btn btn-secondary toolbar-button":1,active:e.TaskView_Assignee===e.view.concern&&e.view.primary},attrs:{type:"button"},on:{click:function(t){return e.selectPrimaryView(e.TaskView_Assignee)}}},[r("i",{staticClass:"fal fa-users fa-lg"}),r("label",[e._v("Assignee")])]),r("button",{class:{"btn btn-secondary toolbar-button":1,active:e.TaskView_MileStone===e.view.concern&&e.view.primary},attrs:{type:"button"},on:{click:function(t){return e.selectPrimaryView(e.TaskView_MileStone)}}},[r("i",{staticClass:"fal fa-pennant fa-lg"}),r("label",[e._v("Milestone")])]),r("button",{class:{"btn btn-secondary toolbar-button":1,active:e.TaskView_Category===e.view.concern&&e.view.primary},attrs:{type:"button"},on:{click:function(t){return e.selectPrimaryView(e.TaskView_Category)}}},[r("i",{staticClass:"fal fa-layer-group fa-lg"}),r("label",[e._v("Category")])]),e._l(e.views.filter((function(e){return!e.primary})),(function(t){return r("button",{class:{"btn btn-secondary toolbar-button":1,active:t===e.view},attrs:{type:"button"},on:{click:function(r){return e.activateView(t)}}},[r("i",{staticClass:"fal fa-eye fa-lg"}),r("label",[e._v(e._s(t.title))])])}))],2),r("div",{staticClass:"input-group-append mx-2",attrs:{role:"group"}},[e._m(0),r("div",{staticClass:"dropdown-menu"},[e._l(e.views.filter((function(e){return!e.primary})),(function(t){return r("div",[r("div",{staticClass:"d-flex px-2 align-items-center"},[r("div",{staticClass:"px-2 flex-fill"},[e._v(e._s(t.title))]),r("button",{staticClass:"py-1 btn btn-outline-secondary",on:{click:function(r){return e.removeView(t)}}},[e._v("Delete")])]),r("div",{staticClass:"dropdown-divider"})])})),r("div",{staticClass:"input-group px-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newViewName,expression:"newViewName"}],staticClass:"form-control",attrs:{placeholder:"Save current view as ..."},domProps:{value:e.newViewName},on:{input:function(t){t.target.composing||(e.newViewName=t.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-secondary px-3",on:{click:e.newView}},[e._v("Save")])])])],2)]),r("div",{staticClass:"dropdown mx-1"},[e._m(1),e.view.filter?r("div",{staticClass:"dropdown-menu filter-panel p-5",attrs:{"aria-labelledby":"filterButton"}},[r("form",[r("div",{staticClass:"properties d-flex"},[r("div",{staticClass:"filter-item mx-2 text-left"},[r("label",{staticClass:"font-weight-bold"},[e._v("Status")]),r("div",{staticClass:"d-flex flex-column align-items-start"},e._l(e.getFilterItems(e.TaskView_Status),(function(t){return r("check-box",{staticClass:"p-1",attrs:{label:t.title,checked:t.checked},on:{changed:function(r){return e.filterItemCheckChanged(r,t,e.TaskView_Status)}}})})),1)]),r("div",{staticClass:"filter-item mx-2"},[r("label",{staticClass:"font-weight-bold"},[e._v("Priority")]),r("div",{staticClass:"d-flex flex-column align-items-start"},e._l(e.getFilterItems(e.TaskView_Priority),(function(t){return r("check-box",{staticClass:"p-1",attrs:{checked:t.checked,label:t.title},on:{changed:function(r){return e.filterItemCheckChanged(r,t,e.TaskView_Priority)}}})})),1)]),r("div",{staticClass:"filter-item mx-2"},[r("label",{staticClass:"font-weight-bold"},[e._v("Assignee")]),r("div",{staticClass:"d-flex flex-column align-items-start"},e._l(e.getFilterItems(e.TaskView_Assignee),(function(t){return r("check-box",{staticClass:"p-1",attrs:{checked:t.checked,label:t.title},on:{changed:function(r){return e.filterItemCheckChanged(r,t,e.TaskView_Assignee)}}})})),1)]),e.currentProject?r("div",{staticClass:"filter-item mx-2"},[r("label",{staticClass:"font-weight-bold"},[e._v("Milestones")]),r("div",{staticClass:"d-flex flex-column align-items-start"},e._l(e.getFilterItems(e.TaskView_MileStone),(function(t){return r("check-box",{staticClass:"p-1",attrs:{checked:t.checked,label:t.title},on:{changed:function(r){return e.filterItemCheckChanged(r,t,e.TaskView_MileStone)}}})})),1)]):e._e(),e.currentProject?r("div",{staticClass:"filter-item mx-2"},[r("label",{staticClass:"font-weight-bold"},[e._v("Categories")]),r("div",{staticClass:"d-flex flex-column align-items-start"},e._l(e.getFilterItems(e.TaskView_Category),(function(t){return r("check-box",{staticClass:"p-1",attrs:{checked:t.checked,label:t.title},on:{changed:function(r){return e.filterItemCheckChanged(r,t,e.TaskView_Category)}}})})),1)]):e._e()]),r("hr"),r("div",{staticClass:"filter-item mx-2"},[r("check-box",{attrs:{checked:e.showArchivedTasks,label:"Show archived tasks"},on:{changed:e.toggleShowArchivedTasks}})],1),r("hr")]),r("button",{staticClass:"btn btn-success px-5 mt-2",on:{click:e.refreshTasks}},[e._v("Apply")])]):e._e()]),r("div",{staticClass:"flex-grow-1"}),r("div",{staticClass:"search-box border mx-2"},[r("i",{staticClass:"fal fa-search mx-1"}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchPhrase,expression:"searchPhrase"}],staticClass:"border-0 outline-0",attrs:{type:"search",placeholder:"Search"},domProps:{value:e.searchPhrase},on:{change:e.search,input:function(t){t.target.composing||(e.searchPhrase=t.target.value)}}})]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.currentProjectValue,expression:"currentProjectValue"}],staticClass:"border bg-white p-1 m-1",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentProjectValue=t.target.multiple?r:r[0]}}},[r("option",{domProps:{value:null}},[e._v("[ All Projects ]")]),e._l(e.projects,(function(t){return r("option",{domProps:{value:t._id}},[e._v(e._s(t.title))])}))],2),r("button",{staticClass:"btn btn-link text-secondary px-2",on:{click:e.reload}},[r("i",{staticClass:"fas fa-sync"})]),r("div",{staticClass:"dropdown"},[e._m(2),r("div",{staticClass:"dropdown-menu"},[r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:e.reload}},[r("i",{staticClass:"fas fa-sync"}),e._v(" Refresh")]),r("div",{staticClass:"dropdown-divider"}),r("a",{staticClass:"dropdown-item",attrs:{href:"/projects"}},[e._v("Configure projects")])])]),e.showRightPanel?e._e():r("button",{staticClass:"btn btn-link outline-0",attrs:{title:"Show info panel"},on:{click:function(t){e.showRightPanel=!0}}},[r("i",{staticClass:"fal fa-bars fa-lg"})])]),e.showTaskDetails?r("div",{staticClass:"task-details overflow-auto w-100 h-100 p-5"},[r("div",{staticClass:"container card p-4"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 px-4 col-sm-12 border-right"},[r("div",{staticClass:"d-flex align-items-center mb-3"},[r("div",{staticClass:"flex-fill"},[r("h2",[e._v("#"+e._s(e.currentTask.no))])]),r("button",{staticClass:"btn btn-link px-0",on:{click:e.closeTaskDetails}},[r("i",{staticClass:"fal fa-times text-black-50 fa-2x text-right"})])]),r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addNoteContent,expression:"addNoteContent"}],staticClass:"border-0 p-2 w-100",attrs:{placeholder:"Add Note ..."},domProps:{value:e.addNoteContent},on:{input:function(t){t.target.composing||(e.addNoteContent=t.target.value)}}})]),r("button",{staticClass:"btn btn-light py-1",on:{click:e.addNote}},[e._v("Add Note")]),r("div",{staticClass:"comments"},e._l(e.currentTask.comments,(function(t){return r("div",{staticClass:"my-2"},[r("div",{staticClass:"small text-right font-weight-bold text-black-50"},[e._v(e._s(e.friendlyTime(t.time)))]),r("div",{staticClass:"border p-2"},[e._v(e._s(t.content))])])})),0)]),r("div",{staticClass:"col-md-6 p-4 col-sm-12"},[r("details-view",{attrs:{data:e.currentTask,dec:e.tasksDec,level:1},on:{changed:e.taskChanged}})],1)])])]):r("div",{staticClass:"w-100 h-100 overflow-auto d-flex task-manager-content"},[r("div",{staticClass:"flex-grow-1 overflow-auto d-flex"},[e.TaskView_DueDate===e.view.concern?r("div",{staticClass:"calendar w-100 h-100 d-flex"},[e.unscheduledTasksGroup&&e.unscheduledTasksGroup.tasks.length?r("task-group",{staticClass:"bg-light px-2 py-1",attrs:{group:e.unscheduledTasksGroup},on:{dragEnd:e.dragEnd,toggleExpand:e.toggleExpand,newTask:e.newTask,dragStart:e.dragStart,focusTask:e.focusTask,taskkeypress:e.taskKeypress,drop:e.drop,dragovergroup:e.ondragover}}):e._e(),r("table",{staticClass:"w-100 h-100 flex-fill",on:{wheel:e.calendarWheel}},e._l(e.calendarRows,(function(t){return r("tr",{},e._l(t.days,(function(t){return r("td",{class:t.style},[r("task-group",{staticClass:"h-100 w-100 calendar-day",attrs:{group:t,milestone:t.milestone},on:{dragEnterTask:e.dragEnterTask,dragEnterGroup:e.dragEnterGroup,dragStart:e.dragStart,ondragover:e.ondragover,newTask:e.newTask,dragEnd:e.dragEnd,toggleExpand:e.toggleExpand,focusTask:e.focusTask,taskkeypress:e.taskKeypress,drop:e.drop,dragovergroup:e.ondragover}})],1)})),0)})),0)],1):e.TaskView_Grid===e.view.concern?r("div",{staticClass:"view-grid w-100 h-0"},[r("table",{staticClass:"w-100"},[r("thead",[r("tr",{staticClass:"text-primary bg-light"},[r("th",{staticClass:"border p-2"},[e._v("No")]),r("th",{staticClass:"border p-2"},[e._v("Task Headline")]),r("th",{staticClass:"border text-center p-2"},[e._v("Status")]),r("th",{staticClass:"border text-center p-2"},[e._v("Assignee")]),e.currentProject?e._e():r("th",{staticClass:"border text-center p-2"},[e._v("Project")]),e.currentProject?r("th",{staticClass:"border p-2"},[e._v("Categories")]):e._e(),r("th",{staticClass:"border text-center p-2"},[e._v("Due Dates")])])]),r("tbody",e._l(e.getGridTasks(),(function(t){return r("tr",{attrs:{tabindex:"0"},on:{focus:function(r){return e.focusTask({task:t,group:null})}}},[r("th",{staticClass:"border text-black-50 bg-light p-1 px-2"},[e._v(e._s(t.no))]),r("td",{staticClass:"border bg-white"},[r("div",{staticClass:"d-flex align-items-center px-2"},[t.parent?r("i",{staticClass:"fal fa-genderless fa-xs mx-2 text-black-50"}):e._e(),r("div",{class:{"font-weight-bold flex-grow-1":!t.parent}},[e._v(e._s(t.title))]),e.hasGridTaskChild(t)?r("i",{class:{"font-weight-bold fa-lg px-1":1,"fal fa-angle-up":t.collapse,"fas fa-angle-down":!t.collapse},on:{click:function(r){return e.toggleExpand(t)}}}):e._e()])]),r("td",{staticClass:"border bg-white"},[r("div",{staticClass:"d-flex"},[r("div",{staticClass:"m-auto text-center rounded px-1 cell-badge",style:e.getTaskStatusStyle(t)},[e._v(" "+e._s(e.getTaskStatusTitle(t))+" ")])])]),r("td",{staticClass:"border bg-white"},[r("div",{staticClass:"d-flex"},[t.assignee?r("div",{staticClass:"text-center m-auto cell-badge px-1 rounded",style:e.getTaskAssigneeStyle(t)},[e._v(" "+e._s(e.getTaskAssigneeTitle(t))+" ")]):e._e()])]),e.currentProject?e._e():r("td",{staticClass:"border bg-white"},[t.project?r("div",{staticClass:"d-flex"},[r("div",{staticClass:"m-auto text-center px-1 rounded cell-badge",style:e.getTaskProjectStyle(t)},[e._v(" "+e._s(e.getTaskProjectTitle(t))+" ")])]):e._e()]),e.currentProject?r("td",{staticClass:"border bg-white px-2"},[r("div",{staticClass:"d-flex"},e._l(t.categories,(function(n){return r("div",{staticClass:"px-1 text-center mr-1 rounded cell-badge",style:e.getTaskCategoryStyle(t,n)},[e._v(e._s(n))])})),0)]):e._e(),r("td",{staticClass:"border text-nowrap bg-white text-center p-1"},[e._v(" "+e._s(e.getTaskDueDateTitle(t))+" ")])])})),0)]),e._m(3)]):e._l(e.taskGroups,(function(t){return r("task-group",{staticClass:"border-right bg-light px-2 py-1",attrs:{group:t},on:{dragEnterTask:e.dragEnterTask,dragEnterGroup:e.dragEnterGroup,dragStart:e.dragStart,ondragover:e.ondragover,newTask:e.newTask,dragEnd:e.dragEnd,focusTask:e.focusTask,taskkeypress:e.taskKeypress,drop:e.drop,dragovergroup:e.ondragover,toggleExpand:e.toggleExpand}})}))],2),r("div",{class:{"right-panel border-left bg-white px-3":1,"hide-panel":!e.showRightPanel}},[r("div",{staticClass:"d-flex py-1"},[r("div",{staticClass:"mr-auto"}),r("button",{staticClass:"btn close-panel btn-link p-2",attrs:{title:"Hide info panel"},on:{click:function(t){e.showRightPanel=!1}}},[r("i",{staticClass:"fal fa-times fa-lg"})])]),e.TaskView_Grid!==e.view.concern?r("div",{staticClass:"coloring-legend details-view border-bottom pb-3 mb-2"},[r("div",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"prop-label px-1"},[e._v("Coloring")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.currentViewColoring,expression:"currentViewColoring"}],staticClass:"prop-value flex-fill border bg-white m-1",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentViewColoring=t.target.multiple?r:r[0]}}},[r("option"),r("option",{attrs:{value:"2"}},[e._v("Status")]),r("option",{attrs:{value:"5"}},[e._v("Priority")]),r("option",{attrs:{value:"6"}},[e._v("Project")]),this.currentProject?r("option",{attrs:{value:"4"}},[e._v("Assignee")]):e._e(),this.currentProject?r("option",{attrs:{value:"8"}},[e._v("Category")]):e._e(),this.currentProject?r("option",{attrs:{value:"9"}},[e._v("Milestone")]):e._e()])]),e.view.coloring?r("div",{staticClass:"row px-3"},e._l(e.coloringLegend,(function(t,n){return r("div",{staticClass:"col-6 text-nowrap legend-item p-1"},[r("div",{staticClass:"py-1 px-2 overflow-hidden",style:{color:e.colorTable[n%e.colorTable.length].color,"background-color":e.colorTable[n%e.colorTable.length].bgColor}},[e._v(e._s(t.title))])])})),0):e._e()]):e._e(),e.currentTask?r("div",[e.currentTask.archive?r("div",{staticClass:"mt-5"},[r("button",{staticClass:"btn btn-outline-dark mb-2 d-block",on:{click:function(t){return e.undoArchive(e.currentTask)}}},[e._v("Undo Archive")]),r("button",{staticClass:"btn btn-outline-danger d-block",on:{click:function(t){return e.deleteTask(e.currentTask)}}},[e._v("Delete Permanently")])]):r("div",[r("div",{staticClass:"mb-2"},[r("button",{staticClass:"btn btn-link p-0 mx-2",attrs:{title:"Task Details"},on:{click:e.showCurrentTaskDetails}},[r("i",{staticClass:"fal fa-file-alt fa-lg"})]),r("button",{staticClass:"btn btn-link p-0 mx-2",attrs:{title:"Archive"},on:{click:function(t){return e.archive(e.currentTask)}}},[r("i",{staticClass:"fal fa-archive fa-lg"})]),r("button",{staticClass:"btn btn-link p-0 mx-2",attrs:{title:"Favorite"},on:{click:e.toggleFavorite}},[r("i",{class:{"fa-heart-circle fa-lg":1,fal:!e.currentTask.favorite,fad:e.currentTask.favorite}})]),r("button",{staticClass:"btn btn-link mx-2 p-0",attrs:{type:"button",title:"Toggle Sub Task"},on:{click:function(t){return e.toggleSubtask(e.currentTask)}}},[r("i",{class:{"fal fa-lg":1,"fa-arrow-to-left":e.currentTask.parent,"fa-arrow-to-right":!e.currentTask.parent}})]),e.currentTaskDueDate?r("button",{staticClass:"btn btn-link mx-2 p-0",attrs:{type:"button",title:"Set/Unset Due Time"},on:{click:e.toggleSetTime}},[r("i",{class:{"fa-lg fa-clock":1,fal:!e.currentTaskDueDate.setTime,fad:e.currentTaskDueDate.setTime}})]):e._e(),r("button",{staticClass:"btn btn-link mx-2 p-0",attrs:{type:"button",title:"Assign to me"},on:{click:e.assignCurrentTaskToMe}},[r("i",{staticClass:"fal fa-lg fa-hand-holding-magic"})])]),r("details-view",{staticClass:"compress-view",attrs:{data:e.currentTask,dec:e.tasksDec,level:1},on:{changed:e.taskChanged}}),e.currentTaskDueDate?r("details-view",{staticClass:"compress-view",attrs:{data:e.currentTaskDueDate,dec:e.dueDatesDec,level:1},on:{changed:e.taskDueDateChanged}}):e._e()],1)]):r("div",[e._v("Select a task to see its details here.")])])])])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"toolbar-button rounded-right btn btn-outline-secondary",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",type:"button"}},[r("i",{staticClass:"fal fa-eye fa-lg"}),r("label",[e._v("My Views")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"toolbar-button rounded-right btn btn-outline-secondary",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",type:"button"}},[r("i",{staticClass:"fal fa-filter fa-lg"}),r("label",[e._v("Filters")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn-link text-secondary px-2",attrs:{title:"Configurations","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",type:"button"}},[r("i",{staticClass:"fal fa-cog fa-lg"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-100 mt-4"},[r("textarea",{staticClass:"outline-0 p-2 w-100 border-top border-right-0 border-left-0 border-bottom-0",staticStyle:{height:"5rem"},attrs:{placeholder:"New task ..."}})])}]},6825:function(e,t,r){"use strict";r.r(t);var n=r("2681"),o=r("7164");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("9789");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},6857:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=n.__importStar(r("cd49")),s=r("cd49");let l=class extends o.Vue{constructor(){super(...arguments),this.showProgress=!1}render(e){return this.styles&&this.styles.indexOf("fa-")>-1?e("div",[e("button",{attrs:{class:"btn"},on:{click:this.click}},[e("i",{attrs:{class:this.styles}})])]):e("div",{attrs:{class:"d-inline-block"}},[e("button",{attrs:{class:"btn "+(this.styles||"btn-primary m-1")},on:{click:this.click}},[e("span",this.title),e("i",{attrs:{class:"ml-2 fa fa-sync fa-spin wait-spinner "+(this.showProgress?"":"d-none")}})])])}validate(e){let t=i.getDec(e);if(t&&t.properties){let r=t.properties.filter(e=>e.required),n="";for(const t of r)null!==e[t.name]&&""!==e[t.name]||(n=n||`Field <strong>${t.title}</strong> is required`,i.setPropertyEmbeddedError(e,t.name,"* mandatory"));if(n)return i.notify(n,a.LogType.Error),!1}return!0}emitExec(e){return e}click(e){try{if(this.showProgress=!0,this.$listeners&&this.$listeners.exec){let t=this,r={name:this.name,event:e,data:this.$store.state.data,stopProgress(){t.showProgress=!1}};this.$emit("exec",r)}else{let e=this.name;if(!this.data)throw`data must be set for 'Function' element '${e}'`;let t=i.getDec(this.data);if(!this.validate(this.data))return;i.log(`calling '${this.name}' ...`,this.data),i.ajax("/"+this.name,this.data,null,e=>{this.showProgress=!1,t.interactive&&e.code==a.StatusCode.Accepted||(e.code!=a.StatusCode.Ok?i.notify(e.message,a.LogType.Error):(s.glob.modal=!1,setTimeout(()=>{i.handleResponse(e)},100)))},e=>{this.showProgress=!1,i.notify(e)})}}catch(t){this.showProgress=!1,console.error(`function '${this.name}' click error.`,t)}finally{this.showProgress=!1}}};n.__decorate([o.Prop()],l.prototype,"title",void 0),n.__decorate([o.Prop()],l.prototype,"name",void 0),n.__decorate([o.Prop()],l.prototype,"data",void 0),n.__decorate([o.Prop()],l.prototype,"styles",void 0),n.__decorate([o.Emit("exec")],l.prototype,"emitExec",null),l=n.__decorate([o.Component({name:"Function"})],l),t.default=l},"68b8":function(e,t,r){"use strict";r.r(t);var n=r("4357"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},6939:function(e,t,r){"use strict";r.r(t);var n=r("b061"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"6a8d":function(e,t,r){},"6a94":function(e,t,r){"use strict";r.r(t);var n=r("73e1"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"6ad3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};n.__decorate([o.Prop()],a.prototype,"line",void 0),a=n.__decorate([o.Component({name:"TreeViewLine"})],a),t.default=a},"6b08":function(e,t,r){"use strict";r.r(t);var n=r("9314"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"6b0c":function(e,t,r){"use strict";r.r(t);var n=r("5cc0"),o=r("8d1e");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("6540");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"e62cc860",null);t["default"]=s.exports},"6b2e":function(e,t,r){"use strict";r.r(t);var n=r("7b98"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"6ca4":function(e,t,r){},"6d32":function(e,t,r){"use strict";var n=r("0edf"),o=r.n(n);o.a},"6f68":function(e,t,r){"use strict";r.r(t);var n=r("78c7"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"6f87":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-user-login"},[e.glob.config.user.loginUrl?r("div",[r("a",{staticClass:"my-2 my-sm-0 text-white",attrs:{href:e.glob.config.user.loginUrl}},[r("i",{staticClass:"fal fa-user mx-1"}),e.glob.config.user.loginTitle?r("span",[e._v(e._s(e.glob.config.user.loginTitle))]):e._e()])]):r("div",{staticClass:"dropdown d-flex"},[r("button",{staticClass:"avatar bg-transparent border-0 outline-0 dropdown-toggle",attrs:{id:"dropdownProfileBrief","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e.buttonClass?r("i",{class:e.buttonClass}):r("span",{staticClass:"d-flex cursor-pointer bg-transparent w-100 h-100",style:{"background-image":"url("+e.profilePhoto+")"},attrs:{role:"img"}})]),r("div",{class:{"dropdown-menu text-center profile-brief":1,"dropdown-menu-right":e.ltr},attrs:{"aria-labelledby":"dropdownProfileBrief"}},[r("img",{staticClass:"m-4 mx-5",attrs:{src:e.profilePhoto}}),r("h2",[e._v(e._s(e.glob.config.user.title))]),r("div",[e._v(e._s(e.glob.config.user.email))]),r("a",{staticClass:"m-2 btn btn-outline-secondary profile-button",attrs:{href:e.glob.config.user.accountUrl}},[e._v(e._s(e.$t("your-account")))]),r("hr"),r("a",{staticClass:"m-2 btn btn-secondary",attrs:{href:"/signout?f=1"}},[e._v(e._s(e.$t("sign-out")))]),r("hr"),r("a",{staticClass:"m-2 text-secondary small",attrs:{href:"/privacy-policy"}},[e._v("Privacy Policy")]),e._v(" - "),r("a",{staticClass:"m-2 text-secondary small",attrs:{href:"/terms-of-service"}},[e._v("Terms of Service")])])])])},o=[]},7030:function(e,t,r){"use strict";var n=r("4098"),o=r.n(n);o.a},"714b":function(e,t,r){"use strict";r.r(t);var n=r("e392"),o=r("e25f");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("30db");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},7164:function(e,t,r){"use strict";r.r(t);var n=r("3426"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},7196:function(e,t,r){"use strict";r.r(t);var n=r("eb81"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},7200:function(e,t,r){"use strict";var n=r("7e6b"),o=r.n(n);o.a},"726d":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"date-time-picker"},[r("div",{staticClass:"d-flex p-3"},[e.years?r("RollPicker",{attrs:{caption:e.yearCaption,index:e.date.year()-1900,items:e.years},on:{changed:e.yearChanged}}):e._e(),e.months?r("RollPicker",{attrs:{caption:e.monthCaption,index:e.date.month(),items:e.months},on:{changed:e.monthChanged}}):e._e(),e.days?r("RollPicker",{attrs:{caption:e.dayCaption,index:e.date.date()-1,items:e.days},on:{changed:e.dayChanged}}):e._e(),e.hours?r("div",{staticClass:"p-2"}):e._e(),e.hours?r("RollPicker",{attrs:{caption:"",index:e.date.hour(),items:e.hours},on:{changed:e.hourChanged}}):e._e(),e.hours&&e.minutes?r("div",{staticClass:"p-2 align-self-center"},[e._v(":")]):e._e(),e.minutes?r("RollPicker",{attrs:{caption:"",index:e.date.minute(),items:e.minutes},on:{changed:e.minuteChanged}}):e._e(),e.minutes&&e.seconds?r("div",{staticClass:"p-2 align-self-center"},[e._v(":")]):e._e(),e.seconds?r("RollPicker",{attrs:{caption:"",index:e.date.second(),items:e.seconds},on:{changed:e.secondChanged}}):e._e(),e.amPm?r("RollPicker",{attrs:{caption:"",index:0,items:e.amPm},on:{changed:e.ampmChanged}}):e._e()],1),r("div",{staticClass:"d-flex w-100"},[r("button",{staticClass:"flex-fill p-2 border",on:{click:e.cancel}},[e._v("Cancel")]),r("button",{staticClass:"flex-fill p-2 border",on:{click:e.changed}},[e._v("Set")])])])},o=[]},"730d":function(e,t,r){"use strict";r.r(t);var n=r("a29b"),o=r("2756");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("6285");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},7375:function(e,t,r){},"73e1":function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i};Object.defineProperty(t,"__esModule",{value:!0});const o=r("60a3"),a=r("cd49"),i=r("8445");let s=class extends o.Vue{constructor(){super(...arguments),this.doc=new i.Document,this.directoryTitle=null,this.directory=[],this.showHelpUseful=!0,this.showHelpImprovement=!1,this.feedbackComment=null}created(){this.loadDoc(location.pathname)}submitFeedback(){this.showHelpImprovement=!1,a.call("sendFeedback",{url:location.href,tag:"document-end",path:location.pathname,comment:this.feedbackComment||"[empty]"},(e,t)=>{this.feedbackComment=""})}wasHelpful(e){this.showHelpUseful=!1,this.showHelpImprovement=!0,a.call("sendFeedback",{url:location.href,tag:"document-end",path:location.pathname,value:e?"helpful":"unhelpful"},(e,t)=>{})}loadDoc(e){this.showHelpUseful=!0;let t=e=>{this.doc=e.doc,this.directory=e.directory,this.directoryTitle=e.directoryTitle,this.breadcrumb=[{title:this.directoryTitle,ref:null}];let t,r=this.doc&&this.doc.content?this.doc.content:"",n=/## (.+)\b/g,o="##### On this page: <br><br>\r\n";while(null!==(t=n.exec(r)))o+=`###### [${t[1]}](${"#"+t[1].toLowerCase().replace(/\s/,"-")})\r\n`;a.glob.infoPanel.currentComment=o},r=e.replace(/\/docs\//,"");r&&(a.glob.data["docs-data"]?t(a.glob.data["docs-data"]):a.call("getDocument",{name:r},(e,r)=>{r.data?t(r.data):this.doc=null}))}goto(e){this.loadDoc(e.ref)}get docContent(){let e=this.doc?this.doc.content:"";return a.markDown(e,!0)||"Empty Document"}clickpreferences(){}};s=n([o.Component({name:"AppDocs"})],s),t.default=s},7505:function(e,t,r){"use strict";var n=r("55f3"),o=r.n(n);o.a},"760b":function(e,t,r){"use strict";r.r(t);var n=r("d33e"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"761a":function(e,t,r){(function(t,r){e.exports=r()})(0,(function(){var e=[],t=[],r={},n={},o={};function a(e){return"string"===typeof e?new RegExp("^"+e+"$","i"):e}function i(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,r){return t[r]||""}))}function l(e,t){return e.replace(t[0],(function(r,n){var o=s(t[1],arguments);return i(""===r?e[n-1]:r,o)}))}function c(e,t,n){if(!e.length||r.hasOwnProperty(e))return t;var o=n.length;while(o--){var a=n[o];if(a[0].test(t))return l(t,a)}return t}function u(e,t,r){return function(n){var o=n.toLowerCase();return t.hasOwnProperty(o)?i(n,o):e.hasOwnProperty(o)?i(n,e[o]):c(o,n,r)}}function d(e,t,r,n){return function(n){var o=n.toLowerCase();return!!t.hasOwnProperty(o)||!e.hasOwnProperty(o)&&c(o,o,r)===o}}function f(e,t,r){var n=1===t?f.singular(e):f.plural(e);return(r?t+" ":"")+n}return f.plural=u(o,n,e),f.isPlural=d(o,n,e),f.singular=u(n,o,t),f.isSingular=d(n,o,t),f.addPluralRule=function(t,r){e.push([a(t),r])},f.addSingularRule=function(e,r){t.push([a(e),r])},f.addUncountableRule=function(e){"string"!==typeof e?(f.addPluralRule(e,"$0"),f.addSingularRule(e,"$0")):r[e.toLowerCase()]=!0},f.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),o[e]=t,n[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return f.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return f.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return f.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(f.addUncountableRule),f}))},7711:function(e,t,r){"use strict";r.r(t);var n=r("18e8"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"776b":function(e,t,r){"use strict";r.r(t);var n=r("b4be"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},7820:function(e,t,r){"use strict";r.r(t);var n=r("8771"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"784d":function(e,t,r){"use strict";r.r(t);var n=r("8754"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"78c7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49"),i=r("8445");let s=class extends o.Vue{mounted(){console.log(`%c mina framework started. %c version: ${a.glob.config.version} %c`,"background:#05B ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#0072C6 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent"),$('[data-toggle="tooltip"]').tooltip()}get objectElemUri(){return a.glob.form.elems&&1==a.glob.form.elems.length&&a.glob.form.elems[0].type==i.ElemType.Object&&a.glob.form.elems[0]._?a.glob.form.elems[0]._.ref:null}};s=n.__decorate([o.Component({name:"App"})],s),t.default=s},"78cf":function(e,t,r){"use strict";r.r(t);var n=r("83cb"),o=r("cee1");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("d34b");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"79ce":function(e,t,r){"use strict";r.r(t);var n=r("9609"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"79e8":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("textarea",{class:{"prop-document-editor col-md-8 border":!0,"border-danger":e.hasError},attrs:{wrap:"off",autocorrect:"off",spellcheck:"false",autocapitalize:"off"},domProps:{value:e.value},on:{blur:e.blur,keydown:e.keydown}})},o=[]},"7a77":function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},"7a8d":function(e,t,r){"use strict";r.r(t);var n=r("34e4"),o=r("c1ba");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"7aac":function(e,t,r){"use strict";var n=r("c532");e.exports=n.isStandardBrowserEnv()?function(){return{write:function(e,t,r,o,a,i){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0e":function(e,t,r){"use strict";var n=r("c5a5"),o=r.n(n);o.a},"7b98":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};a=n.__decorate([o.Component({name:"NotifyBox"})],a),t.default=a},"7bf8":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"prop-text-editor"},[r("textarea",{ref:"area",staticClass:"d-none",on:{focus:e.focus}})])},o=[]},"7c7f":function(e,t,r){"use strict";r.r(t);var n=r("ec7d"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"7e6b":function(e,t,r){},"7ea3":function(e,t,r){"use strict";r.r(t);var n=r("6757"),o=r("612e");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("297d");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"7f63":function(e,t,r){},"7f98":function(e,t,r){"use strict";var n=r("65f4"),o=r.n(n);o.a},"7fae":function(e,t,r){"use strict";r.r(t);var n=r("366c"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},8035:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-view h-100 overflow-auto w-100 d-flex",on:{scroll:function(t){return e.onScroll()}}},e._l(e.glob.form.elems,(function(e){return r("FormElem",{attrs:{elem:e}})})),1)},o=[]},"81ce":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{constructor(){super(...arguments),this.showInfoPanel=!0,this.newNote=null}created(){this.showInfoPanel="hide"!=localStorage.getItem("show-info-panel")}toggleShowInfoPanel(e){this.showInfoPanel=e,localStorage.setItem("show-info-panel",e?null:"hide")}selectConfigMenuItem(e){return e}onScroll(){a.hideCmenu()}menu(e,t){let r=[{ref:null,title:moment(t.time).format("DD MMM, HH:mm")},{title:"-"},{ref:"share",title:a.$t("share")},{title:"-"},{ref:"delete",title:a.$t("delete")}];a.showCmenu(t,r,e,(e,r)=>{switch(r.ref){case"delete":a.call("deleteNote",{note:e._id},(e,r)=>{a.glob.infoPanel.notes.splice(a.glob.infoPanel.notes.indexOf(t),1)});break;case"share":break}})}submit(){let e=location.pathname;e=e.replace(/^(\/.+\/.+)\/?.+/,"$1"),a.call("submitNote",{content:this.newNote,url:e},(e,t)=>{this.newNote=null,a.glob.infoPanel.notes.push(t.data)})}comment(){return a.markDown(a.glob.infoPanel.currentComment)}clickConfigMenu(e){let t=this.configMenu||[{ref:"default-print",title:a.$t("print")}];a.showCmenu(null,t,e,(e,t)=>{switch(t.ref){case"default-print":window.print();break;default:this.selectConfigMenuItem(t.ref);break}})}};n.__decorate([o.Prop()],i.prototype,"globalFunctions",void 0),n.__decorate([o.Prop()],i.prototype,"configMenu",void 0),n.__decorate([o.Prop()],i.prototype,"justContent",void 0),n.__decorate([o.Prop()],i.prototype,"showSideMenu",void 0),n.__decorate([o.Emit("selectConfigMenuItem")],i.prototype,"selectConfigMenuItem",null),i=n.__decorate([o.Component({name:"LayoutDefault"})],i),t.default=i},"81d7":function(e,t,r){"use strict";r.r(t);var n=r("bbce"),o=r("4dd8");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("3d57");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},8338:function(e,t,r){"use strict";r.r(t);var n=r("ef12"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"83b9":function(e,t,r){"use strict";var n=r("d925"),o=r("e683");e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},"83cb":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.config.appLocales&&e.glob.config.appLocales.length>1?r("div",{staticClass:"app-locale-menu",attrs:{"data-toggle":"tooltip",title:"Change Language"}},[e.glob.config.locale?r("div",{staticClass:"dropdown"},[r("a",{staticClass:"nav-link py-0 px-0 text-light",attrs:{href:"#",id:"navbarDropdownLocale",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("i",{staticClass:"fal fa-globe text-white px-1",staticStyle:{"font-size":"16px"}}),e._v(e._s(e.glob.config.localeTitle)+" ")]),r("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdownLocale"}},e._l(e.glob.config.appLocales,(function(t){return r("a",{staticClass:"dropdown-item py-2 font-weight-bold text-center",attrs:{href:"javascript:void(0);"},on:{click:function(r){return e.changeLocale(t)}}},[e._v(e._s(t.title))])})),0)]):e._e()]):e._e()},o=[]},"840b":function(e,t,r){"use strict";r.r(t);var n=r("446c"),o=r("08a6");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("c815");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},8445:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("4f43");t.ID=n.ID;class o{}t.AuditArgs=o;class a{}t.Role=a;class i{constructor(){this.roles=[],this.disabled=!1}}t.User=i;class s{}var l;t.AuditType=s,function(e){e["Infobip"]="infobip"}(t.SmsProvider||(t.SmsProvider={}));class c{}t.Country=c,function(e){e[e["Html"]=1]="Html",e[e["Javascript"]=2]="Javascript",e[e["Css"]=3]="Css",e[e["Markdown"]=4]="Markdown",e[e["Xml"]=5]="Xml",e[e["Json"]=6]="Json",e[e["HtmlText"]=7]="HtmlText"}(t.TextEditor||(t.TextEditor={}));class u{constructor(){this.dbs={},this.countries={},this.packageInfo={},this.appConfig={},this.clientQuestionCallbacks={},this.suspendService=!1}}t.Global=u;class d{}t.Entity=d;class f extends d{}t.mObject=f;class p extends d{}t.Function=p;class h extends d{constructor(e){super(),this.elems=[],this._={db:e}}}t.Form=h;class m{constructor(){this.breadcrumb=[],this.elems=[],this.declarations={}}}t.FormDto=m;class g{}t.ObjectModifyState=g;class v{}t.EmailTemplateConfig=v;class b{}t.SendEmailParams=b;class y{}t.SendSmsParams=y,function(e){e[e["Update"]=1]="Update",e[e["Insert"]=2]="Insert",e[e["Patch"]=3]="Patch",e[e["Delete"]=4]="Delete"}(t.ObjectModifyType||(t.ObjectModifyType={}));class _{}t.Property=_;class w{}t.Drive=w;class k{}t.DriveConfig=k;class x{}t.FunctionTestSample=x;class C{}t.EntityLink=C,function(e){e[e["GridView"]=1]="GridView",e[e["DetailsView"]=2]="DetailsView",e[e["TreeView"]=3]="TreeView",e[e["Filter"]=4]="Filter"}(t.ObjectViewType||(t.ObjectViewType={}));class T{}t.Elem=T;class P extends Error{constructor(e,t){super(),this.code=e,this.message=t,this.toString=()=>`error (${this.code}) ${this.message||""}`}}t.ErrorObject=P;class D{}t.ChartSeries=D;class O{}t.Access=O;class S{}t.AccessItem=S;class E{}t.Menu=E;class ${}t.MenuItem=$;class j{}t.Pair=j;class M{}t.TreePair=M;class V{}t.App=V;class F{}t.SystemConfigStaticPackage=F;class I{}t.Host=I;class A{}t.Enum=A;class R{}t.EnumItem=R;class N{}t.MultilangText=N;class L{}t.SmsAccount=L;class G{}t.EmailAccount=G;class q{}t.AppConfig=q;class U{}t.SystemConfig=U;class H{}t.PackageInfo=H,function(e){e["StaticWebsite"]="static-website",e["Code"]="code"}(t.PackageType||(t.PackageType={}));class z{}t.PackageAddressRule=z;class B{}t.mFile=B;class W{}t.Text=W;class Y{}t.TimeZone=Y;class K{}t.RefPortion=K;class Q{}t.GeoLocation=Q;class J{}t.Point=J;class X{}t.PutOptions=X;class Z{}t.PatchOptions=Z;class ee{}t.DelOptions=ee;class te{}t.GetOptions=te,function(e){e[e["Ok"]=200]="Ok",e[e["Accepted"]=202]="Accepted",e[e["ResetContent"]=205]="ResetContent",e[e["MovedPermanently"]=301]="MovedPermanently",e[e["MovedTemporarily"]=302]="MovedTemporarily",e[e["BadRequest"]=400]="BadRequest",e[e["Unauthorized"]=401]="Unauthorized",e[e["PaymentRequired"]=402]="PaymentRequired",e[e["Forbidden"]=403]="Forbidden",e[e["NotFound"]=404]="NotFound",e[e["MethodNotAllowed"]=405]="MethodNotAllowed",e[e["NotAcceptable"]=406]="NotAcceptable",e[e["RequestTimeout"]=408]="RequestTimeout",e[e["Gone"]=410]="Gone",e[e["RequestEntityTooLarge"]=413]="RequestEntityTooLarge",e[e["RequestedRangeNotSatisfiable"]=416]="RequestedRangeNotSatisfiable",e[e["ExpectationFailed"]=417]="ExpectationFailed",e[e["UnprocessableEntity"]=422]="UnprocessableEntity",e[e["UpgradeRequired"]=426]="UpgradeRequired",e[e["PreconditionRequired"]=428]="PreconditionRequired",e[e["TooManyRequests"]=429]="TooManyRequests",e[e["UnavailableForLegalReasons"]=451]="UnavailableForLegalReasons",e[e["ServerError"]=500]="ServerError",e[e["NotImplemented"]=501]="NotImplemented",e[e["ServiceUnavailable"]=503]="ServiceUnavailable",e[e["NetworkAuthenticationRequired"]=511]="NetworkAuthenticationRequired",e[e["UnknownError"]=1001]="UnknownError",e[e["ConfigurationProblem"]=1002]="ConfigurationProblem"}(t.StatusCode||(t.StatusCode={}));class re{}t.UploadedFile=re,function(e){e[e["Fatal"]=0]="Fatal",e[e["Error"]=3]="Error",e[e["Warning"]=4]="Warning",e[e["Info"]=6]="Info",e[e["Debug"]=7]="Debug",e[e["Silly"]=8]="Silly"}(t.LogType||(t.LogType={})),function(e){e[e["Auto"]=0]="Auto",e[e["PropertyGroupLink"]=2]="PropertyGroupLink"}(t.LinkType||(t.LinkType={})),function(e){e[e["Stack"]=1]="Stack",e[e["Dock"]=2]="Dock",e[e["Wrap"]=4]="Wrap",e[e["Flex"]=5]="Flex",e[e["Modal"]=6]="Modal"}(t.PanelType||(t.PanelType={})),function(e){e[e["Horizontal"]=1]="Horizontal",e[e["Vertical"]=2]="Vertical"}(t.Orientation||(t.Orientation={})),function(e){e[e["Text"]=1]="Text",e[e["Panel"]=2]="Panel",e[e["Property"]=3]="Property",e[e["Object"]=4]="Object",e[e["Function"]=5]="Function",e[e["Image"]=6]="Image",e[e["Map"]=7]="Map",e[e["Chart"]=8]="Chart",e[e["Viewer"]=9]="Viewer",e[e["Component"]=10]="Component",e[e["Tree"]=11]="Tree",e[e["Document"]=12]="Document",e[e["View"]=13]="View"}(t.ElemType||(t.ElemType={})),function(e){e[e["Object"]=1]="Object",e[e["Function"]=2]="Function",e[e["Form"]=3]="Form",e[e["File"]=4]="File"}(t.EntityType||(t.EntityType={})),function(e){e[e["None"]=0]="None",e[e["View"]=1]="View",e[e["Edit"]=2]="Edit",e[e["NewItem"]=4]="NewItem",e[e["DeleteItem"]=8]="DeleteItem",e[e["Execute"]=16]="Execute",e[e["Full"]=255]="Full"}(t.AccessPermission||(t.AccessPermission={})),function(e){e[e["Visible"]=0]="Visible",e[e["DetailViewVisible"]=1]="DetailViewVisible",e[e["Hidden"]=2]="Hidden"}(t.PropertyViewMode||(t.PropertyViewMode={})),function(e){e[e["Readonly"]=3]="Readonly",e[e["OnceOnly"]=4]="OnceOnly"}(t.PropertyEditMode||(t.PropertyEditMode={})),function(e){e[e["left"]=37]="left",e[e["right"]=39]="right",e[e["up"]=38]="up",e[e["down"]=40]="down",e[e["enter"]=13]="enter",e[e["esc"]=27]="esc",e[e["tab"]=9]="tab",e[e["del"]=46]="del",e[e["ins"]=45]="ins",e[e["backspace"]=8]="backspace",e[e["shift"]=16]="shift",e[e["ctrl"]=17]="ctrl",e[e["alt"]=18]="alt",e[e["space"]=32]="space",e[e["f1"]=112]="f1",e[e["f2"]=113]="f2",e[e["f3"]=114]="f3",e[e["f4"]=115]="f4",e[e["f5"]=116]="f5",e[e["f6"]=117]="f6",e[e["f7"]=118]="f7",e[e["f8"]=119]="f8",e[e["f9"]=120]="f9",e[e["f10"]=121]="f10",e[e["f11"]=122]="f11",e[e["f12"]=123]="f12",e[e["s"]=83]="s",e[e["t"]=84]="t",e[e["u"]=85]="u",e[e["v"]=86]="v",e[e["w"]=87]="w",e[e["x"]=88]="x",e[e["y"]=89]="y",e[e["z"]=90]="z",e[e["m"]=77]="m",e[e["q"]=81]="q",e[e["num_8"]=104]="num_8",e[e["num_2"]=98]="num_2"}(t.Keys||(t.Keys={})),function(e){e[e["en"]=1033]="en",e[e["ar"]=1025]="ar",e[e["fa"]=1065]="fa",e[e["fr"]=1036]="fr",e[e["de"]=1031]="de",e[e["it"]=1040]="it",e[e["ru"]=1049]="ru",e[e["sl"]=1060]="sl",e[e["tr"]=1055]="tr",e[e["pt"]=1046]="pt",e[e["zh"]=2052]="zh",e[e["es"]=3082]="es",e[e["hi"]=1081]="hi",e[e["ja"]=1041]="ja",e[e["ko"]=1042]="ko"}(t.Locale||(t.Locale={})),function(e){e[e["Db"]=1]="Db",e[e["File"]=2]="File",e[e["Memory"]=3]="Memory",e[e["Redis"]=4]="Redis",e[e["Ftp"]=5]="Ftp",e[e["Rest"]=6]="Rest",e[e["Soap"]=7]="Soap",e[e["Kafka"]=8]="Kafka",e[e["S3"]=9]="S3"}(t.SourceType||(t.SourceType={})),function(e){e[e["OpenDialog"]=1]="OpenDialog",e[e["OpenPage"]=2]="OpenPage",e[e["Run"]=3]="Run",e[e["ResultAsObject"]=4]="ResultAsObject"}(t.FunctionMode||(t.FunctionMode={})),function(e){e[e["always"]=1]="always",e[e["hourly"]=2]="hourly",e[e["daily"]=3]="daily",e[e["weekly"]=4]="weekly",e[e["monthly"]=5]="monthly",e[e["yearly"]=6]="yearly",e[e["never"]=7]="never"}(t.ChangeFrequency||(t.ChangeFrequency={})),function(e){e[e["inline"]=0]="inline",e[e["newPage"]=1]="newPage",e[e["modal"]=2]="modal"}(t.NewItemMode||(t.NewItemMode={})),function(e){e[e["inlineData"]=9]="inlineData",e[e["select"]=10]="select",e[e["InnerSelectType"]=4]="InnerSelectType"}(t.PropertyReferType||(t.PropertyReferType={})),function(e){e[e["unknown"]=0]="unknown",e[e["number"]=1]="number",e[e["string"]=2]="string",e[e["boolean"]=3]="boolean",e[e["time"]=4]="time",e[e["location"]=5]="location",e[e["id"]=6]="id",e[e["object"]=7]="object",e[e["file"]=8]="file"}(t.GlobalType||(t.GlobalType={})),function(e){e[e["entity"]=1]="entity",e[e["property"]=2]="property",e[e["item"]=3]="item",e[e["file"]=4]="file"}(t.RefPortionType||(t.RefPortionType={})),function(e){e[e["YearMonthDayHourMinute"]=1]="YearMonthDayHourMinute",e[e["HourMinute"]=2]="HourMinute",e[e["DateWithDayOfWeek"]=3]="DateWithDayOfWeek",e[e["FriendlyDate"]=4]="FriendlyDate",e[e["YearMonthDay"]=5]="YearMonthDay",e[e["DayMonthNameYear"]=6]="DayMonthNameYear"}(t.TimeFormat||(t.TimeFormat={})),function(e){e[e["Filter"]=1]="Filter",e[e["Similar"]=2]="Similar",e[e["SimilarJustProps"]=3]="SimilarJustProps",e[e["Aggregate"]=4]="Aggregate"}(t.ReferType||(t.ReferType={})),function(e){e[e["Permanent"]=0]="Permanent"}(t.RedirectType||(t.RedirectType={})),function(e){e[e["Excel"]=1]="Excel",e[e["Csv"]=2]="Csv",e[e["Pdf"]=3]="Pdf"}(t.FileType||(t.FileType={})),function(e){e["audits"]="audits",e["users"]="users",e["projects"]="projects",e["userCustomizations"]="userCustomizations",e["tasks"]="tasks",e["devConfig"]="devConfig",e["dictionary"]="dictionary",e["auditTypes"]="auditTypes",e["countries"]="countries",e["documents"]="documents",e["feedbacks"]="feedbacks",e["documentDirectories"]="documentDirectories",e["objects"]="objects",e["functions"]="functions",e["roles"]="roles",e["appConfig"]="appConfig",e["systemConfig"]="systemConfig",e["hosts"]="hosts",e["menus"]="menus",e["drives"]="drives",e["flowcharts"]="flowcharts",e["flowchartsDeclarations"]="flowchartsDeclarations",e["notes"]="notes",e["forms"]="forms",e["enums"]="enums"}(t.Objects||(t.Objects={})),function(e){e[e["Ready"]=1]="Ready",e[e["Draft"]=2]="Draft",e[e["UnderReview"]=3]="UnderReview",e[e["NeedsRevision"]=4]="NeedsRevision"}(t.DocStatus||(t.DocStatus={}));class ne{}t.DocumentDirectoryItem=ne;class oe{}t.DocumentDirectory=oe;class ae{}t.Document=ae,function(e){e["addItem"]="5d7b8fbd10f5321b74a1b83b",e["edit"]="5d7b91d410f5321b74a1b83c",e["deleteItem"]="5d7b91e810f5321b74a1b83d",e["login"]="5d7b91f710f5321b74a1b83e",e["logout"]="5d7b920410f5321b74a1b83f",e["start"]="5d7b920d10f5321b74a1b840",e["stop"]="5d7b921b10f5321b74a1b841",e["uncaughtException"]="5d7b922910f5321b74a1b842",e["unhandledRejection"]="5d7b923510f5321b74a1b843",e["tryNotAllowedModify"]="5d7b920d10f5321b74a1b840"}(t.SysAuditTypes||(t.SysAuditTypes={})),function(e){e["title"]="title",e["name"]="name",e["time"]="time",e["comment"]="comment"}(t.SystemProperty||(t.SystemProperty={})),function(e){e["text"]="589f2d8bb16c7523543ae1b0",e["number"]="589f2d8bb16c7523543ae1b3",e["boolean"]="589f2d8bb16c7523543ae1b9",e["time"]="589f2d8bb16c7523543ae1b6",e["id"]="589f2d8bb16c7523543ae1cb",e["location"]="58a18d9c70c25e0c30930287",e["file"]="589f2d8bb16c7523543ae1c2",e["obj"]="5e2562d9a3c257129832b75f"}(t.PType||(t.PType={})),function(e){e[e["index"]=0]="index",e[e["empty"]=1]="empty",e[e["select"]=2]="select"}(t.GridRowHeaderStyle||(t.GridRowHeaderStyle={})),t.Constants={urlPortionApi:"api",referenceValuesLoadCount:10,sysDb:"sys",titlePropertyName:"title",defaultAddress:"_default",indexProperty:"_z",amazonS3ApiVersion:"2006-03-01",ClassStyle_Object:"cs-obj",ClassStyle_Function:"cs-func",ClassStyle_Form:"cs-form",InfoLogFile:"info.log",ErrorLogFile:"error.log",mongodbPoolSize:10,mainDbSourceName:"db",systemPropertiesObjectName:"systemProperties",timeZonesCollection:"timeZones",DEFAULT_APP_TEMPLATE:"<!DOCTYPE html><html><head><%- head_main %></head><body><div id='app'></div><%- main_state() %></body><script>window['start']();<\/script></html>",PASSWORD_EXPIRE_AGE:180},function(e){e[e["Visible"]=1]="Visible",e[e["Enable"]=2]="Enable"}(t.PropertyConditionBehavior||(t.PropertyConditionBehavior={})),function(e){e["Development"]="development",e["Production"]="production"}(t.EnvMode||(t.EnvMode={})),function(e){e[e["Direct"]=0]="Direct",e[e["inline"]=1]="inline",e[e["download"]=2]="download",e[e["api"]=3]="api",e[e["inlineDev"]=4]="inlineDev"}(t.RequestMode||(t.RequestMode={}));class ie{}t.WebResponse=ie;class se{constructor(){this.version="",this.appTitle="",this.brandingLogo="",this.locale=null,this.localeTitle=null,this.defaultLocale=null,this.rtl=!1,this.appLocales=[],this.interactive=!1,this.menu=[],this.headerMenu=!1}}t.AppStateConfig=se,function(e){e["get"]="GET",e["post"]="POST",e["put"]="PUT",e["patch"]="PATCH",e["del"]="DELETE"}(t.WebMethod||(t.WebMethod={}));class le{}t.UnitTestObject=le,function(e){e[e["File"]=1]="File",e[e["Folder"]=2]="Folder",e[e["Drive"]=3]="Drive"}(t.DirFileType||(t.DirFileType={}));class ce{}t.Note=ce;class ue{}t.DirFile=ue,function(e){e[e["Notification"]=1]="Notification",e[e["Log"]=2]="Log",e[e["Question"]=3]="Question",e[e["Answer"]=4]="Answer",e[e["FunctionDone"]=5]="FunctionDone",e[e["FunctionFailed"]=6]="FunctionFailed",e[e["Ping"]=7]="Ping",e[e["PingAck"]=8]="PingAck",e[e["Download"]=9]="Download"}(t.ClientCommand||(t.ClientCommand={})),function(e){e[e["Grouped"]=1]="Grouped",e[e["Tabular"]=2]="Tabular",e[e["Simple"]=3]="Simple",e[e["Wizard"]=4]="Wizard",e[e["Tree"]=5]="Tree"}(t.ObjectDetailsViewType||(t.ObjectDetailsViewType={})),function(e){e[e["Grid"]=1]="Grid",e[e["Card"]=2]="Card",e[e["Column"]=3]="Column"}(t.ObjectListsViewType||(t.ObjectListsViewType={})),function(e){e[e["Yes"]=1]="Yes",e[e["No"]=2]="No"}(t.YesNo||(t.YesNo={}));class de{}t.Context=de;class fe{constructor(){this.showProgress=!1}}t.AjaxConfig=fe;class pe{}t.NotificationInfo=pe;class he{}t.EntityMeta=he;class me{}t.ObjectDec=me;class ge{}t.FunctionDec=ge,function(e){e["query"]="q",e["version"]="v",e["locale"]="e",e["page"]="p",e["cache"]="c",e["sort"]="s",e["mode"]="m",e["functionType"]="f"}(t.ReqParams||(t.ReqParams={}));class ve{}t.ApiDocParameter=ve;class be{}t.ApiDocOperation=be;class ye{constructor(){this.operations=[]}}t.ApiDocBlock=ye;class _e{}t.ApiDocProprty=_e;class we{}t.ApiDocSchema=we;class ke{}t.ApiDocEnum=ke;class xe{constructor(){this.blocks=[],this.schemas=[],this.enums=[]}}t.ApiDoc=xe;class Ce{}t.SysDashboardInfo=Ce;class Te{}t.UserProfile=Te,function(e){e[e["Todo"]=1]="Todo",e[e["Doing"]=2]="Doing",e[e["Done"]=3]="Done",e[e["OnHold"]=4]="OnHold",e[e["Verify"]=5]="Verify"}(t.TaskStatus||(t.TaskStatus={})),function(e){e[e["Urgent"]=1]="Urgent",e[e["High"]=2]="High",e[e["Normal"]=3]="Normal",e[e["Low"]=4]="Low"}(t.TaskPriority||(t.TaskPriority={})),function(e){e[e["Edit"]=1]="Edit"}(t.TaskLogType||(t.TaskLogType={})),function(e){e[e["m0"]=1]="m0",e[e["m5"]=2]="m5",e[e["m15"]=3]="m15",e[e["h1"]=4]="h1",e[e["h2"]=5]="h2",e[e["d0"]=6]="d0",e[e["d1"]=7]="d1",e[e["d2"]=8]="d2"}(t.TaskReminder||(t.TaskReminder={}));class Pe{}t.TaskDueDate=Pe;class De{}t.Task=De;class Oe{}t.Project=Oe,function(e){e[e["Start"]=1]="Start",e[e["Status"]=2]="Status",e[e["DueDate"]=3]="DueDate",e[e["Assignee"]=4]="Assignee",e[e["Priority"]=5]="Priority",e[e["Project"]=6]="Project",e[e["Category"]=8]="Category",e[e["MileStone"]=9]="MileStone",e[e["Grid"]=10]="Grid"}(l=t.TaskView||(t.TaskView={})),function(e){e[e["Brainstorm"]=1]="Brainstorm",e[e["Todo"]=2]="Todo",e[e["Doing"]=3]="Doing",e[e["Urgent"]=4]="Urgent",e[e["Overdue"]=5]="Overdue",e[e["Favorite"]=6]="Favorite"}(t.TaskInboxGroup||(t.TaskInboxGroup={}));class Se{}t.UserCustomization=Se;class Ee{constructor(){this.concern=l.Start,this.project=null,this.coloring=null,this.calendarOffset=0,this.filter={statuses:null}}}t.ProjectView=Ee;class $e{}t.GetTaskDto=$e;class je{}t.Feedback=je;class Me{}t.FlowchartNodeLink=Me;class Ve{}t.FlowchartNode=Ve;class Fe{}t.FlowchartNodeDeclare=Fe;class Ie{}t.FlowchartDeclaration=Ie;class Ae{}t.Flowchart=Ae},8547:function(e,t,r){},8556:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};n.__decorate([o.Prop()],a.prototype,"message",void 0),a=n.__decorate([o.Component({name:"PropMessage"})],a),t.default=a},"85c6":function(e,t,r){"use strict";r.r(t);var n=r("38ed"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"866d":function(e,t,r){"use strict";r.r(t);var n=r("8b3d"),o=r("8338");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},8727:function(e,t,r){},8754:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("a76d");let i=class extends o.Vue{constructor(){super(...arguments),this.randomId=a.ID.generateByBrowser().toString().replace(/\./,"")}changed(){return{val:!this.checked}}keydown(e){return e}};n.__decorate([o.Prop()],i.prototype,"checked",void 0),n.__decorate([o.Emit("changed")],i.prototype,"changed",null),n.__decorate([o.Emit("keydown")],i.prototype,"keydown",null),i=n.__decorate([o.Component({name:"SwitchBox"})],i),t.default=i},8771:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49"),i=r("8445"),s=r("a76d"),l=n.__importStar(r("cd49"));let c=class extends o.Vue{get glob(){return a.glob}isSelected(e){return a.glob.fileGallery.selected==e}openRootMenu(e){e.preventDefault();let t=[{ref:"upload",title:a.$t("upload")},{title:"-"},{ref:"refresh",title:a.$t("refresh")}];l.showCmenu(null,t,e,(e,t)=>{switch(t.ref){case"upload":this.upload();break;case"refresh":l.refreshFileGallery();break}})}upload(){l.browseFile(e=>{l.call("uploadToFileGallery",{drive:a.glob.fileGallery.drive,path:a.glob.fileGallery.path,files:e},e=>{l.refreshFileGallery(),l.notify("upload done!",i.LogType.Debug)})})}removeFile(e){l.question("Delete Confirm",`Are you sure you want to delete the file '${e}'`,[{title:"YES",ref:i.YesNo.Yes},{title:"NO",ref:i.YesNo.No}],null,t=>{t&&t!=i.YesNo.No&&l.ajax("/deleteFromFileGallery?m=1",{drive:a.glob.fileGallery.drive,pth:a.glob.fileGallery.path,name:e},null,()=>l.refreshFileGallery())})}openMenu(e,t){if(t.type==i.DirFileType.Folder)return;let r=[{ref:"preview",title:a.$t("preview")},{ref:"download",title:a.$t("download")},{title:"-"},{ref:"remove",title:a.$t("remove")},{title:"-"},{ref:"refresh",title:a.$t("refresh")}];l.showCmenu(t,r,e,(e,r)=>{switch(r.ref){case"remove":this.removeFile(t.name);break;case"preview":case"download":window.open(l.joinUri(a.glob.fileGallery.uri,t.name),"_blank");break;case"refresh":l.refreshFileGallery();break;case"rename":t["editing"]=!0,console.log(t);break}}),e.stopPropagation(),e.preventDefault()}isImage(e){let t=e.name.split(".").pop().toLowerCase();return s.Constants.imageExtensions.includes(t)}size(e){return e.size?"("+l.toFriendlyFileSizeString(e.size)+")":""}icon(e){const t="/public/images/gallery/";if(e.type==i.DirFileType.Folder)return t+"folder2.png";let r=e.name.split(".").pop().toLowerCase();if(s.Constants.imageExtensions.includes(r))return l.joinUri(a.glob.fileGallery.uri,e.name);switch(r){case"doc":case"docx":return t+"doc.png";case"exe":return t+"exe.png";case"mp3":case"wav":return t+"music.png";case"pdf":return t+"pdf.png";case"avi":case"mp4":case"mov":return t+"play.png";case"zip":return t+"zip.png";case"xml":return t+"xml.png";default:return t+"file.png"}}browse(e){a.glob.fileGallery.fixedPath?l.notify("Current directory Can not be changed!",i.LogType.Debug):(a.glob.fileGallery.path=e,l.refreshFileGallery())}select(e,t){a.glob.fileGallery.show=!1,t&&(a.glob.fileGallery.selected=t),e.stopProgress&&e.stopProgress(),a.glob.fileGallery.selected&&a.glob.fileGallery.selected.type==i.DirFileType.Folder?(a.glob.fileGallery.path=l.joinUri(a.glob.fileGallery.path,a.glob.fileGallery.selected.name),l.refreshFileGallery(null)):(a.glob.fileGallery.show=!1,a.glob.fileGallery.fileSelectCallback(a.glob.fileGallery.path,a.glob.fileGallery.selected))}close(e){a.glob.fileGallery.show=!1,e.stopProgress()}focus(e){a.glob.fileGallery.selected=e}get breadcrumb(){if(a.glob.fileGallery.fixedPath)return[];let e=a.glob.fileGallery.path.split("/").filter(e=>e),t=[];return e.forEach((e,r)=>t.push({title:e,ref:""})),t.length>0&&t.unshift({title:l.$t("drive"),ref:""}),t.pop(),t}get files(){return a.glob.fileGallery.fixedPath&&(a.glob.fileGallery.list=a.glob.fileGallery.list.filter(e=>e.type==i.DirFileType.File)),a.glob.fileGallery.list.sort((e,t)=>t.type-e.type),a.glob.fileGallery.list.forEach(e=>e["editing"]=!1),a.glob.fileGallery.list}get current(){if(a.glob.fileGallery.fixedPath)return l.$t("drive")+` (${a.glob.fileGallery.path})`;{let e=a.glob.fileGallery.path.split("/").filter(e=>e);return 0==e.length?l.$t("drive"):e.pop()}}};c=n.__decorate([o.Component({name:"FileGallery",components:{}})],c),t.default=c},8839:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"api-doc p-4 overflow-auto d-flex h-100"},[r("div",{staticClass:"w-100 h-0"},[e._l(e.data.blocks,(function(t){return r("div",{staticClass:"api-doc-block mb-5"},[r("h3",[e._v(e._s(t.title))]),e._l(t.operations,(function(n){return r("div",{staticClass:"m-2 api-doc-operation"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header p-1"},[r("a",{staticClass:"card-link",attrs:{"data-toggle":"collapse",href:"#"+e.getOprId(t,n)}},[r("span",{class:"api-doc-method text-white p-1 rounded text-center d-inline-block method-"+n.method},[e._v(e._s(n.method))]),r("span",{staticClass:"api-doc-opr-uri font-weight-bolder mx-2 text-dark"},[e._v(e._s(e.data.uriPrefix)+e._s(n.uri))]),r("span",{staticClass:"api-doc-opr-comment text-black-50"},[e._v(e._s(n.comment))])])]),r("div",{staticClass:"collapse",attrs:{id:e.getOprId(t,n),"data-parent":".api-doc"}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"opblock-section-header"},[e._m(0,!0),n.params?r("div",e._l(n.params,(function(t){return r("div",[r("div",[e._v(e._s(t.name))]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],domProps:{value:t.value},on:{input:function(r){r.target.composing||e.$set(t,"value",r.target.value)}}})])})),0):e._e()]),e._m(1,!0),r("button",{attrs:{id:"execute"},on:{click:function(t){return e.getClick(e.data.uriPrefix+n.uri,n)}}},[e._v("Execute ")]),r("div",[e._v(e._s(e.responseApi))]),r("a",{staticClass:"api-doc-opr-uri font-weight-bolder mx-2 text-dark",attrs:{target:"_blank",href:e.data.uriPrefix+n.uri}},[e._v(e._s(e.data.uriPrefix)+e._s(n.uri))])])])])])}))],2)})),r("div",{staticClass:"api-doc-block mb-5"},[r("h3",[e._v("Schemas")]),e._l(e.data.schemas,(function(t){return r("div",{staticClass:"m-2 api-doc-schema"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header p-1"},[r("a",{staticClass:"card-link",attrs:{"data-toggle":"collapse",href:"#schema-"+t.name}},[r("span",{staticClass:"api-doc-opr-uri font-weight-bolder mx-2 text-dark"},[e._v(e._s(t.name))]),r("span",{staticClass:"api-doc-opr-comment text-black-50"},[e._v(e._s(t.comment))])])]),r("div",{staticClass:"collapse",attrs:{id:"schema-"+t.name,"data-parent":".api-doc"}},[r("div",{staticClass:"card-body"},[r("p",[e._v("{")]),e._l(t.properties,(function(t){return r("div",{staticClass:"pl-3"},[r("span",{staticClass:"text-dark schema-prop-name text-nowrap"},[e._v(e._s(t.name)),t.required?r("span",{staticClass:"text-danger"},[e._v("*")]):e._e()]),r("span",{staticClass:"text-primary text-nowrap"},[e._v(e._s(t.type))]),"object"==t.type?r("div",[r("p",[e._v("{")]),e._l(t.properties,(function(t){return r("div",[r("span",{staticClass:"text-dark schema-prop-name text-nowrap"},[e._v(e._s(t.name)),t.required?r("span",{staticClass:"text-danger"},[e._v("*")]):e._e()]),r("span",{staticClass:"text-primary text-nowrap"},[e._v(e._s(t.type))]),r("span",{staticClass:"text-dark text-nowrap p-lg-5"},[e._v(e._s(t.description))]),r("span",{staticClass:"text-dark text-nowrap p-lg-5"},[e._v(e._s(t.sample))])])})),r("p",[e._v("}")])],2):r("div",[r("span",{staticClass:"text-dark text-nowrap p-lg-5"},[e._v(e._s(t.description))]),r("span",{staticClass:"text-dark text-nowrap p-lg-5"},[e._v(e._s(t.sample))])])])})),r("p",[e._v("}")])],2)])])])}))],2),r("div",{staticClass:"api-doc-block mb-5"},[r("h3",[e._v("Enumerations")]),e._l(e.data.enums,(function(t){return r("div",{staticClass:"m-2 api-doc-enum"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header p-1"},[r("a",{staticClass:"card-link",attrs:{"data-toggle":"collapse",href:"#enum-"+t.name}},[r("span",{staticClass:"api-doc-opr-uri font-weight-bolder mx-2 text-dark"},[e._v(e._s(t.name))]),r("span",{staticClass:"api-doc-opr-comment text-black-50"},[e._v(e._s(t.comment))])])]),r("div",{staticClass:"collapse",attrs:{id:"enum-"+t.name,"data-parent":".api-doc"}},[r("div",{staticClass:"card-body"},e._l(t.items,(function(t){return r("div",{},[r("span",{staticClass:"text-dark"},[e._v(e._s(t.name)+" =")]),r("span",{staticClass:"text-primary"},[e._v(e._s(t.value))])])})),0)])])])}))],2)],2)])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tab-header"},[r("h4",{staticClass:"opblock-title"},[e._v("Parameters:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"opblock-section-header"},[r("div",{staticClass:"tab-header"},[r("h4",{staticClass:"opblock-title"},[e._v("Response:")])])])}]},8875:function(e,t,r){var n,o,a;(function(r,i){o=[],n=i,a="function"===typeof n?n.apply(t,o):n,void 0===a||(e.exports=a)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var r,n,o,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,i=/@([^@]*):(\d+):(\d+)\s*$/gi,s=a.exec(p.stack)||i.exec(p.stack),l=s&&s[1]||!1,c=s&&s[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===u&&(r=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=r.replace(n,"$1").trim());for(var f=0;f<d.length;f++){if("interactive"===d[f].readyState)return d[f];if(d[f].src===l)return d[f];if(l===u&&d[f].innerHTML&&d[f].innerHTML.trim()===o)return d[f]}return null}}return e}))},"8b3d":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",[e._v(e._s(e.file.name))]),r("div",[e._v(e._s(e.file.size))])])},o=[]},"8bbf":function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__8bbf__},"8c82":function(e,t,r){"use strict";r.r(t);var n=r("2405"),o=r("e940");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("d3e2");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"8cb5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("a76d");let i=class extends o.Vue{mounted(){let e={labels:[],datasets:[]};e.labels=this.data.series.map(e=>e.x);let t={backgroundColor:a.ChartColors[0],data:[],label:this.data.title,type:this.data.type};this.data.series.forEach((function(e){t.data.push(e.y)})),e.datasets.push(t);let r=this.$refs.canvas.getContext("2d");new Chart(r,{type:"bar",data:e,options:{legend:{display:!0,labels:{fontFamily:"calibri"}},responsive:!0,tooltips:{mode:"index",intersect:!0,titleFontFamily:"calibri",titleMarginBottom:15,bodyFontFamily:"calibri"},pointLabels:{fontFamily:"calibri"}}}),r.font="tahoma"}};n.__decorate([o.Prop()],i.prototype,"data",void 0),i=n.__decorate([o.Component({name:"AppChart"})],i),t.default=i},"8ce7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{goBack(){history.back()}get countTitle(){return a.digitGroup(this.count)}};n.__decorate([o.Prop()],i.prototype,"count",void 0),n.__decorate([o.Prop()],i.prototype,"breadcrumb",void 0),n.__decorate([o.Prop()],i.prototype,"title",void 0),i=n.__decorate([o.Component({name:"Breadcrumb"})],i),t.default=i},"8d1e":function(e,t,r){"use strict";r.r(t);var n=r("2457"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"8de4":function(e,t,r){"use strict";r.r(t);var n=r("cbce"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"8df4":function(e,t,r){"use strict";var n=r("7a77");function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e,t=new o((function(t){e=t}));return{token:t,cancel:e}},e.exports=o},"8e7f":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445");let i=class extends o.Vue{constructor(){super(...arguments),this.phrase=""}keypress(e){switch(e.which){case a.Keys.backspace:if(!this.phrase){let e=this.items.pop();e&&this.remove(e)}break}}update(e){this.phrase&&(this.addItem(this.phrase),this.phrase="")}refreshText(){let e=this.doc[this.prop.name];this.doc[this.prop.name]=null,this.doc[this.prop.name]=e}focus(){$(this.$el).find("input").focus()}remove(e){let t=this.items.filter(t=>t!=e);return{prop:this.prop,val:t,vue:this}}addItem(e){if(!e)return void this.refreshText();let t=this.items;return t.push(e),{prop:this.prop,val:t,vue:this}}get items(){let e=this.doc[this.prop.name];return e?Array.isArray(e)||(e=[e]):this.doc[this.prop.name]=e=[],e}};n.__decorate([o.Prop()],i.prototype,"type",void 0),n.__decorate([o.Prop()],i.prototype,"doc",void 0),n.__decorate([o.Prop()],i.prototype,"prop",void 0),n.__decorate([o.Prop()],i.prototype,"styles",void 0),n.__decorate([o.Prop()],i.prototype,"readOnly",void 0),n.__decorate([o.Emit("changed")],i.prototype,"remove",null),n.__decorate([o.Emit("changed")],i.prototype,"addItem",null),i=n.__decorate([o.Component({name:"PropTextMultiple"})],i),t.default=i},"8edf":function(e,t,r){"use strict";r.r(t);var n=r("e5fb"),o=r("6939");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"4be9f4f2",null);t["default"]=s.exports},"8fc6":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{class:"d-block border-0 "+e.styles,attrs:{contenteditable:"true"},on:{input:e.updateHTML}})},o=[]},9188:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{"progress w-100 position-absolute":1,start:e.glob.showProgress}},[r("div",{staticClass:"progress-bar",attrs:{role:"progressbar"}})])},o=[]},9228:function(e,t,r){"use strict";r.r(t);var n=r("acb8"),o=r("784d");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("a89e");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},9314:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("a76d"),a=r("60a3"),i=r("8445"),s=r("cd49"),l=n.__importStar(r("cd49"));let c=class extends a.Vue{get items(){let e=this.$store.state.data[this.uri]||[];return this.dec.reorderable&&l.sort(e,"_z"),e}clickMenu(e,t){let r=[{ref:"details",title:s.$t("details")},{ref:null,title:"-"},{ref:"delete",title:s.$t("delete")}];this.dec.reorderable&&(r.push({ref:null,title:"-"}),r.push({ref:"move-up",title:s.$t("row-move-up")}),r.push({ref:"move-down",title:s.$t("row-move-down")})),s.showCmenu(t,r,e,(e,t)=>{if(t)switch(t.ref){case"delete":l.dispatchStoreModify(this,{type:o.ChangeType.DeleteItem,uri:this.dec.ref,item:e,vue:this});break;case"details":{if(!e._id)return l.notify("ID is expected, please check the item data!",i.LogType.Error),void console.error(e);let t=l.prepareServerUrl(`${this.dec.ref}/${e._id}`);l.load(t,!0);break}case"move-up":l.commitReorderItems(this.$store,this.items,!0,this.uri,e);break;case"move-down":l.commitReorderItems(this.$store,this.items,!1,this.uri,e);break}})}getTitle(e){return s.$t(e["title"])}changed(e){l.dispatchStoreModify(this,{type:o.ChangeType.EditProp,prop:e.prop,value:e.val,item:e.item,uri:this.uri+"/"+e.item._id,vue:e.vue})}};n.__decorate([a.Prop()],c.prototype,"uri",void 0),n.__decorate([a.Prop()],c.prototype,"dec",void 0),n.__decorate([a.Prop()],c.prototype,"level",void 0),c=n.__decorate([a.Component({name:"CardView",components:{}})],c),t.default=c},9367:function(e,t,r){"use strict";r.r(t);var n=r("aeec");for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("445a");var a,i,s=r("2877"),l=Object(s["a"])(n["default"],a,i,!1,null,null,null);t["default"]=l.exports},9587:function(e,t,r){},9609:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49");let s=class extends o.Vue{render(e){let t=this.elem.panel,r=t.elems||[];switch(t.type){case a.PanelType.Modal:let n=r.filter(e=>e.type!==a.ElemType.Function),o=r.filter(e=>e.type===a.ElemType.Function);return i.glob.modal=!0,e("modal",{attrs:{class:this.elem.styles||null},props:{title:this.elem.title,bodyElems:n,footerElems:o}});case a.PanelType.Stack:{let n=r.map(t=>e("form-elem",{props:{elem:t}}));n.push(e("div",{attrs:{class:"py-2 notify-message-container"}}));let o=t.stack&&t.stack.orientation==a.Orientation.Horizontal;return e("div",{attrs:{class:"panel-stack d-flex "+(o?"flex-row":"flex-column")+" "+this.elem.styles}},n)}case a.PanelType.Wrap:{let t=r.map(t=>e("form-elem",{props:{elem:t}}));return e("div",{attrs:{class:"panel-wrap "+this.elem.styles}},t)}case a.PanelType.Flex:{let t=r.map(t=>e("form-elem",{props:{elem:t}}));return e("div",{attrs:{class:"panel-flex d-flex "+this.elem.styles}},t)}}return e("div")}};n.__decorate([o.Prop()],s.prototype,"elem",void 0),s=n.__decorate([o.Component({name:"Panel",components:{}})],s),t.default=s},"96a7":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("check-box",{attrs:{label:e.label,checked:e.checked},on:{focus:e.focus,changed:e.change}})},o=[]},"970f":function(e,t,r){"use strict";var n=r("3978"),o=r.n(n);o.a},9789:function(e,t,r){"use strict";var n=r("1ec2"),o=r.n(n);o.a},"97fd":function(e,t,r){"use strict";var n=r("ab4b"),o=r.n(n);o.a},9907:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"prop-html-editor w-0 h-0",on:{focus:e.focus}})},o=[]},9939:function(e,t,r){"use strict";r.r(t);var n=r("e42e"),o=r("21de");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"993b":function(e,t,r){"use strict";r.r(t);var n=r("8ce7"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"99ac":function(e,t,r){"use strict";r.r(t);var n=r("9e76"),o=r("657f");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("3c99");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"99f2":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.fileGallery.show?r("div",{attrs:{id:"file-gallery"}},[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper align-middle"},[r("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[r("div",{staticClass:"modal-content",on:{contextmenu:e.openRootMenu}},[e.glob.fileGallery.drive?r("div",{staticClass:"modal-header"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb pt-2 p-0 m-0 bg-transparent"},[e._l(e.breadcrumb,(function(t){return r("li",{staticClass:"breadcrumb-item"},[r("a",{attrs:{href:"#"},on:{click:function(r){return e.browse(t.uri)}}},[e._v(e._s(t.title))]),r("i",{staticClass:"fa fa-chevron-right my-1 ml-2"})])})),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v(e._s(e.current))])],2)]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"},on:{click:function(t){e.glob.fileGallery.show=!1}}},[e._v("×")])])]):e._e(),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"d-flex flex-wrap px-4"},[r("transition",{attrs:{name:"fade"}},[e.glob.fileGallery.loading?r("div",{staticClass:"file-gallery-waiting p-5"},[r("i",{staticClass:"fa text-secondary fa-spin fa-refresh fa-lg"}),r("span",{staticClass:"p-2"},[e._v("loading ...")])]):e._e()]),e._l(e.files,(function(t){return r("div",{directives:[{name:"focus",rawName:"v-focus",value:e.isSelected(t),expression:"isSelected(item)"}],staticClass:"file-gallery-item m-1 p-1",attrs:{tabindex:"1"},on:{dblclick:function(r){return e.select({},t)},focus:function(r){return e.focus(t)},contextmenu:function(r){return e.openMenu(r,t)}}},[r("div",{staticClass:"gallery-item-file d-flex align-items-end justify-content-center"},[r("img",{class:{"file-gallery-image-src":e.isImage(t)},attrs:{src:e.icon(t)}})]),r("label",{staticClass:"text-center mt-1 w-100 file-gallery-label"},[e._v(e._s(t.name)),r("span",{staticClass:"file-gallery-size"},[e._v(e._s(e.size(t)))])])])}))],2)]),r("div",{staticClass:"modal-footer"},[r("div",{staticClass:"d-flex w-100"},[e.glob.fileGallery.selectable?r("Function",{attrs:{styles:"m-2 btn-primary",title:e.$t("select")},on:{exec:e.select}}):e._e(),r("Function",{attrs:{styles:"m-2 btn-secondary",title:e.$t("close")},on:{exec:e.close}})],1)])])])])])])],1):e._e()},o=[]},"9ab4":function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return o})),r.d(t,"__assign",(function(){return a})),r.d(t,"__rest",(function(){return i})),r.d(t,"__decorate",(function(){return s})),r.d(t,"__param",(function(){return l})),r.d(t,"__metadata",(function(){return c})),r.d(t,"__awaiter",(function(){return u})),r.d(t,"__generator",(function(){return d})),r.d(t,"__createBinding",(function(){return f})),r.d(t,"__exportStar",(function(){return p})),r.d(t,"__values",(function(){return h})),r.d(t,"__read",(function(){return m})),r.d(t,"__spread",(function(){return g})),r.d(t,"__spreadArrays",(function(){return v})),r.d(t,"__await",(function(){return b})),r.d(t,"__asyncGenerator",(function(){return y})),r.d(t,"__asyncDelegator",(function(){return _})),r.d(t,"__asyncValues",(function(){return w})),r.d(t,"__makeTemplateObject",(function(){return k})),r.d(t,"__importStar",(function(){return x})),r.d(t,"__importDefault",(function(){return C})),r.d(t,"__classPrivateFieldGet",(function(){return T})),r.d(t,"__classPrivateFieldSet",(function(){return P}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function s(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){function o(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function s(e){try{l(n["throw"](e))}catch(t){a(t)}}function l(e){e.done?r(e.value):o(e.value).then(i,s)}l((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(r)throw new TypeError("Generator is already executing.");while(i)try{if(r=1,n&&(o=2&a[0]?n["return"]:a[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function f(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function p(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function h(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{while((void 0===t||t-- >0)&&!(n=a.next()).done)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a["return"])&&r.call(a)}finally{if(o)throw o.error}}return i}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{l(o[e](t))}catch(r){d(a[0][3],r)}}function l(e){e.value instanceof b?Promise.resolve(e.value.v).then(c,u):d(a[0][2],e)}function c(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function _(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"===typeof h?h(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){t=e[r](t),o(n,a,t.done,t.value)}))}}function o(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},"9ac3":function(e,t,r){"use strict";r.r(t);var n=r("cd36"),o=r("4ed8");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("25c0");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"9b86":function(e,t,r){"use strict";r.r(t);var n=r("726d"),o=r("c7ac");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"047c0d7f",null);t["default"]=s.exports},"9c0c":function(e,t,r){},"9c34":function(e,t,r){},"9c97":function(e,t,r){"use strict";r.r(t);var n=r("79ce");for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);var a,i,s=r("2877"),l=Object(s["a"])(n["default"],a,i,!1,null,null,null);t["default"]=l.exports},"9ca0":function(e,t,r){"use strict";r.r(t);var n=r("8cb5"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"9e76":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.styles+" prop-text-multi px-1 pb-0",on:{click:e.focus}},[e._l(e.items,(function(t){return r("div",{class:{"ref-multi-item rounded-lg rmI d-inline-block mb-1 px-1 border text-nowrap":1,"mr-1":e.ltr,"ml-1":e.rtl}},[r("i",{staticClass:"text-black-50 mx-1 rmD fa fa-times",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.remove(t)}}}),r("span",{staticClass:"rmV cursor-pointer"},[e._v(e._s(t))])])})),e.readOnly?e._e():r("input",{directives:[{name:"model",rawName:"v-model",value:e.phrase,expression:"phrase"}],staticClass:"bg-transparent rmT border-0",domProps:{value:e.phrase},on:{blur:e.refreshText,keydown:e.keypress,change:e.update,input:function(t){t.target.composing||(e.phrase=t.target.value)}}})],2)},o=[]},"9e7e":function(e,t,r){},"9ed7":function(e,t,r){"use strict";r.r(t);var n=r("30f2"),o=r("85c6");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("5c33");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},a01c:function(e,t,r){"use strict";var n=r("fa16"),o=r.n(n);o.a},a05c:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{attrs:{type:e.type,placeholder:e.placeholder,name:1!=e.viewType?e.prop.name:null,readonly:e.readOnly},domProps:{value:e.value},on:{focus:e.focus,blur:e.blur,input:e.update,keydown:e.keydown}})},o=[]},a14d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{get profilePhoto(){return a.glob.config.user.photoUrl||"https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5bed565…/5f7abfa5-a174-45b5-a5a5-68a91a876506/128"}mounted(){$(".app-user-login .dropdown").on("show.bs.dropdown",(function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown(100)})),$(".app-user-login .dropdown").on("hide.bs.dropdown",(function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp(300)}))}};n.__decorate([o.Prop()],i.prototype,"buttonClass",void 0),i=n.__decorate([o.Component({name:"AppUserLoginMenu"})],i),t.default=i},a271:function(e,t,r){"use strict";var n=r("dbd3"),o=r.n(n);o.a},a29b:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"nav flex-column tree"},e._l(e.items,(function(t){return r("li",{staticClass:"nav-item"},[r("div",{staticClass:"d-flex align-items-center"},[t.items?r("i",{staticClass:"fas fa-lg fa-caret-down pr-2"}):r("div",{staticClass:"pr-4"}),r("a",{class:{"text-nowrap text-secondary nav-link":1,active:e.isActive(t)},attrs:{href:t.ref?t.ref:"javascript:void(0);"},on:{click:function(r){return e.$emit("select",t)}}},[e._v(e._s(t.title))])]),t.items?r("tree",{staticClass:"ml-3",attrs:{items:t.items},on:{select:function(t){return e.$emit("select",t)}}}):e._e()],1)})),0)},o=[]},a2b9:function(e,t,r){"use strict";r.r(t);var n=r("e467"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},a326:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout-default",{staticClass:"grid-view",attrs:{justContent:!!e.level,globalFunctions:e.headFuncs,showSideMenu:!e.level&&(e.recentItems||e.dec.filterDec)}},[r("template",{slot:"toolbar-customs"},[e.showFilter?r("div",{staticClass:"border d-flex align-items-center toolbar-filter px-2 mx-sm-4 mx-1 bg-light"},[r("i",{staticClass:"fal fa-filter p-1 d-inline-block text-muted"}),r("PropertyFilter",{attrs:{allowPropChange:!0,prop:e.filteringProp,filter:e.filter,filterDoc:e.filterDoc},on:{changed:e.filterValueChanged,changeFilterProp:e.changeFilterProp}})],1):e._e(),e.addButton?r("button",{staticClass:"btn btn-success mx-1 px-4",on:{click:e.clickNewItem}},[r("i",{class:{"fal fa-plus-circle":1,"pr-2":e.ltr,"pl-2":e.rtl}}),e._v("Add")]):e._e()]),r("template",{slot:"side-menu"},[e.dec.filterDec?r("div",{staticClass:"sidenav-filter p-3"},[r("label",{staticClass:"text-muted small"},[r("i",{staticClass:"fal fa-filter p-1"}),e._v("Filter "+e._s(e.glob.form.breadcrumbLast)+":")]),r("DetailsView",{attrs:{dec:e.dec.filterDec,data:e.dec.filterData,level:e.level?e.level+1:1},on:{changed:e.objectFilterChanged}})],1):e._e(),e.recentItems?r("div",{staticClass:"recent-items pt-3"},[r("label",{staticClass:"text-muted small mx-3 mt-3 font-weight-bold"},[e._v("Recent "+e._s(e.glob.form.breadcrumbLast)+":")]),r("ul",{staticClass:"nav flex-column"},e._l(e.recentItems,(function(t){return r("li",{staticClass:"nav-item"},[r("a",{staticClass:"text-nowrap nav-link",attrs:{href:t.ref},on:{click:function(r){return e.clickRecentItem(t)}}},[e._v(e._s(t.title))])])})),0)]):e._e()]),r("template",{slot:"main-content"},[e.filter&&e.filteringProp&&(e.filteredProps||[]).length?r("div",{staticClass:"pb-2 d-flex"},e._l(e.filteredProps,(function(t){return r("div",{staticClass:"filter-chip border d-flex align-items-center px-2 bg-white mr-2"},[r("PropertyFilter",{attrs:{allowPropChange:!1,prop:t,filter:e.filter,filterDoc:e.filterDoc},on:{changed:e.filterValueChanged}}),r("i",{staticClass:"fas fa-times p-1 text-dark",on:{click:function(r){return e.removeFilter(t)}}})],1)})),0):e._e(),r("table",{class:{"bg-white":1,"mb-5":!e.level,"grid-view-box":!e.level||e.level<2}},[r("thead",[r("tr",[2===e.rowHeaderStyle?r("th",{staticClass:"text-center",attrs:{scope:"col"}},[r("CheckBox",{attrs:{checked:e.mainChecked},on:{changed:e.mainCheckChange}})],1):r("th",{attrs:{scope:"col"}}),e._l(e.dec.properties,(function(t){return r("th",{staticClass:"text-nowrap",attrs:{scope:"col"},on:{click:function(r){return e.showColumnMenu(t,r)}}},[e._v(" "+e._s(t.title||t.name))])}))],2)]),r("tbody",e._l(e.items,(function(t){return r("grid-view-row",{attrs:{dec:e.getDec(t),selectable:2===e.rowHeaderStyle,item:t,readonly:!(2&e.dec.access)},on:{selected:e.rowSelected,keydown:e.keydown,headerClick:e.showRowMenu,changed:e.changed}})})),1),r("tfoot",[r("tr",[r("td",{staticClass:"border-0",attrs:{colspan:"100"}},[r("div",{staticClass:"align-items-center d-flex"},[4&e.dec.access?r("Function",{attrs:{styles:"text-secondary fa-lg fal fa-plus-circle",name:"newItem",title:e.$t("add")},on:{exec:e.insert}}):e._e(),2===e.rowHeaderStyle?r("Function",{attrs:{styles:"fas fa-trash",name:"deleteItems",title:e.$t("delete")},on:{exec:e.deleteItems}}):e._e(),r("div",{staticClass:"flex-grow-1 d-flex align-items-center"},[e.dec.pages>1?r("ul",{staticClass:"m-2 pagination "},[r("li",{staticClass:"page-item",attrs:{"data-toggle":"tooltip",title:"Previous Page"}},[r("a",{staticClass:"page-link",attrs:{href:"javascript:;"},on:{click:e.goBack}},[r("i",{class:{"fal fa-lg":1,"fa-chevron-right":e.rtl,"fa-chevron-left":e.ltr}})])]),e._l(e.dec.pageLinks,(function(t){return r("li",{class:"page-item"+(t.active?" active":"")},[r("a",{staticClass:"page-link",attrs:{href:t.ref}},[e._v(e._s(t.title))])])})),r("li",{staticClass:"page-item",attrs:{"data-toggle":"tooltip",title:"Next Page"}},[r("a",{staticClass:"page-link",attrs:{href:"javascript:;"},on:{click:e.goForward}},[r("i",{class:{"fal fa-lg":1,"fa-chevron-left":e.rtl,"fa-chevron-right":e.ltr}})])])],2):e._e()])],1)])])])])])],2)},o=[]},a338:function(e,t,r){},a3ca:function(e,t,r){"use strict";var n=r("e9d7"),o=r.n(n);o.a},a402:function(e,t,r){"use strict";r.r(t);var n=r("3d70"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},a4ce:function(e,t,r){"use strict";r.r(t);var n=r("d0c0"),o=r("3aea");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("7b0e");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},a5bc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=n.__importStar(r("cd49")),i=r("cd49"),s=r("cf2c"),l=r("a76d"),c=r("8445");let u=class extends o.Vue{constructor(){super(...arguments),this.rowHeaderStyle=c.GridRowHeaderStyle.empty,this.recentItems=null,this.addButton=!1,this.mainChecked=!1,this.filter=null,this.latest_z=0,this.filterDoc={},this.filteringProp=null,this.filteredProps=[],this.headFuncs=[]}getDec(e){return this.dec||e._.dec}get items(){return this.data?this.data:this.$store.state.data[this.uri]||[]}refresh(){a.load(location.pathname,!1)}onUriReset(){this.resetFilterParameters(),this.resetHeadFuncs(),this.resetRecentItems(),this.checkForAddButton(),this.latest_z=this.items.length?Math.max(...this.items.map(e=>e._z||0)):0,i.glob.infoPanel.currentComment=this.dec.comment}checkForAddButton(){this.addButton=this.dec.access&c.AccessPermission.NewItem&&this.dec.newItemMode==c.NewItemMode.newPage}clickRecentItem(e){i.pushToGridViewRecentList(location.pathname.replace(/^\//,""),e.ref,e.title)}resetRecentItems(){let e=localStorage.getItem("gridView-recentItems-"+location.pathname.replace(/^\//,""));this.recentItems=e?JSON.parse(e):null}get showFilter(){return this.filter&&0==i.glob.form.breadcrumb.length}resetFilterParameters(){this.filteredProps=[],this.filterDoc={},this.filter={$and:[]},this.filteringProp=this.dec.properties[0]}objectFilterChanged(e){console.log("this.dec.filterData",this.dec.filterData);let t=i.setQs(c.ReqParams.query,s.stringify(this.dec.filterData,!0),!0);t=i.setQs(c.ReqParams.page,null,!0,t),i.load(t,!0)}resetHeadFuncs(){this.headFuncs=[],this.dec.links&&(this.headFuncs=this.dec.links.filter(e=>!e.disable&&!e.type).map(e=>({title:e.title,ref:i.urlInsertPrefix(e.address)})))}mounted(){if(this.resetHeadFuncs(),this.resetRecentItems(),this.checkForAddButton(),this.latest_z=this.items.length?Math.max(...this.items.map(e=>e._z||0)):0,i.glob.infoPanel.currentComment=this.dec.comment,!this.dec.filterDec){this.filterDoc={},this.filteringProp=this.dec.properties[0];for(let e of this.dec.properties)this.filterDoc[e.name]=null;this.extractFilteredProps()}$('[data-toggle="tooltip"]').tooltip()}filterValueChanged(e){this.filterDoc[e.prop.name]=e.val;let t=this.filter.$and.find(t=>e.prop.name==Object.keys(t.$or[0])[0]);if(e.prop.text&&e.prop.text.multiLanguage){let r={};r[e.prop.name]=e.filterVal;let n={};n[e.prop.name+"."+i.glob.config.locale]=e.filterVal,t?t.$or=[r,n]:this.filter.$and.push({$or:[r,n]})}else{let r={};r[e.prop.name]=e.filterVal,t?t.$or=[r]:this.filter.$and.push({$or:[r]})}let r=this.filteredProps,n=r.find(t=>t.name==e.prop.name);n||null==e.val?n&&null==e.val&&r.splice(r.indexOf(n),1):r.push(e.prop),this.filteredProps=null;let o=this.filterDoc;this.filterDoc=null,this.$nextTick(()=>{this.filteredProps=[...r],this.filterDoc=o}),this.refreshQueryByFilter()}getFilterDocValue(e){if("string"==typeof e||"number"==typeof e)return e;if(e){if(e instanceof RegExp)return/^\/\^/.test(e.toString())?e.toString().replace(/^\/\^(.+)\/.+/,"$1"):/\$\/i?$/.test(e.toString())?e.toString().replace(/^\/(.+)\$\/.+/,"$1"):e.toString().replace(/^\/(.+)\/.+/,"$1");if(e.$gt)return e.$gt;if(e.$gte)return e.$gte;if(e.$lt)return e.$lt;if(e.$lte)return e.$lte;if(e.$in)return e.$in;if(!0===e.$ne)return l.FilterOperator.No;if(e.$ne)return e.$ne;if(e.$nn)return e.$nn;if(e.$none)return e.$none;if(e.$exists)return e.$exists;if(e.$nin)return e.$nin}return null}extractFilteredProps(){if(this.filteredProps=[],i.getQs(c.ReqParams.query)?this.filter=s.parse(i.getQs(c.ReqParams.query),!0,l.ID):this.filter={$and:[]},this.filter.$and)for(let e of this.filter.$and){if(!e.$or){console.error("Invalid filter, expected $or",this.filter);continue}let t=Object.keys(e.$or[0])[0],r=this.dec.properties.find(e=>e.name==t.replace(/\..+/,""));r?(this.filteredProps.push(r),this.filterDoc[t]=this.getFilterDocValue(e.$or[0][t])):console.error(`Property '${t}' not found.`)}else for(let e in this.filter){let t=this.dec.properties.find(t=>t.name==e.replace(/\..+/,""));t?(this.filteredProps.push(t),this.filterDoc[e]=this.getFilterDocValue(this.filter[e])):console.error(`Property '${e}' not found.`)}}refreshQueryByFilter(){let e=i.setQs(c.ReqParams.query,this.filter.$and.length?s.stringify(this.filter,!0):null,!0);e=i.setQs(c.ReqParams.page,null,!0,e),i.load(e,!0)}removeFilter(e){let t=this.filter.$and.find(t=>e.name==Object.keys(t.$or[0])[0]);this.filter.$and.splice(this.filter.$and.indexOf(t),1),this.filterDoc[e.name]=null,this.filteredProps.splice(this.filteredProps.indexOf(e),1),this.refreshQueryByFilter()}changeFilterProp(e){let t=this.dec.properties.map(e=>({ref:e,title:e.title}));i.showCmenu(this,t,e,(e,t)=>{t&&(e.filteringProp=t.ref)})}clickNewItem(){a.load(location.pathname+"?n=1",!0)}clickObjectMenu(e){let t=[{ref:"export-excel",title:i.$t("export-excel")},{ref:"export-csv",title:i.$t("export-csv")},{ref:"export-pdf",title:i.$t("export-pdf")},{title:"-"},{ref:"import",title:i.$t("import")},{title:"-"},{ref:"email-excel",title:i.$t("email-excel")},{ref:"email-csv",title:i.$t("email-csv")},{ref:"email-pdf",title:i.$t("email-pdf")},{title:"-"},{ref:"print",title:i.$t("print")}];a.showCmenu(null,t,e,(e,t)=>{switch(t.ref){case"export-csv":i.call("exportData",{type:c.FileType.Csv},(e,t)=>{});break;default:i.notify("File type not supported yet",c.LogType.Error);break;case"print":window.print();break}})}mainCheckChange(e){this.mainChecked=e.val,e.val?this.selectAll():(this.rowHeaderStyle=c.GridRowHeaderStyle.empty,this.deselectAll())}changed(e){a.dispatchStoreModify(this,{type:e.type,prop:e.prop,value:e.val,item:e.item,uri:this.uri+"/"+e.item._id,vue:e.vue})}keydown(e){if(e&&e.event)switch(e.event.which){case c.Keys.esc:break;case c.Keys.up:case c.Keys.down:case c.Keys.enter:let t=$(e.event.target),r=t.closest("td")[0].cellIndex,n=t.closest("tr")[0].rowIndex+(e.event.which==c.Keys.up?-1:1),o=t.closest("table");if(e.event.which==c.Keys.enter&&n==o[0].rows.length-1)this.insert();else if(n<=0||n>=o[0].rows.length-1)return;setTimeout(()=>{let e=o[0].rows[n],t=e.cells[r].firstChild;e.click(),t.focus()},0),e.event.ctrlKey&&(e.event.which==c.Keys.up&&this.rowMove(!0,this.uri),e.event.which==c.Keys.down&&this.rowMove(!1,this.uri));break}}insert(){switch(this.dec.newItemMode){case c.NewItemMode.newPage:let e="/"+this.uri+"?n=1";this.dec.newItemDefaults&&(e+="&d="+this.dec.newItemDefaults),a.load(e,!0);break;default:if(i.getQs(l.Constants.QUERY_NEW))return void i.notify("Please save your changes before!",c.LogType.Warning);let t={_id:l.ID.generateByBrowser(),_new:!0,_:{marked:!1,dec:this.dec}};if(this.dec.newItemDefaults){let e=s.parse(this.dec.newItemDefaults,!0,l.ID);Object.assign(t,e)}this.dec.properties.forEach(e=>t[e.name]=null),this.dec.reorderable&&(t._z=++this.latest_z),a.dispatchStoreModify(this,{type:l.ChangeType.InsertItem,item:t,uri:this.uri,vue:this});break;case c.NewItemMode.modal:a.notify("not supported!",c.LogType.Error);break}}goBack(){if(this.dec.page>1){let e=a.setQs(c.ReqParams.page,this.dec.page-1,!0);a.load(e,!0)}}goForward(){if(this.dec.page<this.dec.pages){let e=a.setQs(c.ReqParams.page,this.dec.page+1,!0);a.load(e,!0)}}showColumnMenu(e,t){let r=[{ref:"sort",title:i.$t("sort")},{ref:"filter",title:i.$t("filter")}];a.showCmenu(e,r,t,(e,t)=>{if(a.hideCmenu(),t)switch(t.ref){case"sort":let t=a.getQs(c.ReqParams.sort),r=(t&&-1==t.indexOf("-")?"-":"")+e.name,n=a.setQs(c.ReqParams.sort,r,!0);a.load(n,!0);break;case"filter":this.filteringProp=e;break}})}deleteItems(){let e=this.items.filter(e=>e._.marked);for(let t of e)a.dispatchStoreModify(this,{type:l.ChangeType.DeleteItem,uri:this.dec.ref,item:t,vue:this});this.rowHeaderStyle=c.GridRowHeaderStyle.empty}onScroll(){a.hideCmenu()}selectAll(){this.rowHeaderStyle=c.GridRowHeaderStyle.select,this.items.forEach(e=>e._.marked=!0)}deselectAll(e){this.items.forEach(e=>e._.marked=!1),e&&(e._.marked=!0)}rowSelected(e){this.mainChecked=!1,this.rowHeaderStyle==c.GridRowHeaderStyle.select?(e.item._.marked=!e.item._.marked,this.items.find(e=>e._.marked)||(this.rowHeaderStyle=c.GridRowHeaderStyle.empty)):this.deselectAll(e.item)}showRowMenu(e){let t=[{ref:"select",title:i.$t("select")},{ref:"select-all",title:i.$t("select-all")},{ref:null,title:"-"},{ref:"delete",title:i.$t("delete")}];e.item._id&&t.unshift({ref:"details",title:i.$t("details")}),this.dec.reorderable&&(t.push({ref:null,title:"-"}),t.push({ref:"move-up",title:i.$t("row-move-up")}),t.push({ref:"move-down",title:i.$t("row-move-down")})),a.showCmenu(e.item,t,e.event,(e,t)=>{if(a.hideCmenu(),t)switch(t.ref){case"delete":this.deleteItems();break;case"details":{if(!e._id)return a.notify("ID is expected, please check the item data!",c.LogType.Error),void console.error(e);let t=a.prepareServerUrl(`${this.dec.ref}/${e._id}`);a.load(t,!0);break}case"tree":{if(!e._id)return a.notify("ID is expected, please check the item data!",c.LogType.Error),void console.error(e);let t=a.prepareServerUrl(`${this.dec.ref}/${e._id}?t=${c.ObjectViewType.TreeView}`);a.load(t,!0);break}case"select":this.rowHeaderStyle=c.GridRowHeaderStyle.select;break;case"select-all":this.selectAll();break;case"move-up":this.rowMove(!0,this.uri);break;case"move-down":this.rowMove(!1,this.uri);break}}),this.deselectAll(e.item)}rowMove(e,t){let r=this.items.find(e=>e._.marked);a.commitReorderItems(this.$store,this.items,e,t,r)}};n.__decorate([o.Prop()],u.prototype,"uri",void 0),n.__decorate([o.Prop()],u.prototype,"data",void 0),n.__decorate([o.Prop()],u.prototype,"dec",void 0),n.__decorate([o.Prop()],u.prototype,"level",void 0),n.__decorate([o.Watch("uri")],u.prototype,"onUriReset",null),u=n.__decorate([o.Component({name:"GridView"})],u),t.default=u},a76d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("8445"),o=r("cf2c");t.ID=o.ID,t.Constants={redirectBack:"_back",errorEmbedProperty:"e",redirectSelf:"_self",defaultAddress:"/_default",contextMenuVisibleItems:10,imageExtensions:["png","tiff","ico","gif","jpg","jpeg","svg"],uniqueFilenameRegex:/^[a-fA-F0-9]{24}__/,QUERY_LOCALE:"e",QUERY_NEW:"n"},t.ChartColors=["rgba(54, 162, 235, 0.8)","rgba(255, 99, 132, 0.8)","rgba(75, 192, 192, 0.8)","rgba(255, 159, 64, 0.8)","rgba(255, 205, 86, 0.8)","rgba(153, 102, 255, 0.8)","rgba(231,233,237, 0.8)"];class a{}t.HeadFunc=a;class i{}t.MenuItem=i;class s{}var l;t.StateChange=s,function(e){e[e["EditProp"]=1]="EditProp",e[e["InsertItem"]=2]="InsertItem",e[e["DeleteItem"]=3]="DeleteItem",e[e["UploadFile"]=5]="UploadFile",e[e["SelectFile"]=6]="SelectFile",e[e["DeleteFile"]=7]="DeleteFile"}(t.ChangeType||(t.ChangeType={}));class c{constructor(){this.show=!1}}t.AppStateGeoMap=c;class u{constructor(){this.components={}}}t.StartParams=u;class d{}t.PropEventArg=d;class f{}t.ItemEventArg=f;class p{}t.FunctionExecEventArg=p;class h{}t.ItemChangeEventArg=h;class m{}t.FilterChangeEventArg=m;class g{constructor(){this.show=!1,this.items=[],this.left=0,this.top=0}}t.AppStateCmenu=g,function(e){e[e["Hidden"]=1]="Hidden",e[e["Visible"]=2]="Visible"}(t.PropertyLabelMode||(t.PropertyLabelMode={}));class v{}t.TreeViewNode=v;class b{}t.TreeViewLine=b;class y{}t.TreeViewAttribute=y;class _{constructor(){this.data={},this.infoPanel={notes:[],show:!0,currentComment:null},this.question=new C,this.fileGallery=new k,this.fileBrowsed=null,this.imagePreview={show:!1,url:null},this.logs=[],this.modal=!1,this.config=new n.AppStateConfig,this.dirty=!1,this.notify=null,this.cmenu=new g,this.geoMap=new c,this.modifies=[],this.showProgress=!1,this.showNavMenu=!0,this.screen=l.md}}t.Global=_,function(e){e[e["xs"]=1]="xs",e[e["sm"]=2]="sm",e[e["md"]=3]="md",e[e["lg"]=4]="lg"}(l=t.ScreenSize||(t.ScreenSize={}));class w{}t.Modify=w,function(e){e["Select"]="[select]",e["Equal"]="eq",e["NotEqual"]="ne",e["Yes"]="ye",e["No"]="no",e["NotNull"]="nn",e["Null"]="nl",e["GreaterThan"]="gt",e["GreaterThanEqual"]="gte",e["LessThan"]="lt",e["LessThanEqual"]="lte",e["Like"]="lk",e["In"]="in",e["NotIn"]="nin",e["StartWith"]="sw",e["EndWith"]="ew",e["None"]="none",e["Exist"]="exists"}(t.FilterOperator||(t.FilterOperator={}));class k{constructor(){this.path="",this.list=[],this.file="",this.show=!1,this.loading=!1,this.fixedPath=!1,this.uri=""}}t.AppStateFileGallery=k;class x{}t.QuestionOptions=x;class C{constructor(){this.buttons=[],this.show=!1}}t.AppStateQuestion=C;class T{}t.AppStateLog=T;class P{}t.TaskGroupData=P;class D{}t.TaskEvent=D},a89e:function(e,t,r){"use strict";var n=r("ccb6"),o=r.n(n);o.a},a8f7:function(e,t,r){"use strict";r.r(t);var n=r("1a83"),o=r("5f33");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"15123cf7",null);t["default"]=s.exports},a995:function(e,t,r){"use strict";r.r(t);var n=r("0684"),o=r("3a8e");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"d86ebe5a",null);t["default"]=s.exports},a99f:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.message?r("span",{staticClass:"prop-message text-danger"},[e._v(e._s(e.message))]):e._e()},o=[]},ab06:function(e,t,r){"use strict";r.r(t);var n=r("8035"),o=r("0a84");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},ab0d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49"),i=r("8445");let s=class extends o.Vue{constructor(){super(...arguments),this.flowchart={nodes:[],title:"Loading ..."},this.dec={nodes:[]},this.draggingNodeDec=null,this.currentNode=null,this.currentLink=null,this.currentNodeObjectDec=null,this.nodeObjectDec=null,this.linkObjectDec=null,this.dirty=!1,this.tag=0,this.selectingLinkTarget=!1,this.links=[]}duplicateNode(){}deleteLink(){a.question("Confirm","Are you sure you want to delete the link?",[{title:"Cancel",ref:"no",_cs:"btn btn-light ml-2"},{title:"Delete link",ref:"yes",_cs:"btn btn-danger ml-2"}],null,e=>{if("yes"==e){let e=this.currentLink.node.nexts.indexOf(this.currentLink.next);this.currentLink.node.nexts.splice(e,1),this.currentLink=null,this.dirty=!0,this.extractLinks()}})}deleteNode(){a.question("Confirm",`Are you sure you want to delete the node named '${this.currentNode.title}'?`,[{title:"Cancel",ref:"no",_cs:"btn btn-light ml-2"},{title:"Delete node",ref:"yes",_cs:"btn btn-danger ml-2"}],null,e=>{if("yes"==e){for(let t of this.flowchart.nodes)t.nexts&&(t.nexts=t.nexts.filter(e=>e.node!=this.currentNode.tag));let e=this.flowchart.nodes.indexOf(this.currentNode);this.flowchart.nodes.splice(e,1),this.currentNode=null,this.extractLinks()}})}linkNode(){this.selectingLinkTarget=!0,a.notify("Select target node!",i.LogType.Debug)}selectLink(e){this.links.forEach(e=>e.active=!1),this.currentNode=null,this.linkObjectDec={access:i.AccessPermission.Full,properties:[{title:"Condition",name:"type",_:{gtype:i.GlobalType.id,isRef:!0,items:[{ref:"xxx",title:"xxx"},{ref:"xxx22",title:"xxx22"}]}},{title:"Value",name:"value",_:{gtype:i.GlobalType.string}}]};let t=e.node._.dec.nexts.find(t=>t.name==e.next.type);t&&t.parametric&&this.linkObjectDec.properties.push({title:"Value",name:"value",_:{gtype:i.GlobalType.string}});for(const r of this.linkObjectDec.properties)a.assignNullToEmptyProperty(e,r);this.currentLink=e,e.active=!0,this.dirty=!0}dragNodeDec(e,t){e.dataTransfer.effectAllowed="copy",this.draggingNodeDec=t}selectNode(e){this.currentNode=null,this.currentNodeObjectDec={access:i.AccessPermission.Full,properties:e._.dec.params||[]},this.currentNode=e,this.currentLink&&(this.currentLink.active=!1),this.currentLink=null,this.$forceUpdate()}startMoveNode(e,t){if(this.selectingLinkTarget)return this.selectingLinkTarget=!1,this.currentNode.nexts=this.currentNode.nexts||[],this.currentNode.nexts.push({node:t.tag,type:null,value:null}),void this.extractLinks();e.preventDefault(),e.stopPropagation(),this.dragOffset={x:e.clientX,y:e.clientY},this.selectNode(t),document.onmouseup=e=>{document.onmouseup=null,document.onmousemove=null,this.dirty=!0},document.onmousemove=e=>{e.preventDefault(),this.currentNode.point.x+=e.clientX-this.dragOffset.x,this.currentNode.point.y+=e.clientY-this.dragOffset.y,this.dragOffset={x:e.clientX,y:e.clientY},this.extractLinks()}}apply(){let e=a.clone(this.flowchart);delete e._,e.nodes.forEach(e=>delete e._),a.call("saveFlowchart",{flowchart:e},(e,t)=>{e||(a.notify("Saved!",i.LogType.Debug),this.dirty=!1)})}isSelected(e){return this.currentNode==e}dragOver(e){e.preventDefault()}dropNode(e){if(e.preventDefault(),this.draggingNodeDec){let t={title:this.draggingNodeDec.title,type:this.draggingNodeDec.name,tag:++this.tag,point:{x:e.offsetX,y:e.offsetY},_:{dec:this.draggingNodeDec}};this.flowchart.nodes.push(t);for(const e of t._.dec.params)t.params=t.params||{},a.assignNullToEmptyProperty(t,e);this.draggingNodeDec=null}this.dirty=!0}refresh(){let e=location.pathname.replace(/.*flowchart-designer\/(\w+).*/,"$1");a.call("loadFlowchart",{flowchart:{$oid:e}},(e,t)=>{this.flowchart=t.data,this.dec=this.flowchart._.type,this.dirty=!1;for(let r of this.flowchart.nodes)if(r._={dec:this.dec.nodes.find(e=>e.name==r.type)},r._.dec)for(const e of r._.dec.params)r.params=r.params||{},a.assignNullToEmptyProperty(r,e);this.flowchart.nodes.some(e=>!e._.dec)&&(a.notify(`Node '${this.flowchart.nodes.find(e=>!e._.dec).title}' has invalid type!`,i.LogType.Error),this.flowchart.nodes=this.flowchart.nodes.filter(e=>e._.dec),this.dirty=!0),this.tag=this.flowchart.nodes.length?Math.max(...this.flowchart.nodes.map(e=>e.tag)):0,this.$nextTick(()=>{this.extractLinks()})})}extractLinks(){this.links=[];for(let e of this.flowchart.nodes)if(e.nexts)for(let t of e.nexts){let r=this.flowchart.nodes.find(e=>e.tag==t.node);if(!r){console.warn(`Target node #${t.node} not found!`);let r=e.nexts.indexOf(t);e.nexts.splice(r,1),this.dirty=!0;continue}let n=$(`.node[tabindex=${e.tag}]`);e.width=n.width(),e.height=n.height();let o=$(`.node[tabindex=${r.tag}]`);r.width=o.width(),r.height=o.height();let a=[`M${e.point.x+e.width/2},${e.point.y+e.height/2}`,`L${r.point.x+r.width/2},${e.point.y+e.height/2}`,`L${r.point.x+r.width/2},${r.point.y+r.height/2}`];this.links.push({path:a.join(" "),active:!1,node:e,next:t})}}clickObjectMenu(){}created(){a.glob.infoPanel.show=!1,this.nodeObjectDec={access:i.AccessPermission.Full,properties:[{title:"Title",name:"title",_:{gtype:i.GlobalType.string}},{title:"Tag",name:"tag",editMode:i.PropertyEditMode.Readonly,_:{gtype:i.GlobalType.number}}]},this.refresh()}};s=n.__decorate([o.Component({name:"FlowchartDesigner"})],s),t.default=s},ab12:function(e,t,r){"use strict";r.r(t);var n=r("0341"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},ab34:function(e,t,r){"use strict";r.r(t);var n=r("343f"),o=r("8de4");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"717a3942",null);t["default"]=s.exports},ab4b:function(e,t,r){},acb8:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"switch-box"},[r("input",{attrs:{type:"checkbox",id:"id-"+e.randomId},domProps:{checked:e.checked},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.changed(t)},keydown:e.keydown,input:e.changed}}),r("label",{attrs:{for:"id-"+e.randomId}})])},o=[]},ad9d:function(e,t,r){"use strict";r.r(t);var n=r("0297"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},ae64:function(e,t,r){},aeec:function(e,t,r){"use strict";r.r(t);var n=r("feb6"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},afec:function(e,t,r){"use strict";r.r(t);var n=r("8556"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},b061:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{hideGeoMap(){a.glob.geoMap.show=!1}select(){let e=a.glob.geoMap.marker,t={x:e.position.lat(),y:e.position.lng(),z:e.map.zoom};a.glob.geoMap.select(t),this.hideGeoMap()}clear(){a.glob.geoMap.select(null),this.hideGeoMap()}get show(){return a.glob.geoMap.show}onPropertyChanged(e){e&&setTimeout(()=>{let e=a.glob.geoMap.val?{lat:a.glob.geoMap.val.x||0,lng:a.glob.geoMap.val.y||0}:{lat:0,lng:0},t={center:e,zoom:(a.glob.geoMap.val?a.glob.geoMap.val.z:0)||3,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.HYBRID]},disableDefaultUI:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE},mapTypeId:google.maps.MapTypeId.ROADMAP},r=new google.maps.Map(this.$refs.map,t);a.glob.geoMap.marker=new google.maps.Marker({position:e,title:"TITLE",map:r,draggable:!0,animation:google.maps.Animation.DROP}),r.panTo(e),r.setZoom(t.zoom)},0)}};n.__decorate([o.Watch("show")],i.prototype,"onPropertyChanged",null),i=n.__decorate([o.Component({name:"GeoMap"})],i),t.default=i},b23b:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chart"},[r("canvas",{ref:"canvas"})])},o=[]},b2bc:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.userDec?r("div",{staticClass:"user-account p-4 w-100"},[r("div",{staticClass:"bg-white border p-4 rounded-bottom"},[r("DetailsView",{attrs:{data:e.user,dec:e.userDec,level:1},on:{changed:e.changed}}),r("hr"),e.modify?r("span",{staticClass:"pr-3 mr-3 border-right"},[r("Function",{attrs:{styles:"btn-success",name:"apply",title:e.$t("save-changes")},on:{exec:e.apply}})],1):e._e(),r("a",{staticClass:"btn btn-success",attrs:{href:"/resetPassword?f=1"}},[e._v("Change Password")]),r("a",{staticClass:"mx-2 btn btn-dark",attrs:{href:"/signout?f=1"}},[e._v("Signout")])],1)]):e._e()},o=[]},b324:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{constructor(){super(...arguments),this.years=[],this.months=[],this.days=[],this.yearCaption="",this.monthCaption="",this.hours=[],this.minutes=[],this.seconds=[],this.amPm=null}today(){this.date=moment(),this.makeParts(),this.$forceUpdate()}yearChanged(e){this.date=this.date.year(e.index+1900),this.makeDays(),this.$forceUpdate()}monthChanged(e){this.date=this.date.month(e.index),this.monthCaption=moment.months()[e.index],this.makeDays(),this.$forceUpdate()}dayChanged(e){this.date=this.date.date(e.index+1),this.dayCaption=moment.weekdays()[this.date.day()],this.$forceUpdate()}hourChanged(e){this.date=this.date.hour(e.index),this.$forceUpdate()}minuteChanged(e){this.date=this.date.minute(e.index),this.$forceUpdate()}secondChanged(e){this.date=this.date.second(e.index),this.$forceUpdate()}ampmChanged(e){this.date=this.date.hour(0==e.index?this.date.hour%12:12+this.date.hour%12),this.$forceUpdate()}makeYears(){let e,t;if(/YY/.test(this.format)){this.yearCaption="",e=1900,t=2050,this.years=[];for(let r=e;r<t;r++)this.years.push(this.addZero(r.toString()))}else this.years=null}makeMonths(){/M/.test(this.format)?(this.monthCaption=moment.months()[this.date.month()],this.months=["1","2","3","4","5","6","7","8","9","10","11","12"]):this.months=null}makeDays(){if(/D/.test(this.format)){this.days=[];for(let e=1;e<=this.date.daysInMonth();e++)this.days.push(e.toString());this.dayCaption=moment.weekdays()[this.date.day()]}else this.days=null}makeHours(){if(/H/.test(this.format)){this.hours=[];for(let e=0;e<24;e++)this.hours.push(this.addZero(e.toString()))}else if(/h/.test(this.format)){this.hours=[];for(let e=0;e<12;e++)this.hours.push(this.addZero(e.toString()));this.amPm=["AM","PM"]}else this.hours=null}makeMinutes(){if(/m/.test(this.format)){this.minutes=[];for(let e=0;e<60;e++)this.minutes.push(this.addZero(e.toString()))}else this.minutes=null}makeSeconds(){if(/s/i.test(this.format)){this.seconds=[];for(let e=0;e<60;e++)this.seconds.push(this.addZero(e.toString()))}else this.seconds=null}addZero(e){return e<10?"0"+e:e}created(){this.date=this.value?moment(this.value,this.format):moment({hour:0}),/s/i.test(this.format)||this.date.set({second:0,millisecond:0}),/m/.test(this.format)||this.date.set({minute:0}),/H/.test(this.format)||this.date.set({hour:0}),this.makeParts()}makeParts(){this.makeYears(),this.makeMonths(),this.makeDays(),this.makeHours(),this.makeMinutes(),this.makeSeconds()}changed(){return{value:this.date.toDate()}}cancel(){return{}}};n.__decorate([o.Prop()],a.prototype,"format",void 0),n.__decorate([o.Prop()],a.prototype,"value",void 0),n.__decorate([o.Emit("changed")],a.prototype,"changed",null),n.__decorate([o.Emit("canceled")],a.prototype,"cancel",null),a=n.__decorate([o.Component({name:"DateTimePicker",components:{}})],a),t.default=a},b403:function(e,t,r){"use strict";r.r(t);var n=r("1f6d"),o=r("ad9d");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("556d");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},b425:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-drive flex-column h-100 d-flex w-100",on:{contextmenu:e.onContextMenu}},[r("div",{staticClass:"d-flex align-items-center p-2 px-4 btn-toolbar toolbar"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb p-0 m-0 bg-transparent d-flex align-items-center"},[r("li",{class:{"ml-3":e.rtl,"mr-3":e.ltr}},[r("button",{staticClass:"btn hover-opacity btn-link p-0",attrs:{title:"Go Back"},on:{click:e.back}},[r("i",{class:{"fal text-secondary fa-2x":1,"fa-arrow-circle-left":e.ltr,"fa-arrow-circle-right":e.rtl}})])]),e._l(e.breadcrumb,(function(t){return r("li",{staticClass:"breadcrumb-item"},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(r){return e.selectBreadcrumb(t)}}},[e._v(e._s(t.title))]),r("i",{class:{"fa my-1":1,"fa-chevron-right ml-2":e.ltr,"fa-chevron-left mr-2":e.rtl}})])})),r("li",{staticClass:"breadcrumb-item d-flex align-items-center font-weight-bold active",attrs:{"aria-current":"page"}},[r("div",[e._v(e._s(e.current))])])],2)]),e.loading?r("i",{staticClass:"mx-3 fad fa-sync fa-spin fa-lg fa-fw"}):e._e(),r("div",{staticClass:"mr-auto"}),r("button",{staticClass:"btn btn-link p-1 mx-2",attrs:{title:"Toggle View"},on:{click:e.toggleView}},[r("i",{class:{"fal fa-lg":1,"fa-grip-horizontal":!e.gridView,"fa-list":e.gridView}})]),r("div",{staticClass:"mx-3 h-100 border-left"}),r("button",{staticClass:"btn btn-link text-secondary px-2",on:{click:e.refresh}},[r("i",{staticClass:"fas fa-sync"})]),e._m(0),r("button",{staticClass:"btn btn-link text-secondary px-2",on:{click:e.clickConfig}},[r("i",{staticClass:"fal fa-cog fa-lg"})])]),e.gridView?r("div",{staticClass:"content overflow-auto p-4 d-flex flex-wrap"},e._l(e.files,(function(t){return r("div",{directives:[{name:"focus",rawName:"v-focus",value:e.isSelected(t),expression:"isSelected(item)"}],staticClass:"drive-item m-1 p-1",attrs:{tabindex:"0"},on:{dblclick:function(r){return e.select({},t)},focus:function(r){return e.focus(t)},mouseup:function(r){return e.openMenu(r,t)}}},[r("div",{staticClass:"drive-item-file w-100 d-flex align-items-end justify-content-center"},[e.isImage(t)?r("img",{staticClass:"drive-image",attrs:{src:e.icon(t)}}):r("i",{class:e.icon(t)})]),r("label",{staticClass:"text-center mt-1 w-100 file-gallery-label"},[e._v(e._s(t.name))])])})),0):r("div",{staticClass:"content overflow-auto p-0 px-1 d-flex flex-wrap"},[r("table",{staticClass:"w-100 overflow-auto"},[e._m(1),r("tbody",e._l(e.files,(function(t){return r("tr",{directives:[{name:"focus",rawName:"v-focus",value:e.isSelected(t),expression:"isSelected(item)"}],staticClass:"border-bottom bg-light cursor-pointer",attrs:{tabindex:"0"},on:{dblclick:function(r){return e.select({},t)},focus:function(r){return e.focus(t)},mouseup:function(r){return e.openMenu(r,t)}}},[r("td",{staticClass:"no-select py-2 px-4 d-flex align-items-center"},[r("div",{staticStyle:{width:"3rem"}},[r("i",{class:e.icon(t)})]),r("div",{},[e._v(" "+e._s(t.name)+" ")])]),r("td",{staticClass:"py-2 px-4 text-right no-select"},[e._v(" "+e._s(e.size(t))+" ")])])})),0)])])])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"btn btn-link text-secondary px-2",attrs:{title:"Help",target:"_blank",href:"/docs/app-drive"}},[r("i",{staticClass:"fal fa-question-circle fa-lg"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",{staticClass:"border-bottom"},[r("th",{staticClass:"py-2 px-4 w-100"},[e._v("Name")]),r("th",{staticClass:"py-2 text-right px-4"},[e._v("Size")])])])}]},b4be:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};n.__decorate([o.Prop()],a.prototype,"color",void 0),n.__decorate([o.Prop()],a.prototype,"title",void 0),n.__decorate([o.Prop()],a.prototype,"value",void 0),n.__decorate([o.Prop()],a.prototype,"icon",void 0),a=n.__decorate([o.Component({name:"DashboardInfoBox"})],a),t.default=a},b50d:function(e,t,r){"use strict";var n=r("c532"),o=r("467f"),a=r("30b5"),i=r("83b9"),s=r("c345"),l=r("3934"),c=r("2d83");e.exports=function(e){return new Promise((function(t,u){var d=e.data,f=e.headers;n.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(h+":"+m)}var g=i(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,n=e.responseType&&"text"!==e.responseType?p.response:p.responseText,a={data:n,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,u,a),p=null}},p.onabort=function(){p&&(u(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(c(t,e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var v=r("7aac"),b=(e.withCredentials||l(g))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&n.forEach(f,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(y){if("json"!==e.responseType)throw y}"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),u(e),p=null)})),void 0===d&&(d=null),p.send(d)}))}},b57c:function(e,t,r){"use strict";r.r(t);var n=r("7fae");for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);var a,i,s=r("2877"),l=Object(s["a"])(n["default"],a,i,!1,null,null,null);t["default"]=l.exports},b5f6:function(e,t,r){"use strict";r.r(t);var n=r("398a"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},b5ff:function(e,t,r){"use strict";r.r(t);var n=r("3c4d"),o=r("4af1");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("6037");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"fa6e5598",null);t["default"]=s.exports},b6b4:function(e,t,r){"use strict";r.r(t);var n=r("9188"),o=r("2f39");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("dee8");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},b83a:function(e,t,r){"use strict";r.r(t);var n=r("a05c"),o=r("4aa5");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},b875:function(e,t,r){"use strict";r.r(t);var n=r("322c"),o=r("04f2");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("970f");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},b966:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{class:"d-block border-0 "+e.styles,domProps:{innerHTML:e._s(e.html)}})},o=[]},bb01:function(e,t,r){"use strict";r.r(t);var n=r("f72a"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},bba2:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.styles+" prop-reference ref-multi pb-0 pl-1 pr-3",on:{click:e.focus}},[e._l(e.items,(function(t){return r("div",{class:{"ref-multi-item rounded-lg rmI d-inline-block mb-1 px-1 border text-nowrap":1,"mr-1":e.ltr,"ml-1":e.rtl}},[r("i",{staticClass:"text-black-50 mx-1 rmD fa fa-times",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.remove(t)}}}),r("span",{staticClass:"rmV cursor-pointer"},[e._v(e._s(t.title))])])})),e.readOnly?e._e():r("input",{directives:[{name:"model",rawName:"v-model",value:e.phrase,expression:"phrase"}],staticClass:"bg-transparent rmT border-0",attrs:{spellcheck:"false",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},domProps:{value:e.phrase},on:{blur:e.refreshText,input:[function(t){t.target.composing||(e.phrase=t.target.value)},e.update],keydown:e.keypress,click:e.click}})],2)},o=[]},bbce:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"noselect task-group",on:{click:e.clickGroup,drop:e.drop,dragenter:e.dragEnterGroup,dragover:e.dragovergroup}},[e.group.title?r("div",{staticClass:"font-weight-bold py-1 text-primary"},[e.group.icon?r("i",{class:e.group.icon}):e._e(),e._v(e._s(e.group.title)+" ")]):e._e(),e.group.subtitle?r("div",{staticClass:"d-flex"},[r("label",{staticClass:"small mb-0 font-weight-bold",domProps:{innerHTML:e._s(e.group.subtitle)}}),r("div",{staticClass:"mr-auto"}),e.milestone?r("i",{staticClass:"fad text-danger fa-pennant",attrs:{title:e.milestone}}):e._e()]):e._e(),r("div",{staticClass:"tasks-panel"},e._l(e.group.tasks,(function(t){return e.isVisible(t)?r("div",{staticClass:"w-100 d-flex align-items-center",on:{dragenter:function(r){return e.dragEnterTask(r,t)}}},[t.parent?r("i",{staticClass:"fal fa-genderless fa-xs mx-2 text-black-50"}):e._e(),r("div",{class:{"task-item text-nowrap d-flex align-items-center border w-100 rounded":1,"multi-place":t._.multiPlace,dragging:t._.dragging},style:{color:t._.color,"background-color":t._.bgColor},attrs:{tabindex:"0",draggable:"true"},on:{dragend:function(r){return e.dragEnd(r,t)},dragstart:function(r){return e.dragStart(r,t)},keydown:function(r){return e.taskkeypress(r,t)},focus:function(r){return e.focusTask(t)}}},[t.archive?r("i",{staticClass:"px-1 fal fa-archive"}):e._e(),r("div",{staticClass:"px-1 w-100 overflow-hidden",staticStyle:{"text-overflow":"ellipsis"}},[e._v(e._s(e.taskCaption(t)))]),r("div",{staticClass:"font-weight-bold",domProps:{innerHTML:e._s(e.getTaskTime(t))}}),e.hasChild(t)?r("i",{class:{"fa-lg px-1":1,"fal fa-angle-up":t.collapse,"fas fa-angle-down":!t.collapse},on:{click:function(r){return e.toggleExpand(t)}}}):e._e()])]):e._e()})),0),r("input",{staticClass:"new-task outline-0 mt-1 px-1 border-0 w-100 bg-transparent mb-3",on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.target.value=null},change:e.newTask}})])},o=[]},bc3a:function(e,t,r){e.exports=r("cee4")},be88:function(e,t,r){"use strict";r.r(t);var n=r("ce8e"),o=r("d1e0");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("dd6b");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},bfd3:function(e,t,r){"use strict";r.r(t);var n=r("4298"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},c023:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49"),i=r("8445");let s=class extends o.Vue{constructor(){super(...arguments),this.softWrap=!0,this.scrollToEnd=!0}download(){let e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a.glob.logs.map(e=>e?e.message:"").join("\r\n"))),e.setAttribute("target","_blank"),e.setAttribute("download","terminal.txt"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}mounted(){a.glob.socket?a.glob.socket.emit(i.ClientCommand.Ping):console.warn("glob.socket is null!")}clear(){a.glob.logs=[]}};n.__decorate([o.Prop()],s.prototype,"prop",void 0),s=n.__decorate([o.Component({name:"LogTerminal"})],s),t.default=s},c089:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49"),s=n.__importStar(r("cd49"));let l=class extends o.Vue{constructor(){super(...arguments),this.phrase=""}update(e,t){this.readOnly||i.showPropRefMenu(this.prop,this.doc,t?"":this.phrase,this.$el,!0,e=>{this.phrase="",null!=e?($(this.$el).find("input").focus(),this.selectItem(e)):this.refreshText()})}keypress(e){switch(e.which){case a.Keys.backspace:break}}click(e){this.update(e,!0)}refreshText(){let e=this.doc[this.prop.name];this.doc[this.prop.name]=null,this.doc[this.prop.name]=e}focus(e){$(this.$el).find("input").focus(),this.update(e,!0)}remove(e){let t=this.doc[this.prop.name];return t=t.filter(t=>!s.equalID(t,e.ref)),{prop:this.prop,val:t,vue:this}}selectItem(e){if(!e)return void this.refreshText();let t=this.doc[this.prop.name];return t||(t=[]),Array.isArray(t)||(t=[t]),t.push(e.ref),{prop:this.prop,val:t,vue:this}}get value(){let e=this.doc[this.prop.name];return e?Array.isArray(e)||(e=[e]):this.doc[this.prop.name]=e=[],e}get items(){let e=[];for(const t of this.value){let r=this.prop._.items.find(e=>s.equalID(t,e.ref));r?e.push(r):e.push({title:"...",ref:t})}return e}};n.__decorate([o.Prop()],l.prototype,"type",void 0),n.__decorate([o.Prop()],l.prototype,"doc",void 0),n.__decorate([o.Prop()],l.prototype,"prop",void 0),n.__decorate([o.Prop()],l.prototype,"styles",void 0),n.__decorate([o.Prop()],l.prototype,"readOnly",void 0),n.__decorate([o.Emit("changed")],l.prototype,"remove",null),n.__decorate([o.Emit("changed")],l.prototype,"selectItem",null),l=n.__decorate([o.Component({name:"PropReferenceMultiple"})],l),t.default=l},c1ba:function(e,t,r){"use strict";r.r(t);var n=r("34a0"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},c321:function(e,t,r){"use strict";r.r(t);var n=r("fa51"),o=r("e5e8");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("d03b");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},c345:function(e,t,r){"use strict";var n=r("c532"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,i={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},c401:function(e,t,r){"use strict";var n=r("c532");e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},c532:function(e,t,r){"use strict";var n=r("1d2b"),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function i(e){return"undefined"===typeof e}function s(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return"undefined"!==typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function d(e){return"string"===typeof e}function f(e){return"number"===typeof e}function p(e){return null!==e&&"object"===typeof e}function h(e){return"[object Date]"===o.call(e)}function m(e){return"[object File]"===o.call(e)}function g(e){return"[object Blob]"===o.call(e)}function v(e){return"[object Function]"===o.call(e)}function b(e){return p(e)&&v(e.pipe)}function y(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function _(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function w(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function x(){var e={};function t(t,r){"object"===typeof e[r]&&"object"===typeof t?e[r]=x(e[r],t):e[r]=t}for(var r=0,n=arguments.length;r<n;r++)k(arguments[r],t);return e}function C(){var e={};function t(t,r){"object"===typeof e[r]&&"object"===typeof t?e[r]=C(e[r],t):e[r]="object"===typeof t?C({},t):t}for(var r=0,n=arguments.length;r<n;r++)k(arguments[r],t);return e}function T(e,t,r){return k(t,(function(t,o){e[o]=r&&"function"===typeof t?n(t,r):t})),e}e.exports={isArray:a,isArrayBuffer:l,isBuffer:s,isFormData:c,isArrayBufferView:u,isString:d,isNumber:f,isObject:p,isUndefined:i,isDate:h,isFile:m,isBlob:g,isFunction:v,isStream:b,isURLSearchParams:y,isStandardBrowserEnv:w,forEach:k,merge:x,deepMerge:C,extend:T,trim:_}},c593:function(e,t,r){"use strict";r.r(t);var n=r("23d7"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},c5a5:function(e,t,r){},c7ac:function(e,t,r){"use strict";r.r(t);var n=r("b324"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},c7bb:function(e,t,r){"use strict";r.r(t);var n=r("bba2"),o=r("659d");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("6d32");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},c7ce:function(e,t,r){"use strict";r.r(t);var n=r("6857"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},c815:function(e,t,r){"use strict";var n=r("ae64"),o=r.n(n);o.a},c8af:function(e,t,r){"use strict";var n=r("c532");e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},c8ba:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},c8f8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{getAppUrl(e){return a.prepareServerUrl(e.prefix)}get navColor(){let e=a.glob.config.apps.find(e=>e.prefix==a.glob.config.prefix);return e&&e.navColor?e.navColor:""}clickLink(e,t){$("a.active").removeClass("active"),$(`a[href='${t.ref}']`).addClass("active")}get currentRef(){return location.hostname}};i=n.__decorate([o.Component({name:"AppHeader"})],i),t.default=i},cb05:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.dirty?r("div",{staticClass:"mx-2",attrs:{role:"group"}},[r("button",{staticClass:"btn btn-primary mx-2 px-4",on:{click:e.apply}},[r("i",{staticClass:"fal fa-check-circle"}),e._v(" "+e._s(e.$t("apply")))]),r("button",{staticClass:"btn btn-outline-secondary",attrs:{name:"cancel"},on:{click:e.cancel}},[e._v(e._s(e.$t("cancel")))])]):e._e()},o=[]},cbce:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{close(){}};n.__decorate([o.Prop()],a.prototype,"item",void 0),n.__decorate([o.Prop()],a.prototype,"dec",void 0),a=n.__decorate([o.Component({name:"FilterItem"})],a),t.default=a},cc88:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"form-inline my-2 my-lg-0"},[r("input",{staticClass:"form-control mr-sm-2",attrs:{id:"master-search",type:"search",placeholder:"${$t('search')}","aria-label":"Search"}})])}]},ccb6:function(e,t,r){},cd36:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layout layout-default w-100"},[e.justContent?e._t("main-content"):r("div",{staticClass:"h-100 d-flex w-100 flex-column"},[r("div",{staticClass:"d-flex p-2 align-items-center btn-toolbar toolbar",attrs:{role:"toolbar","aria-label":"Toolbar with button groups"}},[r("Breadcrumb",{attrs:{breadcrumb:e.glob.form.breadcrumb,title:e.glob.form.breadcrumbLast}}),r("ToolbarModifyButtons"),e._m(0),e._t("toolbar-customs"),r("div",{staticClass:"mr-auto"}),e._l(e.globalFunctions,(function(t){return[t.ref?r("a",{class:""+(t.style||"btn btn-success mx-1 px-4"),attrs:{href:t.ref}},[e._v(e._s(t.title))]):r("Function",{attrs:{styles:"btn-outline-secondary mx-1",name:t.name,title:t.title},on:{exec:t.exec}})]})),r("div",{staticClass:"mr-auto"}),r("div",[r("button",{staticClass:"btn btn-link text-secondary px-2",on:{click:e.clickConfigMenu}},[r("i",{staticClass:"fal fa-cog fa-lg"})]),e.showInfoPanel?e._e():r("button",{staticClass:"btn close-panel btn-link px-2",attrs:{title:"Show info panel"},on:{click:function(t){return e.toggleShowInfoPanel(!0)}}},[r("i",{staticClass:"fal fa-info-circle fa-lg"})])])],2),r("div",{staticClass:"w-100 d-flex h-100 overflow-auto"},[e.showSideMenu?r("aside",{staticClass:"nav-panel bg-white border-end separator-line py-4 d-none overflow-auto d-md-block"},[e._t("side-menu")],2):e._e(),r("div",{staticClass:"flex-grow-1 p-4 main-bg-image main-content overflow-auto",on:{scroll:function(t){return e.onScroll()}}},[e._t("main-content")],2),e.showInfoPanel?r("aside",{staticClass:"info-panel border-start separator-line bg-white"},[r("div",{staticClass:"d-flex py-1"},[r("div",{staticClass:"mr-auto"}),r("button",{staticClass:"btn close-panel btn-link p-2",attrs:{title:"Hide info panel"},on:{click:function(t){return e.toggleShowInfoPanel(!1)}}},[r("i",{staticClass:"fal fa-times fa-lg"})])]),e._t("info-panel"),r("div",{staticClass:"url-notes px-3 mb-2 border-2 border-bottom"},[r("h5",[e._v("Quick Notes")]),e.glob.infoPanel.notes.length?r("div",e._l(e.glob.infoPanel.notes,(function(t){return r("div",{staticClass:"border-primary border border-2 p-1 mb-2"},[r("button",{staticClass:"btn btn-link p-0 pr-1",on:{click:function(r){return e.menu(r,t)}}},[r("i",{staticClass:"fad fa-tags text-primary"})]),e._v(" "+e._s(t.content)+" ")])})),0):e._e(),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newNote,expression:"newNote"}],staticClass:"bg-transparent new-note border-0 w-100",attrs:{rows:"4",placeholder:"Write your Quick Note here ..."},domProps:{value:e.newNote},on:{input:function(t){t.target.composing||(e.newNote=t.target.value)}}}),e.newNote?r("button",{staticClass:"btn btn-outline-primary py-0 w-100 my-2",on:{click:e.submit}},[e._v("Submit")]):e._e()]),e.glob.infoPanel.currentComment?r("div",{staticClass:"py-2 px-3"},[r("div",{domProps:{innerHTML:e._s(e.comment())}})]):e._e()],2):e._e()])])],2)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"inline-message-box small font-weight-bold px-2 d-none"},[r("i",{staticClass:"fal mx-1 fa-lg fa-comment-alt-lines"}),r("span")])}]},cd49:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__("9ab4");let index={"Modify                         ":dispatchStoreModify,"Server: Dispatch Changes       ":dispatchRequestServerModify,"Server: Commit Changes         ":commitServerChangeResponse,"Reorder Items                  ":commitReorderItems,"Registers Components           ":registerComponents,"Reset Form Data                ":vueResetFormData,"Start Vue                      ":startVue,"Handle Response                ":handleResponse,"Handle Window Events           ":handleWindowEvents,"Load                           ":load,"Ajax                           ":ajax};const bson_util_1=__webpack_require__("cf2c");exports.getBsonValue=bson_util_1.getBsonValue,exports.parse=bson_util_1.parse,exports.stringify=bson_util_1.stringify;const vue_1=tslib_1.__importDefault(__webpack_require__("8bbf")),vuex_1=tslib_1.__importDefault(__webpack_require__("2f62")),types_1=__webpack_require__("a76d"),types_2=__webpack_require__("8445"),App_vue_1=tslib_1.__importDefault(__webpack_require__("3dfd")),pluralize=__webpack_require__("761a");let store;function getText(e,t){if(!e)return"";if("string"==typeof e){if(!t)return e;if(exports.glob.texts[e])return exports.glob.texts[e];if(-1!=e.indexOf("."))return e.replace(/^.+\./,"").replace(/-/g," ");if(e=exports.glob.texts["sys."+e]||e.replace(/-/g," "),"string"==typeof e)return e}let r=types_2.Locale[exports.glob.config.locale];return e[r]?e[r]:Object.values(e)[0]}function $t(e){return getText(e,!0)}function clone(e){return bson_util_1.parse(bson_util_1.stringify(e,!0),!0,types_1.ID)}function evalExpression($this,expression){try{return null==expression?null:eval(expression.replace(/\bthis\b/g,"$this"))}catch(ex){console.error(`Evaluating '${expression}' failed! this:`,$this,"Error:",ex.message)}}function processThisExpression(e,t){try{if(null==t)return null;let r,n=/\bthis\.(\w+)/;while(null!==(r=n.exec(t))){let n=r[1],o=new RegExp("\\bthis\\."+n,"g"),a=bson_util_1.getBsonValue(e[n]),i=JSON.stringify(a);t=t.replace(o,i)}return t}catch(r){console.error(`Evaluating '${t}' failed! this:`,e,"Error:",r.message)}}function addHeadStyle(e){let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");t.appendChild(r),r.type="text/css",r.appendChild(document.createTextNode(e))}function vueResetFormData(e){let t=e.data;if(t&&e.form&&e.form.declarations){e.form.elems.forEach(e=>e.id=e.id||types_1.ID.generateByBrowser());const r=(e,t,r)=>(t._=t._||{},t._.ref=e,t._.dec=r,t._);for(let n in t){let o=t[n],a=e.form.declarations[n];if(o&&a){Array.isArray(o)?o.forEach(e=>{let t=r(n+"/"+e._id,e,a);t.marked=null}):r(n,o,a);for(const e of a.properties)Array.isArray(o)?o.forEach(t=>assignNullToEmptyProperty(t,e)):assignNullToEmptyProperty(o,e)}}}}function assignNullToEmptyProperty(e,t){e&&(void 0===e[t.name]&&(e[t.name]=null),t.required&&setPropertyEmbeddedError(e,t.name,null))}function getDec(e){return e._?e._.dec:null}function validateData(e,t){let r=e._,n=r.dec.properties.filter(e=>e.required);for(const o of n)if(null==e[o.name])return notify(`Property '${o.title}' is required.`,types_2.LogType.Warning),!1;return!0}function validate(e){for(const t in e)if(Array.isArray(e[t])){for(const r of e[t])if(!validateData(r,t))return!1}else if(!validateData(e[t],t))return!1;return!0}function someProps(e){return Array.isArray(e.properties)&&e.properties.length}function prepareServerUrl(e){e="/"+(e||"").replace(/^\//,"");let t=getQs("e");return t&&(e+="?e="+t),e}function loadObjectViewData(e,t,r){e=processThisExpression(t,e),ajax(setQs("m",types_2.RequestMode.inline,!1,e),null,null,t=>{if(!t.data)return r(null);const n=(e,t,r)=>(t._=t._||{},t._.ref=e,t._.dec=r,t._);let o=t.form.elems[0].obj._.ref,a=t.form.declarations[o],i=t.data[o];if(a&&(a.newItemDefaults=getQs("d",e)),!i||!a)return r(null,{ref:o});exports.glob.data[o]=t.data[o],exports.glob.form.declarations[o]=t.form.declarations[o],i.forEach(e=>{let t=n(o+"/"+e._id,e,a);t.marked=null});for(const e of a.properties)Array.isArray(i)?i.forEach(t=>assignNullToEmptyProperty(t,e)):assignNullToEmptyProperty(i,e);exports.glob.data[o]=i,r(null,{ref:o})},e=>notify(e))}function onlyUnique(e,t,r){return r.indexOf(e)===t}function handleResponse(e){if(!e)throw"handleResponse: res is empty";if(e.config&&(exports.glob.config=e.config,e.config.style&&addHeadStyle(e.config.style),exports.glob.config.host&&/^https?:/.test(exports.glob.config.host))){let e=location.protocol;exports.glob.config.host=exports.glob.config.host.replace(/^https?:/,e)}e.redirect?handleResponseRedirect(e):e.message?notify(e.message,types_2.LogType.Info):e.form?(vueResetFormData(e),exports.glob.data=e.data,exports.glob.form=e.form,store.commit("_commitReloadData",exports.glob.data),getQs(types_1.Constants.QUERY_NEW)&&initializeModifyForQueryNew(e),document.title=exports.glob.form.title,$(".details-view").scrollTop(0),$(window).scrollTop(0)):(notify("WHAT should I do now?",types_2.LogType.Warning),console.log(e)),exports.glob.texts=exports.glob.texts||e.texts||{}}function initializeModifyForQueryNew(e){exports.glob.dirty=!0;let t=location.pathname.replace(/\//g,""),r=e.data[t],n={_id:types_1.ID.generateByBrowser(),_new:!0};for(let o in r)r.hasOwnProperty(o)&&null!=r[o]&&(n[o]=r[o]);exports.glob.modifies.push({ref:t,type:types_1.ChangeType.InsertItem,data:n,state:r})}function digitGroup(e){if(null==e)return"";let t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function getPropTextValue(e,t){if(e.formula)return evalExpression(t,e.formula);if(!t)throw"prop-text doc is null!";let r=t[e.name];if(r&&"object"==typeof r){let e=getQs("e")||"en";return r[e]}return r}function equalID(e,t){return e==t||!(!e||!t)&&e.toString()==t.toString()}function getPropReferenceValue(e,t){if(!t)return"";let r=t[e.name];if(null==r)return"";if(e.isList){Array.isArray(r)||(r=[r]);let t=[];for(const n of r){let r=e._.items.find(e=>equalID(e.ref,n));r?t.push(r.title):t.push("...")}return t.join(", ")}{let t=e._.items.find(e=>equalID(e.ref,r));return t?t.title:"..."}}function showPropRefMenu(e,t,r,n,o,a){let i=i=>{let s=t[e.name];if(null!=s&&o){Array.isArray(s)||(s=[s]);let e=s.map(e=>JSON.stringify(e));i=i.filter(t=>!e.includes(JSON.stringify(t.ref)))}let l=null;if(r?(l=i.find(e=>0==e.title.toLowerCase().indexOf(r.toLowerCase())),l||(l=i.find(e=>e.title.toLowerCase().indexOf(r.toLowerCase())>-1))):null==s||l||(l=i.find(e=>equalID(s,e.ref))),!e.required&&i&&i.length){let e={ref:null,title:""};l||(l=e),i.unshift(e)}l&&(l.hover=!0),showCmenu(i,i,{ctrl:n},(t,r)=>{if(e._.isRef)for(let n of t)e._.items.find(e=>e.ref==n.ref)||e._.items.push(n);a(r)})};if(e._.isRef){if(e.referType==types_2.PropertyReferType.InnerSelectType){let r=e._.ref.match(/^(\w+\/\w+)/);t=exports.glob.data[r[1]]}let n=e.filter?bson_util_1.parse(processThisExpression(t,e.filter),!0,types_1.ID):null,o={prop:e,instance:t,phrase:r,query:n};call("getPropertyReferenceValues",o,(e,t)=>{e?notify(e,types_2.LogType.Error):i(t.data)})}else{let t=null==r||e._.items.length<types_1.Constants.contextMenuVisibleItems&&r==this.value?e._.items:e._.items.filter(e=>e.title&&e.title.toLowerCase().indexOf(r.toLowerCase())>-1);t.forEach(e=>e.hover=r==e.title),i(t)}}function refresh(){exports.glob.dirty=!1,location.reload()}function handleResponseRedirect(e){if(e.redirect==types_1.Constants.redirectBack)window.history.back();else if(e.redirect==types_1.Constants.redirectSelf)refresh();else if(null!=e.data){let t="";for(let r of e.data)t+='<input type="hidden" name="'+r+'" value="'+e.data[r]+'">';$('<form action="'+e.redirect+'" method="POST">'+t+"</form>").appendTo("body").submit()}else window.open(e.redirect,"_self")}function isRtl(){return"rtl"==document.getElementsByTagName("html")[0].getAttribute("dir")}function showCmenu(e,t,r,n){if(t&&0!=t.length){for(let e of t)e.hover=e.hover||!1;t.find(e=>e.hover)||(t[0].title?t[0].hover=!0:(t[0].hover=!1,t[1].hover=!0)),exports.glob.cmenu={show:!0,items:t,handler:n,state:e,top:0,left:0,right:0,bottom:0,event:r}}else hideCmenu()}function hideCmenu(){exports.glob.cmenu.show=!1}function newID(){return types_1.ID.generateByBrowser()}function pushToGridViewRecentList(e,t,r){let n=localStorage.getItem("gridView-recentItems-"+e),o=n?JSON.parse(n):[],a=o.findIndex(e=>e.ref==t);a>-1&&o.splice(a,1),o.unshift({title:r,ref:t}),o.length>6&&o.pop(),localStorage.setItem("gridView-recentItems-"+e,JSON.stringify(o))}function urlInsertPrefix(e){return exports.glob.config.prefix?`/${exports.glob.config.prefix}${e}`:e}function handleWindowEvents(){$(window).on("popstate",e=>{load(location.href)}).on("beforeunload",e=>{if(exports.glob.dirty)return e=e||window.event,e&&(e.returnValue=$t("save-before")),$t("save-before");exports.glob.socket&&exports.glob.socket.close()}).on("resize",e=>{hideCmenu()}).on("keydown",e=>{exports.glob.cmenu.show&&handleCmenuKeys(e),exports.glob.question.show&&e.which==types_2.Keys.esc&&(exports.glob.question.show=!1,exports.glob.question.select(null)),exports.glob.notify=null}).on("mouseup",e=>{exports.glob.cmenu.show&&!$(".dropdown-item").is(e.target)&&0===$(".dropdown-item").has(e.target).length&&0===$(".dropdown-menu.show").has(e.target).length&&hideCmenu()}),$(document).on("click","a[href]",e=>{let t=$(e.target).closest("a");if(t.attr("target"))return;let r=t.attr("href");!r||r.match(/^javascript/)||/^#/.test(r)||/^http/.test(r)||(e.preventDefault(),/\bf=\d/.test(r)||history.pushState(null,null,r),load(r))})}function handleImagesPreview(e){$(e).on("mousedown",e=>{exports.glob.imagePreview.url=e.target.src,exports.glob.imagePreview.show=!0})}function handleCmenuKeys(e){switch(e.which){case types_2.Keys.tab:case types_2.Keys.esc:hideCmenu();break;case types_2.Keys.enter:{let e=exports.glob.cmenu.items.find(e=>e.hover);e&&(exports.glob.cmenu.handler(exports.glob.cmenu.state,e),hideCmenu());break}case types_2.Keys.down:{let e=exports.glob.cmenu.items.find(e=>e.hover);if(e){let t=exports.glob.cmenu.items.indexOf(e);t<exports.glob.cmenu.items.length-1&&(exports.glob.cmenu.items[t].hover=!1,exports.glob.cmenu.items[t+1].hover=!0)}else exports.glob.cmenu.items[0].hover=!0;break}case types_2.Keys.up:{let e=exports.glob.cmenu.items.find(e=>e.hover);if(e){let t=exports.glob.cmenu.items.indexOf(e);t>0&&(exports.glob.cmenu.items[t].hover=!1,exports.glob.cmenu.items[t-1].hover=!0)}else exports.glob.cmenu.items[exports.glob.cmenu.items.length-1].hover=!0;break}}}function getQs(e,t){let r,n;t?(n=document.createElement("a"),n.href=t,r=n.search):r=location.search;let o=new URLSearchParams(r);return o.get(e)}function setQs(e,t,r,n){let o,a;n?(a=document.createElement("a"),a.href=n,o=a.search):o=location.search;let i,s=new URLSearchParams(o);return null==t?s.delete(e):s.set(e,t.toString()),i=n?[a.pathname,s].join("?"):r?[location.pathname,s].join("?"):s.toString(),i.replace(/\?$/,"")}function checkPropDependencyOnChange(e,t,r){if(!r)return;let n=e.properties.filter(e=>e.dependsOn==t.name);for(const o of n)if(r[o.name]=null,o._.items){o._.items=null;let e={prop:o,instance:r};ajax("/getPropertyReferenceValues",e,null,e=>o._.items=e.data,e=>notify(e))}}function browseFile(e){exports.glob.fileBrowsed=e,$("#file-browse").val("").click()}function refreshFileGallery(e){openFileGallery(exports.glob.fileGallery.drive,e,exports.glob.fileGallery.path,exports.glob.fileGallery.fixedPath,exports.glob.fileGallery.fileSelectCallback)}function getNewItemTitle(e){switch(exports.glob.config.locale){case types_2.Locale[types_2.Locale.en]:return"New "+pluralize.singular(e);default:return $t("new-item")}}function openFileGallery(e,t,r,n,o){exports.glob.fileGallery={list:[],loading:!0,drive:e,file:t,path:r||"",fixedPath:n,selectable:!0,show:!0,fileSelectCallback:o},ajax("/getFileGallery?m=1",{drive:e,path:r},{},e=>{if(e.code!=types_2.StatusCode.Ok)return exports.glob.fileGallery.show=!1,void notify(e.message,types_2.LogType.Error);exports.glob.fileGallery.loading=!1,exports.glob.fileGallery.uri=e.data.uri,exports.glob.fileGallery.list=e.data.list,exports.glob.fileGallery.selected=exports.glob.fileGallery.list.find(e=>e.name===exports.glob.fileGallery.file)})}function log(...e){console.log(e)}function invoke(e,t,r){return!1}function toFriendlyFileSizeString(e){return e<1024?e.toString():e<1048576?(e/1024).toFixed(1)+" KB":(e/1024/1024).toFixed(1)+" MB"}function joinUri(...e){let t="";for(const r of e)t+="/"+(r||"").replace(/^\//,"").replace(/\/$/,"");return t.substr(1)}function notify(e,t){if(!e)return;const r="string"===typeof e?e:e.message;null==t&&(t="string"!==typeof e&&e.code&&e.code!==types_2.StatusCode.Ok?types_2.LogType.Error:types_2.LogType.Info),t===types_2.LogType.Fatal?$("#app").html(`<div style="color:red; font-family: monospace;padding: 40px;"><h1>Fatal error</h1>${e}</div>`):t==types_2.LogType.Debug?($(".inline-message-box span").text(r),$(".inline-message-box").show(),setTimeout((function(){$(".inline-message-box").hide()}),5e3)):$(".notify-message-container").length?$(".notify-message-container").html(`<div class="notify-message-type-${t}">${r}</div>`):exports.glob.notify={message:r,type:t}}function question(e,t,r,n,o){exports.glob.question={title:e,message:t,buttons:r,options:n,select:o,show:!0}}function loadHeadScript(e,t){loadScript(e,document.head,t)}function loadBodyScript(e,t){loadScript(e,document.body,t)}function loadScript(e,t,r){if(document.querySelector("script[src='"+e+"']"))return;const n=document.createElement("script");n.setAttribute("src",e),n.setAttribute("type","text/javascript"),n.onload=function(){r&&r()},t.appendChild(n)}function delScript(e){const t=document.querySelector("script[src='"+e+"']");t&&t.remove()}function addHeadLink(e){if(document.querySelector("link[href='"+e+"']"))return;const t=document.createElement("link");t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),document.head.appendChild(t)}function loadBodyLink(e){if(document.querySelector("link[href='"+e+"']"))return;const t=document.createElement("link");t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),document.body.appendChild(t)}function delLink(e){const t=document.querySelector('link[href="'+e+'"]');t&&t.remove()}function setPropertyEmbeddedError(e,t,r){r?(e._=e._||{},e._[types_1.Constants.errorEmbedProperty]=e._[types_1.Constants.errorEmbedProperty]||{},e._[types_1.Constants.errorEmbedProperty][t]=r):e&&e._&&e._[types_1.Constants.errorEmbedProperty]&&delete e._[types_1.Constants.errorEmbedProperty][t]}function getPropertyEmbedError(e,t){return e&&e._&&e._[types_1.Constants.errorEmbedProperty]?e._[types_1.Constants.errorEmbedProperty][t]:null}function call(e,t,r){t=t||{},t._=t._||{},t._.ref=location.href,ajax(setQs("m",types_2.RequestMode.inline,!1,"/"+e),t,null,e=>r(null,e),e=>r(e))}function load(e,t=!1){exports.glob.dirty?notify($t("save-before"),types_2.LogType.Warning):(t&&location.href!=e&&history.pushState(null,null,e),exports.glob.notify=null,ajax(setQs("m",types_2.RequestMode.inline,!1,e),null,{showProgress:!0},t=>{exports.glob.screen==types_1.ScreenSize.xs&&(exports.glob.showNavMenu=!1),handleResponse(t),loadNotes(e)},e=>notify(e)))}function loadNotes(e){exports.glob.infoPanel.notes=[],ajax("/getNotes?m=1",{url:e},null,e=>{exports.glob.infoPanel.notes=e.data||[]})}function ajax(e,t,r,n,o){r=r||new types_2.AjaxConfig,r.showProgress&&(exports.glob.showProgress=!0),o=o||notify,exports.glob.config.host&&(e=joinUri(exports.glob.config.host,e));let a={url:e,dataType:"text",transformResponse:e=>e,method:r.method||(t?types_2.WebMethod.post:types_2.WebMethod.get),headers:{"Content-Type":"text/plain"},withCredentials:!0},i=!1;if(t){let e=null;for(let r in t){if(!t[r])continue;let n=Array.isArray(t[r])?t[r]:[t[r]];for(let t of n)if(t._&&t._.rawData){e=e||new FormData;let r=t._.rawData;e.append("files[]",r,t.name),delete t._.rawData}}e&&(i=!0,a.data=e,a.data.append("data",bson_util_1.stringify(t,!0)),a.headers["Content-Type"]="multipart/form-data")}axios.defaults.headers.post["Access-Control-Allow-Origin"]="*",i||(a.data=bson_util_1.stringify(t,!0)),axios(a).then(e=>{if(exports.glob.showProgress=!1,e.status&&e.status!==types_2.StatusCode.Ok)o({code:e.status,message:e.statusText});else try{let t=bson_util_1.parse(e.data,!0,types_1.ID);n(t)}catch(t){console.error("Ajax parse",e,t),notify(t.message,types_2.LogType.Error)}}).catch(t=>{if(exports.glob.showProgress=!1,console.error(`error on ajax '${e}'`,t),t.response&&t.response.data)try{let e=bson_util_1.parse(t.response.data,!0,types_1.ID);o(e)}catch(r){o(r)}else o({message:t.toString(),code:types_2.StatusCode.UnknownError})})}function registerComponents(e,t){const r=__webpack_require__("2323");if(r.keys().forEach(e=>{const t=r(e),n=e.split("/").pop().replace(/\.\w+$/,"");vue_1.default.component(n,t.default||t)}),t)for(let n in t)e.component(n,t[n]);e.component("SysApp",App_vue_1.default)}function checkScreenSize(){window.innerWidth<768?exports.glob.screen=types_1.ScreenSize.xs:window.innerWidth<992?exports.glob.screen=types_1.ScreenSize.sm:window.innerWidth<1200?exports.glob.screen=types_1.ScreenSize.md:exports.glob.screen=types_1.ScreenSize.lg}function startVue(e,t){try{handleWindowEvents(),checkScreenSize(),vue_1.default.use(vuex_1.default),store=new vuex_1.default.Store({state:{data:null},mutations:{_commitStoreChange:_commitStoreChange,_commitServerChangeResponse:_commitServerChangeResponse,_commitReloadData:_commitReloadData,_commitReorderItems:_commitReorderItems},actions:{_dispatchStoreModify:_dispatchStoreModify,_dispatchRequestServerModify:_dispatchRequestServerModify}}),handleResponse(e),console.log("glob.socket initing ..."),"undefined"!=typeof io&&(exports.glob.socket=io()),Object.assign(vue_1.default.config,{productionTip:!1,devtools:!0}),vue_1.default.prototype.glob=exports.glob,vue_1.default.prototype.$t=$t,vue_1.default.prototype.rtl=exports.glob.config.rtl,vue_1.default.prototype.ltr=!exports.glob.config.rtl,vue_1.default.config.productionTip=!1,vue_1.default.directive("focus",{inserted(e,t){t.value&&e.focus()}}),exports.glob.config.rtl&&$("html").attr("dir","rtl"),registerComponents(vue_1.default,t?t.components:null),new vue_1.default({data:exports.glob,store:store,render:e=>e((t?t.app:null)||App_vue_1.default)}).$mount("#app")}catch(r){console.error(r),notify("<strong>Starting Vue failed:</strong> "+r.message,types_2.LogType.Fatal)}}function _commitReloadData(e,t){e.data=t}function clearModifies(){exports.glob.dirty=!1,exports.glob.modifies=[]}function commitStoreChange(e,t){e.commit("_commitStoreChange",t)}function _commitStoreChange(e,t){let r=t.uri;switch(t.type){case types_1.ChangeType.UploadFile:case types_1.ChangeType.SelectFile:case types_1.ChangeType.DeleteFile:case types_1.ChangeType.EditProp:t.item[t.prop.name]=t.value;break;case types_1.ChangeType.InsertItem:e.data[r].push(t.item);break;case types_1.ChangeType.DeleteItem:e.data[r].splice(e.data[r].indexOf(t.item),1);break}t.vue.$forceUpdate()}function commitServerChangeResponse(e,t,r){e.commit("_commitServerChangeResponse",{modify:t,res:r})}function _commitServerChangeResponse(e,t){switch(t.modify.type){case types_1.ChangeType.EditProp:for(let e in t.res)t.modify.state[e]=t.res[e];break;case types_1.ChangeType.InsertItem:equalID(t.modify.state._id,t.res._id)||notify(`data save error: state id '${t.modify.state._id}' and request id '${t.res._id}' are not same`,types_2.LogType.Error);for(let e in t.res)t.modify.state[e]=t.res[e];break}}function sort(e,t="_z"){function r(e,r){return e[t]<r[t]?-1:e[t]>r[t]?1:0}return e.sort(r),e}function commitReorderItems(e,t,r,n,o){e.commit("_commitReorderItems",{items:t,up:r,uri:n,item:o})}function _commitReorderItems(e,t){let{items:r,up:n,uri:o,item:a}=t,i=r.indexOf(a);if(n&&0==i||!n&&i==r.length-1)return;exports.glob.dirty=!0;let s=r.filter(e=>!e._z);if(s.length){let e=Math.min(...r.map(e=>e._z))||0;r.forEach(t=>{t._z=++e,modifyOrder(t,o)})}let l=n?i-1:i+1,c=r[l];if(a._z==c._z){let e=Math.min(...r.map(e=>e._z));r.forEach(t=>{t._z=e++,modifyOrder(t,o)})}let u=a._z;a._z=c._z,modifyOrder(a,o),c._z=u,modifyOrder(c,o),r.splice(i,1),r.splice(l,0,a)}function modifyOrder(e,t){let r=exports.glob.modifies.find(t=>t.state==e&&(t.type==types_1.ChangeType.InsertItem||t.type==types_1.ChangeType.EditProp));r||(r={ref:t+"/"+e._id,type:types_1.ChangeType.EditProp,data:{},state:e},exports.glob.modifies.push(r)),r.data._z=e._z}function dispatchStoreModify(e,t){e["$store"].dispatch("_dispatchStoreModify",t)}function _dispatchStoreModify(e,t){let r=t.uri;switch(t.type){case types_1.ChangeType.EditProp:{let e;e=exports.glob.modifies.find(e=>e.state==t.item&&(e.type==types_1.ChangeType.InsertItem||e.type==types_1.ChangeType.EditProp)),e||(e={ref:r,type:types_1.ChangeType.EditProp,data:{},state:t.item},exports.glob.modifies.push(e)),e.data[t.prop.name]=t.value;break}case types_1.ChangeType.InsertItem:{let e={_id:t.item._id,_new:!0};t.item._z&&(e["_z"]=t.item._z),exports.glob.modifies.push({ref:r,type:types_1.ChangeType.InsertItem,data:e,state:t.item});break}case types_1.ChangeType.DeleteItem:{r=r+"/"+t.item._id;let e=exports.glob.modifies.find(e=>e.state==t.item);e?(exports.glob.modifies.splice(exports.glob.modifies.indexOf(e),1),e.type!=types_1.ChangeType.InsertItem&&exports.glob.modifies.push({state:t.item,ref:r,type:types_1.ChangeType.DeleteItem})):exports.glob.modifies.push({state:t.item,ref:r,type:types_1.ChangeType.DeleteItem});break}case types_1.ChangeType.UploadFile:case types_1.ChangeType.SelectFile:case types_1.ChangeType.DeleteFile:let e={ref:t.item._.ref,type:t.type,data:{},state:t.item};exports.glob.modifies.push(e),e.data[t.prop.name]=t.value||null;break}exports.glob.dirty=exports.glob.modifies.length>0,exports.glob.notify=null,commitStoreChange(e,t)}function dispatchRequestServerModify(e,t){e.dispatch("_dispatchRequestServerModify",t)}function markDown(e,t=!1){return e?(t&&(e=e.replace(/\*\*Note\*\*(\s+.+\s)/gi,"<div class='inline-note'><i class='fal text-primary mr-2 fa-info-circle'></i><strong>Note</strong>\r\n$1</div>"),e=e.replace(/\*\*Tip\*\*(\s+.+\s)/gi,"<div class='inline-tip'><i class='fal text-primary mr-2 fa-info-circle'></i><strong>Tip</strong>\r\n$1</div>"),e=e.replace(/\*\*Warning\*\*(\s+.+\s)/gi,"<div class='inline-warn'><i class='fal text-primary mr-2 fa-info-circle'></i><strong>Warning</strong>\r\n$1</div>")),marked(e).replace(/^\<p\>|\<\/p\>\s*$/g,"")):""}function _dispatchRequestServerModify(e,t){if(0==exports.glob.modifies.length)return notify($t("nothing-todo"),types_2.LogType.Debug),exports.glob.dirty=!1,t();let r=exports.glob.modifies.shift(),n=types_2.WebMethod.patch;switch(r.type){case types_1.ChangeType.InsertItem:n=types_2.WebMethod.post;break;case types_1.ChangeType.DeleteItem:n=types_2.WebMethod.del;break}ajax(prepareServerUrl(r.ref),r.data,{method:n},n=>{if(commitServerChangeResponse(e,r,n.modifyResult),getQs("n")){notify($t("saved"),types_2.LogType.Debug),exports.glob.dirty=!1,clearModifies();let e="/"+r.ref+"/"+n.modifyResult._id;history.replaceState(null,null,e),load(e,!1),t()}else{if(n.redirect&&0==exports.glob.modifies.length)return handleResponseRedirect(n);n.modifyResult?0==exports.glob.modifies.length?(notify($t("saved"),types_2.LogType.Debug),exports.glob.dirty=!1,t()):dispatchRequestServerModify(e,t):(exports.glob.modifies.unshift(r),notify("A problem happened. Please refresh the page to check if your modifies have been saved or not!",types_2.LogType.Error),t("A problem happened. Please refresh the page to check if your modifies have been saved or not!"))}},e=>{exports.glob.modifies.unshift(r),notify(e,types_2.LogType.Error),t(e)})}function startServiceWorker(){}function start(e){console.log("Starting ...");const t=$("#main-state").html(),r=bson_util_1.parse(t,!0,types_1.ID);if(startServiceWorker(),r)startVue(r,e);else{let t=setQs("m",types_2.RequestMode.inlineDev,!1,location.pathname&&"/"!=location.pathname?location.pathname+location.search:types_1.Constants.defaultAddress);t=setQs("t",Math.random(),!1,t),getQs(types_1.Constants.QUERY_LOCALE)&&(t=setQs(types_1.Constants.QUERY_LOCALE,getQs(types_1.Constants.QUERY_LOCALE),!1,t)),axios.get(t,{transformResponse:e=>e,withCredentials:!0}).then(t=>{if(t.data){let r=bson_util_1.parse(t.data,!0,types_1.ID);startVue(r,e)}else console.error(t)}).catch(e=>{if(e.response&&e.response.data&&"string"==typeof e.response.data){let t=bson_util_1.parse(e.response.data,!0,types_1.ID);t.redirect?location.href=t.redirect:notify(t.message,types_2.LogType.Fatal)}else notify("Connecting to proxy server failed! "+e.message,types_2.LogType.Fatal)})}return exports.glob}exports.glob=window["__glob"]||new types_1.Global,window["__glob"]=exports.glob,exports.getText=getText,exports.$t=$t,exports.clone=clone,exports.evalExpression=evalExpression,exports.processThisExpression=processThisExpression,exports.assignNullToEmptyProperty=assignNullToEmptyProperty,exports.getDec=getDec,exports.validate=validate,exports.someProps=someProps,exports.prepareServerUrl=prepareServerUrl,exports.loadObjectViewData=loadObjectViewData,exports.onlyUnique=onlyUnique,exports.handleResponse=handleResponse,exports.digitGroup=digitGroup,exports.getPropTextValue=getPropTextValue,exports.equalID=equalID,exports.getPropReferenceValue=getPropReferenceValue,exports.showPropRefMenu=showPropRefMenu,exports.handleResponseRedirect=handleResponseRedirect,exports.isRtl=isRtl,exports.showCmenu=showCmenu,exports.hideCmenu=hideCmenu,exports.newID=newID,exports.pushToGridViewRecentList=pushToGridViewRecentList,exports.urlInsertPrefix=urlInsertPrefix,exports.handleImagesPreview=handleImagesPreview,exports.handleCmenuKeys=handleCmenuKeys,exports.getQs=getQs,exports.setQs=setQs,exports.checkPropDependencyOnChange=checkPropDependencyOnChange,exports.browseFile=browseFile,exports.refreshFileGallery=refreshFileGallery,exports.getNewItemTitle=getNewItemTitle,exports.openFileGallery=openFileGallery,exports.log=log,exports.invoke=invoke,exports.toFriendlyFileSizeString=toFriendlyFileSizeString,exports.joinUri=joinUri,exports.notify=notify,exports.question=question,exports.loadHeadScript=loadHeadScript,exports.loadBodyScript=loadBodyScript,exports.delScript=delScript,exports.addHeadLink=addHeadLink,exports.loadBodyLink=loadBodyLink,exports.delLink=delLink,exports.setPropertyEmbeddedError=setPropertyEmbeddedError,exports.getPropertyEmbedError=getPropertyEmbedError,exports.call=call,exports.load=load,exports.loadNotes=loadNotes,exports.ajax=ajax,exports.clearModifies=clearModifies,exports.commitStoreChange=commitStoreChange,exports.commitServerChangeResponse=commitServerChangeResponse,exports.sort=sort,exports.commitReorderItems=commitReorderItems,exports.dispatchStoreModify=dispatchStoreModify,exports.dispatchRequestServerModify=dispatchRequestServerModify,exports.markDown=markDown,exports.start=start,window["start"]=start,exports.default={}},ce8e:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout-default",{staticClass:"flowchart-designer",attrs:{showSideMenu:!0}},[r("template",{slot:"toolbar-customs"},[e.dirty?r("div",{staticClass:"mx-2",attrs:{role:"group"}},[r("button",{staticClass:"btn btn-primary mx-2 px-4",on:{click:e.apply}},[r("i",{staticClass:"fal fa-check-circle"}),e._v(" "+e._s(e.$t("apply")))]),r("button",{staticClass:"btn btn-outline-secondary",attrs:{name:"cancel"},on:{click:e.refresh}},[e._v(e._s(e.$t("cancel")))])]):e._e()]),r("template",{slot:"side-menu"},[r("ul",{staticClass:"nav flex-column"},e._l(e.dec.nodes,(function(t){return r("li",{staticClass:"nav-item px-3"},[r("button",{staticClass:"text-nowrap px-0 bg-secondary w-100 text-start my-1 nav-link btn btn-link text-white",attrs:{draggable:"true",href:t.ref},on:{dragstart:function(r){return e.dragNodeDec(r,t)}}},[r("i",{class:"text-center px-3 fa-lg fal fa-"+t.icon,staticStyle:{width:"3rem"}}),r("span",{staticClass:"small font-weight-bold"},[e._v(e._s(t.title))])])])})),0)]),r("template",{slot:"info-panel"},[r("div",{staticClass:"mb-2 d-flex p-2"},[e.currentNode?r("button",{staticClass:"btn btn-link p-0 mx-2",attrs:{title:"Delete node"},on:{click:e.deleteNode}},[r("i",{staticClass:"fal fa-trash-alt fa-lg"})]):e._e(),e.currentLink?r("button",{staticClass:"btn btn-link p-0 mx-2",attrs:{title:"Delete link"},on:{click:e.deleteLink}},[r("i",{staticClass:"fal fa-trash-alt fa-lg"})]):e._e(),e.currentNode?r("button",{staticClass:"btn btn-link p-0 mx-2",attrs:{title:"Duplicate"},on:{click:e.duplicateNode}},[r("i",{staticClass:"fal fa-copy fa-lg"})]):e._e(),e.currentNode?r("button",{staticClass:"btn btn-link mx-2 p-0",attrs:{type:"button",title:"Link"},on:{click:e.linkNode}},[r("i",{staticClass:"fal fa-lg fa-external-link"})]):e._e()]),e.currentNode?r("div",{staticClass:"px-3"},[e.nodeObjectDec?r("details-view",{staticClass:"compress-view",attrs:{data:e.currentNode,dec:e.nodeObjectDec,level:1}}):e._e(),e.currentNodeObjectDec?r("details-view",{staticClass:"compress-view",attrs:{data:e.currentNode,dec:e.currentNodeObjectDec,level:1}}):e._e()],1):e.currentLink?r("div",{staticClass:"px-3"},[e.linkObjectDec?r("details-view",{staticClass:"compress-view",attrs:{data:e.currentLink,dec:e.linkObjectDec,level:1}}):e._e()],1):e._e(),e.currentNode||e.currentLink?e._e():r("div",{staticClass:"px-3 mb-2"},[e._v(" Select the node for more details. ")]),r("div",{staticClass:"border-2 border-bottom mb-3"})]),r("template",{slot:"main-content"},[r("div",{staticClass:"bg-white main-canvas position-relative",staticStyle:{width:"10000px",height:"10000px",margin:"-1.5rem"},on:{dragover:e.dragOver,drop:e.dropNode}},[r("svg",{ref:"svg",staticClass:"position-absolute",attrs:{viewBox:"0 0 10000 10000",width:"10000",height:"10000"}},e._l(e.links,(function(t){return r("g",[r("path",{attrs:{fill:"none",d:t.path,stroke:"#fff3","stroke-width":"20"},on:{click:function(r){return e.selectLink(t)}}}),r("path",{attrs:{fill:"none",d:t.path,stroke:"black","stroke-width":t.active?3:1},on:{click:function(r){return e.selectLink(t)}}})])})),0),e._l(e.flowchart.nodes,(function(t){return r("div",{class:"cursor-pointer position-absolute node bg-light py-2 px-3 rounded "+(t._.dec.nodeStyle||"")+(e.isSelected(t)?" active":""),style:{top:t.point.y+"px",left:t.point.x+"px","background-color":t._.dec.nodeColor+"!important"},attrs:{tabindex:t.tag},on:{focus:function(r){return e.selectNode(t)},mousedown:function(r){return e.startMoveNode(r,t)}}},[r("i",{class:"text-center fa-lg fal fa-"+t._.dec.icon,staticStyle:{width:"2rem"}}),r("span",{staticClass:"small font-weight-bold"},[e._v(e._s(t.title))])])}))],2)])],2)},o=[]},ce90:function(e,t,r){"use strict";r.r(t);var n=r("d51d"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},cee1:function(e,t,r){"use strict";r.r(t);var n=r("1217"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},cee4:function(e,t,r){"use strict";var n=r("c532"),o=r("1d2b"),a=r("0a06"),i=r("4a7b"),s=r("2444");function l(e){var t=new a(e),r=o(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var c=l(s);c.Axios=a,c.create=function(e){return l(i(c.defaults,e))},c.Cancel=r("7a77"),c.CancelToken=r("8df4"),c.isCancel=r("2e67"),c.all=function(e){return Promise.all(e)},c.spread=r("0df6"),e.exports=c,e.exports.default=c},cf2c:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.json2bson=t.parse=t.stringify=t.getBsonValue=t.ID=void 0;let n=(()=>{class e{constructor(e){this._bsontype="ObjectID",this.id=new Uint8Array(e.match(/[\da-f]{2}/gi).map(e=>parseInt(e,16)))}static generateByBrowser(){if(this.machine)return this.generate();{localStorage.getItem("mongoMachineId");let e=this.generate();return localStorage.setItem("mongoMachineId",this.machine.toString()),e}}static generate(){this.machine=this.machine||Math.floor(16777216*Math.random());let t=this.machine.toString(16);this.increment=this.increment||Math.floor(16777216*Math.random()),this.increment=this.increment>=16777215?0:this.increment+1;let r=this.increment.toString(16);this.pid=this.pid||Math.floor(65536*Math.random());let n=this.pid.toString(16),o=Math.floor((new Date).valueOf()/1e3),a=o.toString(16),i="00000000".substr(0,8-a.length)+a+"000000".substr(0,6-t.length)+t+"0000".substr(0,4-n.length)+n+"000000".substr(0,6-r.length)+r;return new e(i)}equals(e){return this.toString()==e.toString()}toString(){return Array.from(this.id).map(e=>("0"+e.toString(16)).slice(-2)).join("")}}return e.increment=0,e.machine=0,e.pid=0,e})();function o(e,t){if(null==e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e)return e;if("function"==typeof e)return{$Func:!0};if(Array.isArray(e))return e.map(e=>o(e,t));if(e instanceof Date)return{$Date:e.toISOString()};if(e instanceof RegExp)return{$RegExp:e.toString()};if(e._bsontype&&"objectid"==e._bsontype.toLowerCase())return{$oid:e.toString()};if(t&&t.has(e))return t.get(e);{let r={};return a(e,r,t),r}}function a(e,t,r){if(!r.has(e)){r.set(e,t);for(const a in e)try{t[a]=o(e[a],r)}catch(n){throw n}}}function i(e,t=!1){if(null==e)return null;if(t){let t=new WeakMap;if(Array.isArray(e)){let r=e.map(e=>o(e,t));return d(r)}let r={};return a(e,r,t),d(r)}return d(e)}function s(e,t=!1,r=n){if(!e)return null;if("string"!=typeof e)return e;if(t){let t=f(e),n=new WeakSet;return l(t,n,r)}return f(e)}function l(e,t,r){if(t.has(e))return e;t.add(e);for(const n in e){let o=e[n];if(null!=o&&"object"==typeof o)if(o.$oid)e[n]=new r(o.$oid);else if(o.$Date)e[n]=new Date(Date.parse(o.$Date));else if(o.$RegExp){let t=o.$RegExp.match(/\/(.+)\/(.*)/);e[n]=new RegExp(t[1],t[2])}else e[n]=l(o,t,r)}return e}function c(e,t,r){let n,o,a,i,s,l=r.get(e);if(null!=l)return l;let u=t.length,d=Object.prototype.toString.call(e);if("[object Object]"===d){n={},r.set(e,u),t.push(n);let l=Object.keys(e);for(i=0,s=l.length;i<s;i++)o=l[i],a=e[o],n[o]=c(a,t,r)}else if("[object Array]"===d)for(n=[],r.set(e,u),t.push(n),i=0,s=e.length;i<s;i++)a=e[i],n[i]=c(a,t,r);else t.push(e);return u}function u(e){let t,r,n,o,a,i,s=e.length;while(s--)if(n=e[s],i=Object.prototype.toString.call(n),"[object Object]"===i){let i=Object.keys(n);for(t=0,r=i.length;t<r;t++)o=i[t],a=e[n[o]],n[o]=a}else if("[object Array]"===i)for(t=0,r=n.length;t<r;t++)a=e[n[t]],n[t]=a}function d(e,t){try{return 1===arguments.length?JSON.stringify(e):JSON.stringify(e,t)}catch(r){let n=[];return c(e,n,new Map),t?" "+JSON.stringify(n,null,t):" "+JSON.stringify(n)}}function f(e){let t=/^\s/.test(e);if(t){let t=JSON.parse(e);return u(t),t[0]}return JSON.parse(e)}t.ID=n,t.getBsonValue=o,t.stringify=i,t.parse=s,t.json2bson=l},cf31:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.config.headerMenu&&1!=e.glob.screen?e._e():r("div",{class:{"nav-menu d-flex align-items-start flex-column":1,"collapse-nav":!e.glob.showNavMenu}},[r("ul",{staticClass:"pt-4 mb-auto w-100"},e._l(e.glob.config.menu,(function(t){return r("li",{staticClass:"nav-item text-uppercase",attrs:{title:t.title}},["-"==t.title?r("div",{staticClass:"d-block separator"}):t.ref?r("a",{class:{"text-nowrap nav-link":1,"has-child":t.items},attrs:{href:t.ref},on:{click:function(r){return e.clickLink(r,t)}}},[r("i",{class:t._cs}),r("span",[e._v(e._s(t.title))])]):r("a",{staticClass:"nav-link font-weight-bold"},[r("i",{class:t._cs}),e._v(e._s(t.title))]),r("ul",{staticClass:"list-unstyled",staticStyle:{"padding-inline-start":"6rem"}},e._l(t.items,(function(t){return r("li",{staticClass:"nav-item px-3"},[r("a",{class:{"text-nowrap nav-link":1},attrs:{href:t.ref}},[e._v(e._s(t.title))])])})),0)])})),0)])},o=[]},cf6c:function(e,t,r){"use strict";r.r(t);var n=r("d3f9"),o=r("bb01");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("1fd4");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},cff9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=n.__importStar(r("cd49"));let i=class extends o.Vue{get value(){let e=this.attr.prop,t=this.attr.item?this.attr.item[e.name]:null;return e.text&&e.text.multiLanguage&&(t=a.getPropTextValue(e,this.attr.item)),t}};n.__decorate([o.Prop()],i.prototype,"attr",void 0),i=n.__decorate([o.Component({name:"TreeViewAttribute"})],i),t.default=i},d03b:function(e,t,r){"use strict";var n=r("07c9"),o=r.n(n);o.a},d0c0:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"app-header"},[r("nav",{staticClass:"d-flex h-100 text-white align-items-center",style:{"background-color":e.navColor||"black"}},[e.glob.config.headerMenu&&1!=e.glob.screen?e._e():r("a",{staticClass:"px-3 header-link align-items-center d-flex",attrs:{title:"Toggle navigation menu"},on:{click:function(t){e.glob.showNavMenu=!e.glob.showNavMenu}}},[r("i",{staticClass:"fal fa-bars fa-lg"})]),r("a",{staticClass:"brand text-nowrap text-decoration-none text-white mx-2",style:{paddingInlineStart:e.glob.config.headerMenu&&e.glob.screen>1?".5rem":"unset"},attrs:{href:"_default"}},[e.glob.config.brandingLogo?r("img",{staticClass:"branding-logo mr-2 img-responsive",attrs:{alt:"logo",src:e.glob.config.brandingLogo}}):e._e(),r("span",{staticClass:"app-title"},[e._v(e._s(e.glob.config.appTitle))])]),e.glob.config.headerMenu&&e.glob.screen>1?r("ul",{staticClass:"d-flex h-100 navbar-nav flex-row"},e._l(e.glob.config.menu,(function(t){return r("li",{class:{"nav-item header-link d-flex align-items-center":1,active:e.currentRef===t.ref,dropdown:t.items}},[t.items&&t.items.length?r("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown","data-toggle":"dropdown","aria-expanded":"false"}},[e._v(e._s(t.title))]):e._e(),t.items&&t.items.length?r("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[e._l(t.items,(function(t){return["-"===t.title?r("div",{staticClass:"dropdown-divider"}):r("a",{staticClass:"dropdown-item header-link",attrs:{href:t.ref},on:{click:e.clickLink}},[e._v(e._s(t.title))])]}))],2):r("a",{staticClass:"nav-link px-2",attrs:{href:t.ref},on:{click:function(r){return e.clickLink(r,t)}}},[e._v(e._s(t.title))])])})),0):e._e(),r("div",{staticClass:"mr-auto"}),e.glob.config.headerMenu&&e.glob.screen>1?r("AppLocaleMenu",{staticClass:"mx-0 mx-lg-2"}):e._e(),r("AppUserLoginMenu",{staticClass:"header-link align-items-center d-flex"}),e.glob.config.apps.length>1?r("div",{staticClass:"dropdown h-100 apps-menu"},[r("a",{staticClass:"header-link px-3 d-flex align-items-center",attrs:{href:"#","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("svg",{attrs:{viewBox:"0 0 32 32",width:"20",height:"20",fill:"white"}},[r("rect",{attrs:{height:"6",width:"6",x:"1",y:"1"}}),r("rect",{attrs:{height:"6",width:"6",x:"25",y:"1"}}),r("rect",{attrs:{height:"6",width:"6",x:"13",y:"1"}}),r("rect",{attrs:{height:"6",width:"6",x:"1",y:"13"}}),r("rect",{attrs:{height:"6",width:"6",x:"1",y:"25"}}),r("rect",{attrs:{height:"6",width:"6",x:"25",y:"25"}}),r("rect",{attrs:{height:"6",width:"6",x:"25",y:"13"}}),r("rect",{attrs:{height:"6",width:"6",x:"13",y:"13"}}),r("rect",{attrs:{height:"6",width:"6",x:"13",y:"25"}})])]),r("div",{class:{"dropdown-menu bg-light mt-0":1,"dropdown-menu-right":e.ltr}},[r("div",{staticClass:"d-flex apps-list overflow-auto flex-wrap p-5 align-content-end"},e._l(e.glob.config.apps,(function(t){return r("a",{staticClass:"small bg-white m-3 business-app cursor-pointer",staticStyle:{width:"8rem"},attrs:{target:"_self",href:e.getAppUrl(t)}},[r("div",{staticClass:"text-center p-2"},[r("div",{staticClass:"app-icon p-3 text-white",style:{"background-color":t.iconColor}},[r("i",{class:t.iconStyle+" fa-4x"})]),r("label",{staticClass:"pt-2 font-weight-bold",staticStyle:{color:"#444","font-size":".7rem"}},[e._v(e._s(t.title))])])])})),0)])]):e._e()],1)])},o=[]},d1e0:function(e,t,r){"use strict";r.r(t);var n=r("ab0d"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},d1f3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("a76d"),i=r("cd49"),s=n.__importStar(r("cd49")),l=r("8445");let c=class extends o.Vue{apply(){i.glob.notify=null,s.validate(this.$store.state.data)&&s.dispatchRequestServerModify(this.$store,()=>{})}mounted(){window.addEventListener("keydown",e=>{e.ctrlKey&&e.which==l.Keys.s&&(this.apply(),e.preventDefault())})}cancel(){s.clearModifies(),s.load(location.pathname,!!s.getQs(a.Constants.QUERY_NEW))}};c=n.__decorate([o.Component({name:"ToolbarModifyButtons"})],c),t.default=c},d33e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("cd49");let s=class extends o.Vue{constructor(){super(...arguments),this.userDec=null,this.user=null,this.changes=null,this.modify=null}changed(e){this.modify=this.modify||{data:{},type:e.type,ref:"users/"+this.user._id,state:this.user},this.modify.data[e.prop.name]=e.val||null}apply(e){i.ajax(i.prepareServerUrl(this.modify.ref),this.modify.data,{method:a.WebMethod.patch},e=>{this.modify=null,i.notify(i.$t("saved"),a.LogType.Debug)},i.notify)}created(){let e="getUserAccountInfo";i.call(e,null,(t,r)=>{if(t||!r)return i.notify(t,a.LogType.Error);r.code!=a.StatusCode.Unauthorized?(this.userDec=r.form.declarations[e],this.user=r.data[e]):location.href="/signin"})}};s=n.__decorate([o.Component({name:"UserAccount"})],s),t.default=s},d34b:function(e,t,r){"use strict";var n=r("1435"),o=r.n(n);o.a},d3e2:function(e,t,r){"use strict";var n=r("9c34"),o=r.n(n);o.a},d3f9:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{class:{highlight:e.meta.marked},on:{click:e.click}},[e.selectable?r("th",{staticClass:"text-center",attrs:{scope:"row"}},[r("CheckBox",{attrs:{checked:e.meta.marked}})],1):r("th",{staticClass:"text-center",on:{click:e.headerClick}}),e._l(e.dec.properties,(function(t,n){return r("td",{on:{click:e.clickCell}},[r("Property",{attrs:{item:e.item,prop:t,viewType:1,indexInGrid:n,readonly:e.readonly},on:{focus:e.focused,changed:e.changed,keydown:e.keydown}})],1)}))],2)},o=[]},d51d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{constructor(){super(...arguments),this.feedbackComment=null,this.showOverall=!0,this.showComments=!1}postOverall(e){this.showOverall=!1,this.showComments=!0,a.call("sendFeedback",{url:location.href,tag:"global",path:location.pathname,value:e},(e,t)=>{})}postFeedback(){this.showComments=!1,a.call("sendFeedback",{url:location.href,tag:"document-end",path:location.pathname,comment:this.feedbackComment||"[empty]"},(e,t)=>{this.feedbackComment=""})}};i=n.__decorate([o.Component({name:"AppFeedback"})],i),t.default=i},d529:function(e,t,r){"use strict";r.r(t);var n=r("a14d"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},d5fa:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};n.__decorate([o.Prop()],a.prototype,"path",void 0),n.__decorate([o.Prop()],a.prototype,"files",void 0),a=n.__decorate([o.Component({components:{},name:"FileDrive"})],a),t.default=a},d6ea:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{keydown(e){return{e:e}}focus(e){return{prop:this.prop,event:e}}change(e){return{prop:this.prop,val:e.val,vue:this}}get checked(){if(!this.readOnly)return!!this.doc[this.prop.name]}};n.__decorate([o.Prop()],a.prototype,"prop",void 0),n.__decorate([o.Prop()],a.prototype,"doc",void 0),n.__decorate([o.Prop()],a.prototype,"label",void 0),n.__decorate([o.Prop()],a.prototype,"readOnly",void 0),n.__decorate([o.Emit("keydown")],a.prototype,"keydown",null),n.__decorate([o.Emit("focus")],a.prototype,"focus",null),n.__decorate([o.Emit("changed")],a.prototype,"change",null),a=n.__decorate([o.Component({name:"PropBoolean"})],a),t.default=a},d6f8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=n.__importDefault(r("81d7")),s=r("cd49"),l=n.__importDefault(r("9228")),c=n.__importDefault(r("b57c")),u=n.__importDefault(r("02b4")),d=n.__importDefault(r("278f"));let f=class extends o.Vue{constructor(){super(...arguments),this.tasks=[],this.view={},this.projects=[],this.newViewName="",this.showRightPanel=!0,this.addNoteContent="",this.coloringLegend=[],this.views=[],this.taskGroups=[],this.calendarRows=[],this.tasksDec=null,this.dueDatesDec=null,this.showArchivedTasks=!1,this.unscheduledTasksGroup=null,this.showTaskDetails=!1,this.TaskView_Home=a.TaskView.Start,this.TaskView_Status=a.TaskView.Status,this.TaskView_Project=a.TaskView.Project,this.TaskView_DueDate=a.TaskView.DueDate,this.TaskView_Grid=a.TaskView.Grid,this.TaskView_Assignee=a.TaskView.Assignee,this.TaskView_Priority=a.TaskView.Priority,this.TaskView_Category=a.TaskView.Category,this.TaskView_MileStone=a.TaskView.MileStone,this.searchPhrase=null,this.currentTask=null,this.currentTaskDueDate=null,this.currentGroup=null,this.dragStartGroup=null,this.currentProject=null,this.dragOffset=null,this.groupItems=[],this.colorTable=[{color:"#fff",bgColor:"#29e"},{color:"#fff",bgColor:"#f74"},{color:"#fff",bgColor:"#080"},{color:"#fff",bgColor:"#b5b"},{color:"#fff",bgColor:"#669"},{color:"#fff",bgColor:"#e55"},{color:"#740",bgColor:"#eb4"},{color:"#fff",bgColor:"#999"},{color:"#fff",bgColor:"#86e"},{color:"#fff",bgColor:"#087"}]}toggleExpand(e){e.collapse=!e.collapse,this.saveTask(e,{collapse:e.collapse}),this.tasks.filter(t=>s.equalID(t.parent,e._id)).forEach(t=>t.collapse=e.collapse),this.$forceUpdate()}autoSetMilestone(e){if(!e.project||!e.dueDates||0==e.dueDates.length)return;let t=this.projects.find(t=>s.equalID(e.project,t._id));if(!t||!t.milestones)return;let r=e.dueDates[e.dueDates.length-1].time,n=null;for(let o of t.milestones.filter(e=>e.dueDate))moment(r).diff(o.dueDate)<0&&(!n||moment(o.dueDate).diff(n.dueDate)<0)&&(n=o);s.equalID(e.milestone,n._id)||(e.milestone=n._id,this.saveTask(e,{milestone:e.milestone}))}hasGridTaskChild(e){return this.tasks.some(t=>s.equalID(t.parent,e._id))}getTaskStatusStyle(e){let{color:t,bgColor:r}=this.getTaskColor(e,a.TaskView.Status);return{color:t,backgroundColor:r+"!important"}}getTaskCategoryStyle(e,t){if(this.currentProject&&this.currentProject.categories){let e=this.currentProject.categories.indexOf(t);if(-1==e)return null;let r=this.colorTable[e%this.colorTable.length];return{color:r.color,backgroundColor:r.bgColor+"!important"}}return null}getTaskProjectStyle(e){let{color:t,bgColor:r}=this.getTaskColor(e,a.TaskView.Project);return{color:t,backgroundColor:r+"!important"}}getTaskAssigneeStyle(e){let{color:t,bgColor:r}=this.getTaskColor(e,a.TaskView.Assignee);return{color:t,backgroundColor:r+"!important"}}getTaskDueDateTitle(e){return e.dueDates&&0!=e.dueDates.length?1==e.dueDates.length?moment(e.dueDates[0].time).format("DD MMM")+(e.dueDates[0].setTime?` (${moment(e.dueDates[0].time).format("HH:mm")})`:""):moment(e.dueDates[0].time).format("DD MMM")+" - "+moment(e.dueDates[e.dueDates.length-1].time).format("DD MMM"):""}getTaskProjectTitle(e){if(!e.project)return null;let t=this.projects.find(t=>s.equalID(t._id,e.project));return t.title}getTaskAssigneeTitle(e){if(!e.assignee)return null;let t=this.users.find(t=>s.equalID(t.ref,e.assignee));return t.title.split(" ")[0]}getTaskStatusTitle(e){return a.TaskStatus[e.status]}created(){s.glob.infoPanel.show=!1,this.reload(),window.onhashchange=()=>{this.checkHashAddress()},window.onkeydown=e=>{switch(e.code){case"Escape":$(".task-group.active").removeClass("active"),$(":focus").blur(),this.currentTask=null;break}}}prepareTaskInstance(e,t){if(e._={dragging:!1,color:null,bgColor:null},e.comments=e.comments||[],e.assignee=e.assignee||null,e.collapse=e.collapse||!1,e.parent&&(e._.parent=t.find(t=>s.equalID(t._id,e.parent))),e.dueDates)for(let r of e.dueDates)r.setTime=r.setTime||!1}reload(e){s.call("getTasks",{},(t,r)=>{let n=r.data;if(!n)return void s.notify(r.message||"Error on loading tasks, please refresh the app or try again later!",a.LogType.Error);this.users=n.users,this.currentUser=n.currentUser;for(let e of n.tasks)this.prepareTaskInstance(e,n.tasks);n.tasks.filter(e=>e._.parent).forEach(e=>e.collapse=e._.parent.collapse),this.tasks=n.tasks,this.tasksDec=n.tasksDec,this.tasksDec.properties=this.tasksDec.properties.filter(e=>["no","title","project","categories","description","time","status","owner","priority","assignee"].indexOf(e.name)>-1),this.dueDatesDec=n.dueDatesDec,this.tasks.forEach(e=>this.assignNullToEmptyTaskProperty(e)),this.projects=n.projects,this.views=n.views;for(let e of this.views)e.filter={statuses:null};let o=localStorage.getItem("task-manager.active-view")||0;this.view=o<this.views.length?this.views[o]:this.views[0],this.activateView(this.view),this.checkHashAddress(),e&&e()})}assignNullToEmptyTaskProperty(e){for(const t of this.tasksDec.properties)s.assignNullToEmptyProperty(e,t)}dragEnterGroup(e){if(this.currentGroup&&this.currentTask&&e.group._z!=this.currentGroup._z){let t=Math.ceil(0|Math.max(...e.group.tasks.map(e=>e._z)));t!=this.currentTask._z&&(t+=1),this.moveTask(this.currentTask,t,e.ev.ctrlKey,e.group),this.currentGroup=e.group}}dragEnterTask(e){if(this.currentTask&&e.task!=this.currentTask){let t=e.group.tasks.indexOf(e.task),r=0==t?Math.ceil(e.task._z-1):this.calculateMiddleZ(e.group.tasks[t-1],e.task);this.moveTask(this.currentTask,r,e.ev.ctrlKey,e.group)}}dragEnd(e){let t=this.currentTask||this.tasks.find(e=>e._.dragging);if(!t)return void console.warn("drop: currenttask is null");e.ev.preventDefault(),t._.dragging=!1,this.applyTaskColoring(t),this.$forceUpdate(),this.$nextTick(()=>{this.$forceUpdate()});let r={_z:t._z};switch(this.view.concern){case a.TaskView.Start:r.status=t.status,r.dueDates=t.dueDates,r.priority=t.priority;break;case a.TaskView.Assignee:r.assignee=t.assignee;break;case a.TaskView.Category:t.categories.filter(e=>e==this.currentGroup.value).length>1&&t.categories.pop(),r.categories=t.categories;break;case a.TaskView.DueDate:t.dueDates.filter(e=>this.datePeriodContains(e.time,this.currentGroup.value)).length>1&&t.dueDates.pop(),t.dueDates.sort((e,t)=>moment(e.time).diff(moment(t.time),"minutes")),this.autoSetMilestone(t),r.dueDates=t.dueDates;break;case a.TaskView.MileStone:r.milestone=t.milestone;break;case a.TaskView.Priority:r.priority=t.priority;break;case a.TaskView.Status:r.status=t.status;break}this.saveTask(t,r,()=>{this.reload(()=>{this.currentTask=this.tasks.find(e=>s.equalID(e._id,this.currentTask._id))})})}drop(e){}moveTask(e,t,r,n){if(e){switch(e._z=t,this.view.concern){case a.TaskView.DueDate:if(this.currentGroup.value){e.dueDates=e.dueDates||[];let t=e.dueDates.findIndex(e=>this.datePeriodContains(e.time,this.currentGroup.value));if(t>-1&&e.dueDates.splice(t,1),this.addDueDate(e,n.value.toDate()),r){let t=e.dueDates.findIndex(e=>this.datePeriodContains(e.time,this.dragStartGroup.value));-1==t&&this.addDueDate(e,this.dragStartGroup.value.toDate())}}else e.dueDates=[];break;case a.TaskView.Category:if(n.value){e.categories=e.categories||[];let t=e.categories.indexOf(this.currentGroup.value);r||t>-1&&e.categories.splice(t,1),e.categories.push(n.value)}else e.categories=null;break;case a.TaskView.Start:switch(n.value){case a.TaskInboxGroup.Todo:e.status=a.TaskStatus.Todo,null==e.dueDates&&this.addDueDate(e,this.today().toDate());break;case a.TaskInboxGroup.Doing:e.status=a.TaskStatus.Doing,null==e.dueDates&&this.addDueDate(e,this.today().toDate());break;case a.TaskInboxGroup.Brainstorm:e.dueDates=null;break;case a.TaskInboxGroup.Urgent:e.priority=a.TaskPriority.Urgent;break}break;case a.TaskView.Assignee:e.assignee=n.value;break;case a.TaskView.Category:e.categories=n.value;break;case a.TaskView.DueDate:e.dueDates=n.value;break;case a.TaskView.MileStone:e.milestone=n.value;break;case a.TaskView.Priority:e.priority=n.value;break;case a.TaskView.Status:e.status=n.value;break}this.currentGroup=n,this.refreshTasks()}}calculateMiddleZ(e,t){let r=t._z-e._z;return e._z+r/2}toggleSetTime(){this.currentTaskDueDate.setTime=!this.currentTaskDueDate.setTime;let e=this.dueDatesDec.properties.find(e=>"time"==e.name);this.currentTaskDueDate.setTime?e.time.format=a.TimeFormat.YearMonthDayHourMinute:e.time.format=a.TimeFormat.YearMonthDay,this.$forceUpdate()}friendlyTime(e){return moment(e).format("DD MMM - HH:mm")}addNote(){this.addNoteContent&&(this.currentTask.comments.push({_id:s.newID(),content:this.addNoteContent,user:this.currentUser,time:new Date}),this.addNoteContent="",this.saveTask(this.currentTask,{comments:this.currentTask.comments}))}checkHashAddress(){if(/^#\d+$/.test(document.location.hash)){let e=parseInt(document.location.hash.substr(1)),t=this.tasks.find(t=>t.no==e);t?(this.currentTask=t,this.showTaskDetails=!0):s.notify(`Task #${e} not found!`,a.LogType.Error)}else this.showTaskDetails=!1}toggleShowArchivedTasks(){this.showArchivedTasks=!this.showArchivedTasks}newView(){if(!this.newViewName)return;let e=s.clone(this.view);Object.assign(e,{_id:s.newID(),title:this.newViewName,primary:!1,_new:!0}),this.newViewName="",this.saveView(e,(t,r)=>{200==r.code&&(s.notify(`Custom view '${e.title}' is created!`,a.LogType.Debug),delete e["_new"],this.views.push(e),this.activateView(e))})}saveView(e,t){s.call("saveUserCustomization",{property:"projectViews",item:e},t||(()=>{}))}search(){this.searchPhrase&&s.call("searchTasks",{phrase:this.searchPhrase},(e,t)=>{let r=t.data.tasks.map(e=>({title:`#${e.no} - ${e.title}`,ref:e}));s.showCmenu(null,r,{ctrl:$(".search-box")},(e,t)=>{this.searchPhrase=null,t&&(this.currentTask=t.ref,this.showCurrentTaskDetails())})})}showCurrentTaskDetails(){this.showTaskDetails=!0,history.pushState(null,"Task:"+this.currentTask.title,"#"+this.currentTask.no),this.checkHashAddress()}closeTaskDetails(){this.showTaskDetails=!1,history.pushState(null,null,"#"),this.$forceUpdate()}get currentViewColoring(){return this.view.coloring?this.view.coloring.toString():null}set currentViewColoring(e){this.view.coloring=e?parseInt(e):null,this.refreshTaskColoring(),this.saveView(this.view)}refreshTaskColoring(){for(let e of this.tasks)this.applyTaskColoring(e);this.coloringLegend=this.getConcernItems(this.view.coloring),this.$forceUpdate()}getConcernItems(e){switch(e){case a.TaskView.Status:return[{title:"To Do",ref:a.TaskStatus.Todo},{title:"Doing",ref:a.TaskStatus.Doing},{title:"Verify",ref:a.TaskStatus.Verify},{title:"Done",ref:a.TaskStatus.Done},{title:"On Hold",ref:a.TaskStatus.OnHold}];case a.TaskView.Project:return this.projects.map(e=>({title:e.title,ref:e._id}));case a.TaskView.Priority:return[{title:"Normal",ref:a.TaskPriority.Normal},{title:"Urgent",ref:a.TaskPriority.Urgent},{title:"Low",ref:a.TaskPriority.Low},{title:"High",ref:a.TaskPriority.High}];case a.TaskView.Assignee:return this.users;case a.TaskView.MileStone:return this.currentProject.milestones.map(e=>({title:e.title,ref:e._id}));case a.TaskView.Category:return this.currentProject.categories.map(e=>({title:e,ref:e}))}}getTaskColor(e,t){let r=this.getConcernItems(t),n=-1;switch(t){case a.TaskView.Status:n=r.findIndex(t=>t.ref==e.status);break;case a.TaskView.Project:n=r.findIndex(t=>s.equalID(t.ref,e.project));break;case a.TaskView.MileStone:n=r.findIndex(t=>s.equalID(t.ref,e.milestone));break;case a.TaskView.Category:n=r.findIndex(t=>e.categories&&e.categories.indexOf(t.ref)>-1);break;case a.TaskView.Priority:n=r.findIndex(t=>t.ref==e.priority);break;case a.TaskView.Assignee:n=this.users.findIndex(t=>s.equalID(t.ref,e.assignee));break}return-1==n?{color:"#333",bgColor:"white"}:{color:this.colorTable[n%this.colorTable.length].color,bgColor:this.colorTable[n%this.colorTable.length].bgColor}}applyTaskColoring(e){let{color:t,bgColor:r}=this.getTaskColor(e,this.view.coloring);e._.color=t,e._.bgColor=r}taskDueDateChanged(e){this.saveTask(this.currentTask,{dueDates:this.currentTask.dueDates},e=>{this.refreshTasks()})}taskChanged(e){let t=new a.Task;t[e.prop.name]=e.val,this.autoSetMilestone(this.currentTask),this.applyTaskColoring(this.currentTask),this.saveTask(this.currentTask,t,e=>{this.refreshTasks()})}checkConcernNeedsSelectedProject(){return!(this.currentProject||this.view.concern!=a.TaskView.MileStone&&this.view.concern!=a.TaskView.Category&&this.view.concern!=a.TaskView.Assignee)&&(s.notify("Please select the project for this view",a.LogType.Warning),this.taskGroups=[],this.groupItems=[],this.$forceUpdate(),!0)}get currentProjectValue(){return this.currentProject?this.currentProject._id:null}set currentProjectValue(e){s.glob.notify=null,this.currentProject=e?this.projects.find(t=>s.equalID(t._id,e)):null,this.view.project=this.currentProject?this.currentProject._id:null,this.saveView(this.view),this.checkConcernNeedsSelectedProject()||(!this.currentProject||this.view.concern!=a.TaskView.MileStone&&this.view.concern!=a.TaskView.Category&&this.view.concern!=a.TaskView.Assignee||this.activateView(this.view),this.refreshTasks())}calendarWheel(e){this.view.calendarOffset=0|this.view.calendarOffset,this.view.calendarOffset+=e.deltaY>0?7:-7,this.saveView(this.view),this.refreshTasks(),e.preventDefault()}toggleFavorite(){this.currentTask.favorite=!this.currentTask.favorite,this.saveTask(this.currentTask,{favorite:this.currentTask.favorite},e=>{this.refreshTasks()})}archive(e){e.archive=!0,this.saveTask(e,{archive:!0},t=>{let r=this.tasks.filter(t=>s.equalID(t.parent,e._id));r.forEach(e=>e.archive=!0),this.refreshTasks(),r.forEach(e=>this.saveTask(e,{archive:!0},()=>{}))})}undoArchive(e){e.archive=!1,this.saveTask(e,{archive:!1},e=>{this.refreshTasks()})}deleteTask(e){let t=this.tasks.filter(t=>t._.parent==e);t.unshift(e),t.forEach(e=>e.archive=!0),this.currentTask=null,this.doDeleteTask(t,()=>{this.refreshTasks()})}doDeleteTask(e,t){let r=e.pop();if(!r)return t();s.ajax("/tasks/"+r._id,null,{method:a.WebMethod.del},n=>{this.tasks.splice(this.tasks.indexOf(r),1),this.doDeleteTask(e,t)})}getFilterItems(e){let t;switch(e){case a.TaskView.Status:t=[];for(let e in a.TaskStatus)isNaN(Number(e))||t.push({title:a.TaskStatus[e],checked:null==this.view.filter.statuses||this.view.filter.statuses.indexOf(Number(e))>-1,value:Number(e)});break;case a.TaskView.Priority:t=[];for(let e in a.TaskPriority)isNaN(Number(e))||t.push({title:a.TaskPriority[e],checked:null==this.view.filter.priorities||this.view.filter.priorities.indexOf(Number(e))>-1,value:Number(e)});break;case a.TaskView.Assignee:if(t=[{title:"All",checked:null==this.view.filter.assignees,value:null}],this.view.filter.assignees)for(let e of this.users)t.push({title:e.title,checked:this.view.filter.assignees.indexOf(e.ref)>-1,value:e.ref});break;case a.TaskView.MileStone:if(t=[{title:"All",checked:null==this.view.filter.milestones,value:null}],this.view.filter.milestones)for(let e of this.currentProject.milestones)t.push({title:e.title,checked:this.view.filter.milestones.indexOf(e._id)>-1,value:e._id});break;case a.TaskView.Category:if(t=[{title:"All",checked:null==this.view.filter.categories,value:null}],this.view.filter.categories)for(let e of this.currentProject.categories)t.push({title:e,checked:this.view.filter.categories.indexOf(e)>-1,value:e});break}return t}filterItemCheckChanged(e,t,r){switch(r){case a.TaskView.Status:null==this.view.filter.statuses&&(this.view.filter.statuses=[a.TaskStatus.Todo,a.TaskStatus.Doing,a.TaskStatus.Done,a.TaskStatus.OnHold,a.TaskStatus.Verify]);let r=this.view.filter.statuses.indexOf(t.value);e.val?-1==r&&this.view.filter.statuses.push(t.value):-1!=r&&this.view.filter.statuses.splice(r,1);break;case a.TaskView.Priority:null==this.view.filter.priorities&&(this.view.filter.priorities=[a.TaskPriority.Urgent,a.TaskPriority.High,a.TaskPriority.Normal,a.TaskPriority.Low]);let n=this.view.filter.priorities.indexOf(t.value);e.val?-1==n&&this.view.filter.priorities.push(t.value):-1!=n&&this.view.filter.priorities.splice(n,1);break;case a.TaskView.Assignee:if(null==t.value)this.view.filter.assignees=e.val?null:[];else{let r=this.view.filter.assignees.indexOf(t.value);e.val?-1==r&&this.view.filter.assignees.push(t.value):-1!=r&&this.view.filter.assignees.splice(r,1)}break;case a.TaskView.MileStone:if(null==t.value)this.view.filter.milestones=e.val?null:[];else{let r=this.view.filter.milestones.indexOf(t.value);e.val?-1==r&&this.view.filter.milestones.push(t.value):-1!=r&&this.view.filter.milestones.splice(r,1)}break;case a.TaskView.Category:if(null==t.value)this.view.filter.categories=e.val?null:[];else{let r=this.view.filter.categories.indexOf(t.value);e.val?-1==r&&this.view.filter.categories.push(t.value):-1!=r&&this.view.filter.categories.splice(r,1)}break}this.$forceUpdate()}mounted(){$('[data-toggle="tooltip"]').tooltip().on("click",(function(){$(this).tooltip("hide")}))}sortTasks(e){let t=0|Math.max(...e.map(e=>e._z));e.filter(e=>!e._z).forEach(e=>{e._z=++t,e._.dirty=!0}),e.sort((e,t)=>{if(e._.parent==t)return 1;if(t._.parent==e)return-1;let r=e._.parent?e._.parent._z:e._z,n=t._.parent?t._.parent._z:t._z;return r!=n?r-n:e._z-t._z});for(let r=1;r<e.length;r++)e[r]._z<=e[r-1]._z&&(e[r]._z=e[r-1]._z+1,e[r]._.dirty=!0);return e}refreshTasksForCalendar(e){this.calendarRows=[];let t=moment().startOf("month"),r=t.add(t.weekday()?1-t.weekday():0,"days").add(this.view.calendarOffset||0,"days");for(let o=0;o<6;o++){let t={days:[]};this.calendarRows.push(t);for(let n=0;n<7;n++){let i="border align-top ";r>=moment().startOf("month")&&r<moment().startOf("month").add(1,"month")&&(i+="this-month"),r.format("D MMM")==moment().startOf("day").format("D MMM")&&(i+=" today"),r.month()%2==1&&(i+=" odd-month");let s=1==r.date()?r.year()==moment().year()?r.format("D MMMM"):r.format("D MMMM YYYY"):r.format("D");0==n&&0==o&&(s=r.format("D MMMM"));let l=e.filter(e=>e.dueDates&&e.dueDates.some(e=>this.datePeriodContains(e.time,moment(r))));l=this.organizeGroupTasks(l);let c=null;if(this.currentProject&&this.currentProject.milestones){let e=this.currentProject.milestones.find(e=>this.datePeriodContains(e.dueDate,moment(r)));e&&(c=e.title)}let u={_z:7*o+n+1,concern:a.TaskView.DueDate,subtitle:s,milestone:c,tasks:l,value:moment(r),style:i,title:0==o?r.format("ddd"):""};r.add(1,"days"),t.days.push(u)}}let n=e.filter(e=>(!e.dueDates||!e.dueDates.length)&&!e.archive);n=this.organizeGroupTasks(n),this.unscheduledTasksGroup={_z:0,tasks:n,title:"[ Unscheduled ]"},this.refreshTaskColoring()}getGridTasks(){let e=this.getAllTasks();return e=e.filter(e=>!e.parent||e.collapse),e=this.sortTasks(e),e}getAllTasks(){let e=this.showArchivedTasks?this.tasks:this.tasks.filter(e=>!e.archive);this.currentProject&&(e=e.filter(e=>e.project&&s.equalID(e.project,this.currentProject._id))),this.view.filter&&(this.view.filter.statuses&&(e=e.filter(e=>this.view.filter.statuses.indexOf(e.status)>-1)),this.view.filter.priorities&&(e=e.filter(e=>this.view.filter.priorities.indexOf(e.priority)>-1)),this.view.filter.assignees&&(e=e.filter(e=>this.view.filter.assignees.some(t=>s.equalID(t,e.assignee)))),this.view.filter.milestones&&(e=e.filter(e=>this.view.filter.milestones.some(t=>s.equalID(t,e.milestone)))),this.view.filter.categories&&(e=e.filter(e=>this.view.filter.categories.some(t=>e.categories&&e.categories.indexOf(t)>-1))));for(let t of e)t&&t._&&t._.parent&&-1==e.indexOf(t._.parent)&&e.push(t._.parent);return e}refreshTasks(){let e=this.getAllTasks();if(e.forEach(e=>e._.multiPlace=!1),this.view.concern!=a.TaskView.DueDate){this.taskGroups=[];for(let t of this.groupItems){switch(this.view.concern){case a.TaskView.Status:if(this.view.filter.statuses&&-1==this.view.filter.statuses.indexOf(t.value))continue}let r=e.filter(e=>{switch(this.view.concern){case a.TaskView.Start:switch(t.value){case a.TaskInboxGroup.Favorite:return!!e.favorite}if(!e.assignee||!s.equalID(e.assignee,this.currentUser))return!1;let r=moment().startOf("day");switch(t.value){case a.TaskInboxGroup.Brainstorm:return!e.dueDates;case a.TaskInboxGroup.Urgent:return e.priority==a.TaskPriority.Urgent;case a.TaskInboxGroup.Todo:return e.status==a.TaskStatus.Todo&&e.dueDates&&e.dueDates.some(e=>this.datePeriodContains(e.time,r));case a.TaskInboxGroup.Doing:return e.status==a.TaskStatus.Doing&&e.dueDates&&e.dueDates.some(e=>this.datePeriodContains(e.time,r));case a.TaskInboxGroup.Overdue:return!(e.status==a.TaskStatus.Done||e.status==a.TaskStatus.OnHold||!e.dueDates)&&(e.dueDates.some(e=>moment(e.time).diff(r)<0)&&!e.dueDates.some(e=>moment(e.time).diff(r,"days")>=0))}break;case a.TaskView.Assignee:return s.equalID(e.assignee,t.value);case a.TaskView.Category:return e.categories&&e.categories.indexOf(t.value)>-1;case a.TaskView.MileStone:return s.equalID(e.milestone,t.value);case a.TaskView.Priority:return e.priority==t.value;case a.TaskView.Status:return e.status==t.value}});if(this.view.concern==a.TaskView.Start&&0==r.length&&[a.TaskInboxGroup.Favorite,a.TaskInboxGroup.Urgent,a.TaskInboxGroup.Overdue].indexOf(t.value)>-1)continue;r=this.organizeGroupTasks(r);let n={_z:this.taskGroups.length,title:t.title,tasks:r,value:t.value,icon:t.icon,concern:this.view.concern};this.view.concern==a.TaskView.MileStone&&t.value&&(n.subtitle=s.markDown(this.currentProject.milestones.find(e=>s.equalID(e._id,t.value)).objectives)),this.taskGroups.push(n)}this.refreshTaskColoring()}else this.refreshTasksForCalendar(e)}findTask(e){return this.tasks.find(t=>s.equalID(t._id,e))}organizeGroupTasks(e){let t=e.filter(t=>t.parent&&!e.find(e=>s.equalID(e._id,t.parent))).map(e=>e.parent);for(let r of t){if(e.some(e=>s.equalID(r,e._id)))continue;let t=this.findTask(r);t&&(t._.multiPlace=!0,e.push(t))}return e=this.sortTasks(e),e}focusTask(e){this.currentTask=e.task,this.currentGroup=e.group;let t=null;this.view.concern==a.TaskView.DueDate?t=this.currentGroup.value:this.view.concern!=a.TaskView.Start||this.currentGroup.value!=a.TaskInboxGroup.Todo&&this.currentGroup.value!=a.TaskInboxGroup.Doing||(t=this.today()),t&&e.task.dueDates?this.currentTaskDueDate=e.task.dueDates.find(e=>this.datePeriodContains(e.time,t)):this.currentTaskDueDate=null,this.$forceUpdate()}dragStart(e){e.ev.dataTransfer.setData("text",""+e.task._id),e.ev.dataTransfer.effectAllowed="all",this.currentGroup=e.group,this.dragStartGroup=e.group,setTimeout(()=>{e.task._.dragging=!0},1)}datePeriodContains(e,t){return t.diff(e)<=0&&moment(t).add(1,"days").diff(e)>0}ondragover(e){switch(this.view.concern){case a.TaskView.Status:e.ev.dataTransfer.dropEffect="move";break;case a.TaskView.DueDate:e.group.value?e.ev.dataTransfer.dropEffect=e.ev.ctrlKey?"copy":"move":e.ev.dataTransfer.dropEffect="none";break;case a.TaskView.Start:e.ev.dataTransfer.dropEffect="move";break;default:e.ev.dataTransfer.dropEffect=e.ev.ctrlKey?"copy":"move";break}}saveTask(e,t,r){s.ajax("/tasks/"+e._id,t,{method:a.WebMethod.patch},e=>{r&&r(e)})}taskKeypress(e){switch(this.currentTask=e.task,e.ev.which){case a.Keys.del:switch(this.view.concern){case a.TaskView.DueDate:if(e.task.dueDates&&e.task.dueDates.length>1){let t=e.task.dueDates.findIndex(t=>this.datePeriodContains(t.time,e.group.value));return this.currentTask.dueDates.splice(t,1),this.saveTask(this.currentTask,{dueDates:this.currentTask.dueDates}),void this.refreshTasks()}break}s.question("The task will be permanently deleted.","You won't be able to undo this action.",[{title:"Cancel",ref:"no",_cs:"btn btn-light ml-2"},{title:"Delete task",ref:"yes",_cs:"btn btn-danger ml-2"}],null,t=>{"yes"==t&&this.deleteTask(e.task)});break;case a.Keys.ins:this.toggleSubtask(e.task);break}}toggleSubtask(e){if(e.parent)e.parent=null,e._.parent=null,this.saveTask(e,{parent:null});else{if(this.tasks.some(t=>t.parent&&s.equalID(t.parent,e._id)))return void s.notify("This task can not be subtask of another one!",a.LogType.Debug);{let t=this.currentGroup.tasks.indexOf(e);for(let r=t-1;r>=0;r--)if(!this.currentGroup.tasks[r].parent){e._.parent=this.currentGroup.tasks[r],e.parent=e._.parent._id;let t={parent:this.currentGroup.tasks[r]._id};e.project||(e.project=e._.parent.project,t.project=e.project),this.saveTask(e,t);break}e.parent||s.notify("Error on changing the task to subtask. please refresh the page and try again!",a.LogType.Error)}}this.refreshTasks()}removeView(e){s.call("deleteUserCustomization",{property:"projectViews",itemID:e._id},()=>{e==this.view&&this.activateView(this.views[0]),this.views.splice(this.views.indexOf(e),1)})}activateView(e){if(localStorage.setItem("task-manager.active-view",this.views.indexOf(e).toString()),this.view=e,this.currentProject=e.project?this.projects.find(t=>s.equalID(e.project,t._id)):null,!e.primary||!this.checkConcernNeedsSelectedProject()){switch(e.concern){case a.TaskView.Status:this.groupItems=[{title:"To Do",value:a.TaskStatus.Todo},{title:"Doing",value:a.TaskStatus.Doing},{title:"Verify",value:a.TaskStatus.Verify},{title:"Done",value:a.TaskStatus.Done},{title:"On Hold",value:a.TaskStatus.OnHold}];break;case a.TaskView.Start:this.groupItems=[{title:"Brainstorm",value:a.TaskInboxGroup.Brainstorm,icon:"fad fa-fog fa-lg"},{title:"To Do",value:a.TaskInboxGroup.Todo},{title:"Doing",value:a.TaskInboxGroup.Doing},{title:"Urgent",value:a.TaskInboxGroup.Urgent},{title:"Overdue",value:a.TaskInboxGroup.Overdue},{title:"Favorite",value:a.TaskInboxGroup.Favorite,icon:"fal fa-heart mr-1"}];break;case a.TaskView.Assignee:this.groupItems=this.users.map(e=>({title:e.title,value:e.ref})),this.groupItems.unshift({title:"[ Unassigned ]",value:null});break;case a.TaskView.MileStone:this.groupItems=(this.currentProject.milestones||[]).map(e=>({title:e.title,value:e._id})),this.groupItems.unshift({title:"[ Unplanned ]",value:null});break;case a.TaskView.Category:this.groupItems=(this.currentProject.categories||[]).map(e=>({title:e,value:e})),this.groupItems.unshift({title:"[ Uncategorized ]",value:null});break}this.refreshTasks()}}selectPrimaryView(e){s.glob.notify=null;let t=this.views.find(t=>t.primary&&t.concern==e);this.activateView(t)}addDueDate(e,t){e.dueDates=e.dueDates||[],e.dueDates.push({_id:s.newID(),time:t,setTime:!1})}assignCurrentTaskToMe(){this.assignToMe(this.currentTask),this.saveTask(this.currentTask,{assignee:this.currentTask.assignee},()=>{this.refreshTaskColoring()})}assignToMe(e){e.assignee=this.currentUser}today(){let e=moment().startOf("day");return e}newTask(e){if(e.ev.target.value){let t={_id:s.newID(),title:e.ev.target.value,status:a.TaskStatus.Todo,collapse:!1,project:this.currentProject?this.currentProject._id:null,priority:a.TaskPriority.Normal,_:{dragging:!1,color:null,bgColor:null},_z:1+(0|Math.max(...e.group.tasks.map(e=>e._z))),_new:!0};e.ev.target.value="";let r=null;switch(e.group.tasks.length&&(r=e.group.tasks[e.group.tasks.length-1]),r&&r.parent&&!r.collapse&&(t.parent=r.parent,t.project=r.project,t.status=r.status,t.priority=r.priority,t.assignee=r.assignee,t.dueDates=r.dueDates),t.assignee||(t.assignee=this.currentUser),this.view.concern){case a.TaskView.Assignee:t.assignee=e.group.value;break;case a.TaskView.DueDate:e.group.value&&this.addDueDate(t,e.group.value.toDate()),moment().diff(e.group.value)>0&&(t.status=a.TaskStatus.Done);break;case a.TaskView.Category:t.categories=[e.group.value];break;case a.TaskView.MileStone:t.milestone=e.group.value;break;case a.TaskView.Priority:t.priority=e.group.value;break;case a.TaskView.Start:let r=moment().startOf("day");switch(this.assignToMe(t),e.group.value){case a.TaskInboxGroup.Brainstorm:break;case a.TaskInboxGroup.Todo:t.status=a.TaskStatus.Todo,this.addDueDate(t,r.toDate());break;case a.TaskInboxGroup.Doing:t.status=a.TaskStatus.Doing,this.addDueDate(t,r.toDate());break;case a.TaskInboxGroup.Urgent:t.priority=a.TaskPriority.Urgent;break;case a.TaskInboxGroup.Overdue:this.addDueDate(t,moment(r).add(-1,"days").toDate());break;case a.TaskInboxGroup.Favorite:t.favorite=!0;break}break;case a.TaskView.Status:t.status=e.group.value;break}this.autoSetMilestone(t),s.ajax("/tasks",t,{method:a.WebMethod.post},e=>{console.log("Saved!"),Object.assign(t,e.modifyResult),delete t["_new"],r&&r.parent&&(t._.parent=r._.parent),this.assignNullToEmptyTaskProperty(t),this.tasks.push(t),this.currentTask=t,this.applyTaskColoring(t),this.refreshTasks()})}}};f=n.__decorate([o.Component({name:"TaskManager",components:{PropReference:d.default,GridView:u.default,ObjectView:c.default,SwitchBox:l.default,TaskGroup:i.default}})],f),t.default=f},d8dd:function(e,t,r){"use strict";r.r(t);var n=r("f96a"),o=r("6a94");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("f379");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},d925:function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},d952:function(e,t,r){},db82:function(e,t,r){"use strict";r.r(t);var n=r("61ff"),o=r("4bfd");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},db9d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{mounted(){this.$el.innerHTML=JSON.stringify(this.value)}updateHTML(e){try{let t=JSON.parse(e.target.innerHTML);Object.assign(this.value,t)}catch(t){}return{val:e.target.innerHTML}}};n.__decorate([o.Prop()],a.prototype,"value",void 0),n.__decorate([o.Emit("input")],a.prototype,"updateHTML",null),a=n.__decorate([o.Component({name:"DocumentEditor"})],a),t.default=a},dbd3:function(e,t,r){},dc11:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=n.__importDefault(r("bc3a")),i=r("8445");let s=class extends o.Vue{getOprId(e,t){return"oper-"+e.name+"-"+t.method+"-"+t.uri.replace(/\//g,"-").replace("{","").replace("}","")}getClick(e,t){for(let r of t.params)e=e.replace(r.name,r.value).replace(/{/,"").replace(/}/,"");switch(t.method){case i.WebMethod.get:a.default.get(e).then(e=>{console.log(e.data),this.responseApi=JSON.stringify(e.data)});break;case i.WebMethod.del:a.default.delete(e).then(e=>{console.log("delete"+e.data),this.responseApi=JSON.stringify(e.data)});break}}};n.__decorate([o.Prop()],s.prototype,"data",void 0),s=n.__decorate([o.Component({name:"ApiDoc"})],s),t.default=s},dc35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};n.__decorate([o.Prop()],a.prototype,"node",void 0),a=n.__decorate([o.Component({name:"TreeViewNode"})],a),t.default=a},dd6b:function(e,t,r){"use strict";var n=r("6a8d"),o=r.n(n);o.a},dee8:function(e,t,r){"use strict";var n=r("6ca4"),o=r.n(n);o.a},df7c:function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){r=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":e.slice(r,n)}function o(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var i=a>=0?arguments[a]:e.cwd();if("string"!==typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,n="/"===i.charAt(0))}return t=r(o(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),i="/"===a(e,-1);return e=r(o(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&i&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var r=e.length-1;r>=0;r--)if(""!==e[r])break;return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),a=n(r.split("/")),i=Math.min(o.length,a.length),s=i,l=0;l<i;l++)if(o[l]!==a[l]){s=l;break}var c=[];for(l=s;l<o.length;l++)c.push("..");return c=c.concat(a.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,o=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!o){n=a;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=n(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,o=!0,a=0,i=e.length-1;i>=0;--i){var s=e.charCodeAt(i);if(47!==s)-1===n&&(o=!1,n=i+1),46===s?-1===t?t=i:1!==a&&(a=1):-1!==t&&(a=-1);else if(!o){r=i+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("4362"))},e062:function(e,t,r){"use strict";r.r(t);var n=r("6f87"),o=r("d529");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("23bd");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},e113:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tree-view p-2 h-100 ml-2",on:{click:e.click}},[e._l(e.nodes,(function(e){return r("TreeViewNode",{attrs:{node:e}})})),r("span",{staticClass:"token current-token"}),r("textarea",{ref:"textInput",staticClass:"text-input",attrs:{wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},on:{keydown:e.keydown}}),r("span",{ref:"blinkingCursor",staticClass:"blinking-cursor"},[e._v("|")])],2)},o=[]},e210:function(e,t,r){"use strict";r.r(t);var n=r("8fc6"),o=r("5037");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"26b0c46b",null);t["default"]=s.exports},e25f:function(e,t,r){"use strict";r.r(t);var n=r("1bc9"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},e35a:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("textarea",{staticClass:"text-nowrap form-control",attrs:{readonly:e.readOnly},domProps:{value:e.value},on:{focus:e.focus,input:e.update}})},o=[]},e38a:function(e,t,r){},e392:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.modal?r("div",[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header text-white bg-dark text-uppercase font-weight-bold"},[r("h5",{staticClass:"modal-title"},[e._v(e._s(e.title))]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"},on:{click:e.close}},[e._v("×")])])]),r("div",{staticClass:"modal-body"},[r("form",e._l(e.bodyElems,(function(e){return r("FormElem",{attrs:{elem:e}})})),1)]),r("div",{staticClass:"modal-body notify-message-container",on:{click:e.clickNotify}}),r("div",{staticClass:"modal-footer"},e._l(e.footerElems,(function(e){return r("FormElem",{attrs:{elem:e}})})),1)])])])])])],1):e._e()},o=[]},e3ca:function(e,t,r){"use strict";r.r(t);var n=r("4b67"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},e3ef:function(e,t,r){"use strict";r.r(t);var n=r("cff9"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},e42e:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("panel",{staticClass:"file-drive"},[r("div",e._l(e.files,(function(e){return r("FileDriveItem",{attrs:{file:e}})})),1)])},o=[]},e467:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=n.__importStar(r("cd49")),s=r("a76d");let l=class extends o.Vue{render(e){if(!this.$store)return console.error("FormElem this.$store is empty, Maybe you need to call Vue.use(Vuex) before registering the components."),null;switch(this.elem.type){case a.ElemType.Object:return e("object-view",{props:{uri:this.elem.obj._.ref}});case a.ElemType.Function:{console.assert(this.elem.func.ref,"ref is expected for the function:",this.elem.func);let t=this.elem.func.ref,r=this.$store.state.data[t],n=i.getDec(r);if(!n)throw`meta  not found for func ref '${t}'`;let o=this.elem.func.exec;return!o&&n.clientSide&&console.error("todo"),e("function",{props:{title:n.title,name:n.name,data:r,styles:this.elem.styles,exec:o}})}case a.ElemType.Property:{let t=this.elem.property.entityRef;if(!this.$store.state.data)throw"data is null!";let r=this.$store.state.data[t],n=this,o=i.getDec(r);if(!o)throw`property elem: meta not found for ref '${this.elem.property.entityRef}'`;let l=o.properties.find(e=>e.name==this.elem.property.name);if(!l)throw`error rendering property elem. property '${this.elem.property.name}' dec not found!`;let c=e("Property",{props:{item:r,prop:l,viewType:this.elem.property.detailsView?a.ObjectViewType.DetailsView:a.ObjectViewType.GridView},on:{changed(e){i.commitStoreChange(n.$store,{type:s.ChangeType.EditProp,prop:e.prop,value:e.val,item:r,uri:t,vue:e.vue})}}});return c}case a.ElemType.Text:return console.assert(!!this.elem.text,"incomplete text elem: ",this.elem),this.elem.text.markdown?e("markdown",{props:{content:this.elem.text.content,styles:this.elem.styles}}):e("span",{attrs:{class:this.elem.styles}},this.elem.text.content);case a.ElemType.Document:return e("document-editor",{props:{value:this.elem.document.value},attrs:{class:this.elem.styles}});case a.ElemType.Image:return e("img",{attrs:{class:this.elem.styles,src:this.elem.image.ref}});case a.ElemType.Panel:return e("panel",{props:{elem:this.elem}});case a.ElemType.Component:let t,r=this.elem.component.props;return this.elem.component._&&(t=this.elem.component._.data),e(this.elem.component.name,{props:{data:t,...r}});case a.ElemType.Chart:return e("AppChart",{props:{data:this.$store.state.data["tests"]}})}}};n.__decorate([o.Prop()],l.prototype,"elem",void 0),l=n.__decorate([o.Component({name:"FormElem",components:{}})],l),t.default=l},e472:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{changed(){return{val:!this.checked}}focus(e){return e}keydown(e){return e}};n.__decorate([o.Prop()],a.prototype,"checked",void 0),n.__decorate([o.Prop()],a.prototype,"label",void 0),n.__decorate([o.Emit("changed")],a.prototype,"changed",null),n.__decorate([o.Emit("focus")],a.prototype,"focus",null),n.__decorate([o.Emit("keydown")],a.prototype,"keydown",null),a=n.__decorate([o.Component({name:"CheckBox"})],a),t.default=a},e528:function(e,t,r){"use strict";r.r(t);var n=r("9907"),o=r("c593");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("97fd");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},e5e8:function(e,t,r){"use strict";r.r(t);var n=r("e472"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},e5fb:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.geoMap.show?r("div",{staticClass:"position-fixed fixed-top w-100 h-100 geo-map bg-light"},[r("div",{ref:"map",staticClass:"w-100 h-100"}),r("div",{staticClass:"position-fixed m-2 p-2 btn-group bg-light",staticStyle:{bottom:"0"}},[r("button",{staticClass:"btn btn-success px-5",attrs:{type:"button"},on:{click:function(t){return e.select()}}},[e._v(e._s(e.$t("select")))]),r("button",{staticClass:"btn btn-secondary px-5",attrs:{type:"button"},on:{click:function(t){return e.hideGeoMap()}}},[e._v(e._s(e.$t("close")))]),r("button",{staticClass:"btn btn-warning px-5",attrs:{type:"button"},on:{click:function(t){return e.clear()}}},[e._v(e._s(e.$t("clear")))])])]):e._e()},o=[]},e683:function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e6db:function(e,t,r){"use strict";r.r(t);var n=r("26f5"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},e6e0:function(e,t,r){"use strict";r.r(t);var n=r("b966"),o=r("6542");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"4e9ecac0",null);t["default"]=s.exports},e7fa:function(e,t,r){"use strict";r.r(t);var n=r("07e8"),o=r("a402");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},e940:function(e,t,r){"use strict";r.r(t);var n=r("0c7b"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},e9d7:function(e,t,r){},ea03:function(e,t,r){},eb81:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{changed(e){return{prop:this.prop,val:e,vue:this}}changing(){if(this.readOnly)return;this.doc;let e=this.changed;a.glob.geoMap={show:!0,val:this.value,select:e}}get value(){return this.doc[this.prop.name]}};n.__decorate([o.Prop()],i.prototype,"prop",void 0),n.__decorate([o.Prop()],i.prototype,"doc",void 0),n.__decorate([o.Prop()],i.prototype,"readOnly",void 0),n.__decorate([o.Emit("changed")],i.prototype,"changed",null),i=n.__decorate([o.Component({name:"PropLocation"})],i),t.default=i},ec7d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("cd49");let i=class extends o.Vue{constructor(){super(...arguments),this.hasError=!1}keydown(e){return{e:e}}blur(e){try{let t=e.target.value?JSON.parse(e.target.value):null;this.hasError=!1,this.update(t)}catch(t){this.doc._.msg=`Property '${this.prop.title}' invalid data.`,this.hasError=!0,a.glob.dirty=!0}}update(e){return{prop:this.prop,val:e,vue:this}}get value(){if(this.hasError)return this.$el.value;{let e=this.doc[this.prop.name];return e?JSON.stringify(e):""}}};n.__decorate([o.Prop()],i.prototype,"doc",void 0),n.__decorate([o.Prop()],i.prototype,"prop",void 0),n.__decorate([o.Prop()],i.prototype,"styles",void 0),n.__decorate([o.Emit("keydown")],i.prototype,"keydown",null),n.__decorate([o.Emit("changed")],i.prototype,"update",null),i=n.__decorate([o.Component({name:"PropDocumentEditor"})],i),t.default=i},ef12:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{};n.__decorate([o.Prop()],a.prototype,"file",void 0),a=n.__decorate([o.Component({name:"FileDriveItem"})],a),t.default=a},f275:function(e,t,r){},f2a2:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"helpers-objects"},[r("FileGallery"),r("BrowseFile"),r("NotifyBox"),r("WebSocket"),r("QuestionBox"),r("ContextMenu"),r("ProgressBar"),r("GeoMap"),r("ImagePreview")],1)},o=[]},f379:function(e,t,r){"use strict";var n=r("8727"),o=r.n(n);o.a},f3f5:function(e,t,r){"use strict";r.r(t);var n=r("d1f3"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},f50b:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("switch-box",{attrs:{checked:e.checked},on:{changed:e.change}})},o=[]},f5cc:function(e,t,r){"use strict";r.r(t);var n=r("1b43"),o=r("6b08");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("a271");var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},f5e9:function(e,t,r){"use strict";var n=r("2d3a"),o=r.n(n);o.a},f6b4:function(e,t,r){"use strict";var n=r("c532");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},f72a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3");let a=class extends o.Vue{focused(e){$("td.active").removeClass("active"),$(e.event.target).closest("td").addClass("active")}clickCell(e){$("td.active").removeClass("active"),$(e.target).closest("td").addClass("active")}changed(e){return e}updateStatus(){this.meta.marked=event.target.checked}headerClick(e){return{item:this.item,event:e}}click(e){return{item:this.item,event:e}}keydown(e){return{event:e.event,item:this.item,prop:e.prop}}get meta(){return this.item._?this.item._:(console.error("GridViewRow _ property is expected as meta!"),{})}};n.__decorate([o.Prop()],a.prototype,"item",void 0),n.__decorate([o.Prop()],a.prototype,"dec",void 0),n.__decorate([o.Prop()],a.prototype,"selectable",void 0),n.__decorate([o.Prop()],a.prototype,"readonly",void 0),n.__decorate([o.Emit("changed")],a.prototype,"changed",null),n.__decorate([o.Emit("headerClick")],a.prototype,"headerClick",null),n.__decorate([o.Emit("selected")],a.prototype,"click",null),n.__decorate([o.Emit("keydown")],a.prototype,"keydown",null),a=n.__decorate([o.Component({name:"GridViewRow",components:{}})],a),t.default=a},f96a:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-docs h-100 d-flex flex-column w-100"},[r("div",{class:{"d-flex p-2 align-items-center btn-toolbar separator-line toolbar":1,"pl-4":e.ltr,"pr-4":e.rtl},attrs:{role:"toolbar","aria-label":"Toolbar with button groups"}},[r("Breadcrumb",{attrs:{breadcrumb:e.breadcrumb,title:e.doc.title}}),r("div",{staticClass:"mr-auto"}),r("button",{staticClass:"btn btn-link text-secondary px-2",on:{click:e.clickpreferences}},[r("i",{staticClass:"fal fa-cog fa-lg"})]),e.glob.infoPanel.show?e._e():r("button",{staticClass:"btn close-panel btn-link px-2",attrs:{title:"Show info panel"},on:{click:function(t){e.glob.infoPanel.show=!0}}},[r("i",{staticClass:"fal fa-info-circle fa-lg"})])],1),r("div",{staticClass:"w-100 d-flex overflow-auto h-100"},[e.directory?r("aside",{staticClass:"border-right separator-line p-4 bg-white d-none d-xl-block"},[r("div",{staticClass:"font-weight-bold py-3"},[e._v(e._s(e.directoryTitle))]),r("tree",{attrs:{items:e.directory},on:{select:e.goto}})],1):e._e(),r("div",{staticClass:"border-left ml-md-5 w-100 separator-line bg-white overflow-auto d-flex"},[e.doc?e._e():r("h4",{staticClass:"text-danger font-weight-bold"},[e._v(" Document not found! ")]),r("div",{staticClass:"w-100 h-0"},[r("div",{staticClass:"container p-md-5 p-sm-0"},[r("div",{staticClass:"text-justify",domProps:{innerHTML:e._s(e.docContent)}})]),r("hr",{staticClass:"my-5"}),r("div",{staticClass:"ml-5 pb-5 feedback-part",staticStyle:{"margin-bottom":"30rem"}},[r("div",{staticClass:"container"},[r("i",{staticClass:"fal fa-comment-alt-exclamation fa-2x px-1 m-2"}),e.showHelpUseful?r("div",{staticClass:"d-flex align-items-center flex-wrap"},[r("div",{staticClass:"text-nowrap font-weight-bold m-2"},[e._v("Was this article helpful?")]),r("button",{staticClass:"btn btn-outline-secondary px-4 m-2 py-1",on:{click:function(t){return e.wasHelpful(!0)}}},[e._v("Yes")]),r("button",{staticClass:"btn btn-outline-secondary px-4 m-2 py-1",on:{click:function(t){return e.wasHelpful(!1)}}},[e._v("No")])]):e._e(),e.showHelpImprovement?r("div",{staticClass:"m-2"},[r("div",{staticClass:"font-weight-bold"},[e._v("How can we improve it?")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.feedbackComment,expression:"feedbackComment"}],staticClass:"border my-2 w-50",attrs:{rows:"5"},domProps:{value:e.feedbackComment},on:{input:function(t){t.target.composing||(e.feedbackComment=t.target.value)}}}),e._v(" "),r("div",[r("button",{staticClass:"btn btn-primary",on:{click:e.submitFeedback}},[e._v("Submit")])])]):e._e(),e.showHelpImprovement||e.showHelpUseful?e._e():r("div",{staticClass:"font-weight-bold m-2"},[e._v("Thanks for your feedback.")]),r("a",{staticClass:"m-2",attrs:{target:"_blank",href:"/documents/"+e.doc._id}},[e._v("Edit this page!")])])])])])])])},o=[]},f978:function(e,t,r){"use strict";var n=r("2549"),o=r.n(n);o.a},fa16:function(e,t,r){},fa51:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"checkbox-wrapper text-center mr-2 outline-0",on:{click:e.changed}},[r("input",{staticClass:"checkbox",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:e.checked},on:{focus:e.focus,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.changed(t)},keydown:e.keydown,input:e.changed}}),r("label",{class:{"checkbox-label":!0,"no-label":!e.label}},[e._v(e._s(e.label))])])},o=[]},fa85:function(e,t,r){"use strict";r.r(t);var n=r("36f7"),o=r("ce90");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);var i=r("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},fb15:function(e,t,r){"use strict";if(r.r(t),"undefined"!==typeof window){var n=window.document.currentScript,o=r("8875");n=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var a=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(r.p=a[1])}var i=r("a76d"),s=r("cd49"),l=r("ab06"),c=r("78cf"),u=r("e062"),d=r("c321"),f=r("9367"),p=r("7a8d"),h=r("6825"),m=r("355f"),g=r("193c"),v=r("a4ce"),b=r("3dfd"),y=r("63f3"),_=r("8c82"),w=r("9ed7"),k=r("b403"),x=r("02b4"),C=r("474f"),T=r("7ea3"),P={FormView:l["default"],...s,...i,CheckBox:d["default"],Property:f["default"],AppLocaleMenu:c["default"],AppUserLoginMenu:u["default"],BrowseFile:p["default"],ContextMenu:h["default"],ToolbarModifyButtons:m["default"],HelperObjects:g["default"],AppHeader:v["default"],App:b["default"],DashboardInfoBox:y["default"],AppChangeRegion:_["default"],ImagePreview:w["default"],DetailsView:k["default"],GridView:x["default"],Function:C["default"],TaskManager:T["default"]};t["default"]=P},fc26:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=n.__importStar(r("cd49")),i=r("cd49");let s=class extends o.Vue{keydown(e){return{e:e}}click(){i.pushToGridViewRecentList(this.path,this.ref,this.value)}get value(){if(this.prop.formula)return a.evalExpression(this.doc,this.prop.formula);let e=this.doc[this.prop.name];if(e&&"object"==typeof e){let t=a.getQs("e")||"en";return e[t]}return e}get path(){return this.prop._.ref.replace(new RegExp(`/${this.prop.name}$`),"")}get ref(){if(!this.doc._id)return"/";let e="/"+this.path+"/"+this.doc._id;return e=i.urlInsertPrefix(e),i.prepareServerUrl(e)}};n.__decorate([o.Prop()],s.prototype,"doc",void 0),n.__decorate([o.Prop()],s.prototype,"prop",void 0),n.__decorate([o.Emit("keydown")],s.prototype,"keydown",null),s=n.__decorate([o.Component({name:"PropLink"})],s),t.default=s},fe13:function(e,t,r){"use strict";r.r(t);var n=r("4b03"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},feb6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("9ab4"),o=r("60a3"),a=r("8445"),i=r("a76d"),s=n.__importStar(r("cd49")),l=r("cd49");let c=class extends o.Vue{render(e){if(!this.prop)return console.error("error rendering 'Property' component. prop is empty! item:",this.item),e("div","...");if(this.prop._=this.prop._||{gtype:a.GlobalType.string},this.prop.condition&&!s.evalExpression(this.item,this.prop.condition))return null;switch(this.viewType){case a.ObjectViewType.GridView:return this.renderValue(e,"px-2 py-1");default:case a.ObjectViewType.DetailsView:return this.renderDetailsView(e);case a.ObjectViewType.TreeView:return this.renderTreeView(e)}}changed(e){this.readonly||this.raiseChanged(e)}raiseChanged(e){return s.setPropertyEmbeddedError(this.item,e.prop.name,null),e.item=this.item,e.type=i.ChangeType.EditProp,e}focused(e){return e}keydown(e){return e}renderDetailsView(e){let t="prop-value border";if(this.prop._.gtype==a.GlobalType.object&&!this.prop.documentView)return e("object-view",{props:{level:this.level,uri:this.prop._.ref}});let r=this.renderValue(e,t),n=l.getPropertyEmbedError(this.item,this.prop.name),o=null;n&&(o=e("prop-message",{props:{message:n}}));let i=this.prop.title||this.prop.name,c=this.prop.text&&this.prop.text.editor,u="prop-label align-top pt-2"+(c?" text-nowrap":"")+(this.prop._.gtype==a.GlobalType.boolean?" prop-label-boolean":""),d=s.someProps(this.prop)?null:e("label",{attrs:{class:u}},i),f=[d,r,o];if(this.prop.comment){let t="prop-comment "+(this.prop.commentStyle||""),r=`<i class="fa"></i><div>${s.markDown(this.prop.comment)}</div>`,n=e("div",{attrs:{class:t},domProps:{innerHTML:r}});this.prop.commentStyle&&/\bbefore\b/.test(this.prop.commentStyle)?f.unshift(n):f.push(n)}return e("div",{attrs:{class:"form-group p_"+this.prop.name}},f)}renderTreeView(e){let t="prop-value mx-2",r=this.renderValue(e,t),n=e("prop-message",{props:{message:this.item._error}}),o=this.prop.comment?e("small",{attrs:{class:"property-comment p-3 text-muted d-block"}},this.prop.comment):null,l=this.prop.title||this.prop.name,c=this.labelMode==i.PropertyLabelMode.Hidden||s.someProps(this.prop)?null:e("label",{attrs:{class:"mr-1 tree-view-attr-label"}},l+":"),u="d-inline-block";return this.prop._.gtype==a.GlobalType.boolean?e("div",{attrs:{class:u+" form-check"}},[e("label",{attrs:{class:"col-sm-8 tree-view-attr-label"}},[r,l]),o]):e("div",{attrs:{class:u}},[c,r,n,o])}renderValue(e,t){let r={doc:this.item,name:this.prop.name,prop:this.prop,viewType:this.viewType,styles:t,readOnly:this.readonly||this.prop.editMode==a.PropertyEditMode.Readonly||this.prop.editMode==a.PropertyEditMode.OnceOnly&&null!=this.item[this.prop.name]&&!this.item._new};if(this.prop._.isRef)return this.viewType==a.ObjectViewType.TreeView?e("span",{attrs:{class:t+" text-success"}},s.getPropReferenceValue(this.prop,this.item)):this.prop.isList?e("prop-reference-multiple",{attrs:{styles:t},on:{changed:this.changed,focus:this.focused},props:r}):e("prop-reference",{attrs:{class:"prop-reference "+t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});switch(this.prop._.gtype){case a.GlobalType.string:if(this.viewType==a.ObjectViewType.TreeView){let r=s.getPropTextValue(this.prop,this.item)||"";return e("span",{attrs:{class:t+" text-success"}},r.substring(0,30)+(r.length>30?"...":""))}return this.viewType!=a.ObjectViewType.GridView&&this.prop.text&&this.prop.text.editor==a.TextEditor.Html?e("prop-html-editor",{on:{changed:this.changed,focus:this.focused},props:r}):this.viewType!=a.ObjectViewType.GridView&&this.prop.text&&this.prop.text.editor?e("prop-text-editor",{on:{changed:this.changed,focus:this.focused},props:r}):this.viewType!=a.ObjectViewType.GridView&&this.prop.text&&this.prop.text.multiLine?e("prop-text-multiline",{attrs:{class:"prop-text-multiline prop-value border"},on:{changed:this.changed,focus:this.focused},props:r}):this.prop.isList?e("prop-text-multiple",{on:{changed:this.changed,focus:this.focused,keydown:this.keydown},props:r}):(this.viewType!=a.ObjectViewType.GridView||0!==this.indexInGrid||l.getPropTextValue(this.prop,this.item)||(this.item._.emptyFirstColumn=!0),this.viewType!=a.ObjectViewType.GridView||0!==this.indexInGrid||this.item._new||this.item._.emptyFirstColumn?!r.readOnly||this.prop.text&&this.prop.text.password||!this.item[this.prop.name]?e("prop-text",{attrs:{type:this.prop.text&&this.prop.text.password?"password":"text",class:t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r}):e("div",{attrs:{class:t}},this.item[this.prop.name]):e("prop-link",{attrs:{class:t},on:{keydown:this.keydown,focus:this.focused},props:r}));case a.GlobalType.number:return this.viewType==a.ObjectViewType.TreeView?e("span",{attrs:{class:t+" text-success"}},this.item[this.prop.name]):e("prop-number",{attrs:{class:t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case a.GlobalType.boolean:return this.viewType==a.ObjectViewType.TreeView?null:this.viewType==a.ObjectViewType.DetailsView?e("prop-boolean-switch",{on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r}):e("prop-boolean",{on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case a.GlobalType.time:return this.viewType==a.ObjectViewType.TreeView?e("span",{attrs:{class:t+" text-success"}},this.item[this.prop.name]):e("prop-time",{attrs:{class:"prop-time "+t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case a.GlobalType.location:return e("prop-location",{on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case a.GlobalType.file:return r.styles+=" prop-file",e("prop-file",{on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case a.GlobalType.object:return e("prop-document-editor",{attrs:{styles:t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r})}return console.error("prop: Invalid property",this.prop),e("span","***")}};n.__decorate([o.Prop()],c.prototype,"item",void 0),n.__decorate([o.Prop()],c.prototype,"prop",void 0),n.__decorate([o.Prop()],c.prototype,"viewType",void 0),n.__decorate([o.Prop()],c.prototype,"labelMode",void 0),n.__decorate([o.Prop()],c.prototype,"indexInGrid",void 0),n.__decorate([o.Prop()],c.prototype,"readonly",void 0),n.__decorate([o.Prop()],c.prototype,"level",void 0),n.__decorate([o.Emit("changed")],c.prototype,"raiseChanged",null),n.__decorate([o.Emit("focus")],c.prototype,"focused",null),n.__decorate([o.Emit("keydown")],c.prototype,"keydown",null),c=n.__decorate([o.Component({name:"Property",components:{}})],c),t.default=c}})}));