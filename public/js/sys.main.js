(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["sys-ui"]=t(require("vue")):e["sys-ui"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(__WEBPACK_EXTERNAL_MODULE__8bbf__){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({"0251":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=o.__importDefault(r("474f")),i=r("60a3"),a=r("cd49"),s=r("8445"),l=o.__importStar(r("cd49"));let c=class extends i.Vue{mounted(){window.addEventListener("keydown",e=>{e.ctrlKey&&e.which==s.Keys.s&&(this.apply({}),e.preventDefault())})}newItem(){l.load(location.pathname+"?n=1",!0)}cancel(e){l.clearModifies(),"true"==l.getQs("n")?location.href=location.pathname:l.load(location.pathname)}clickTitlePin(e){console.log("clickTitlePin")}apply(e){if(a.glob.notify=null,e.stopProgress||(e.stopProgress=()=>l.log("Apply done!")),!l.validate(this.$store.state.data))return e.stopProgress();l.dispatchRequestServerModify(this.$store,e.stopProgress)}};o.__decorate([i.Prop()],c.prototype,"alwaysVisible",void 0),c=o.__decorate([i.Component({components:{Function:n.default}})],c),t.default=c},"027b":function(e,t,r){"use strict";var o=r("20d3"),n=r.n(o);n.a},"027f":function(e,t,r){"use strict";r.r(t);var o=r("7271"),n=r("e3ca");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("08f7");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"0297":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("a76d"),i=r("60a3"),a=r("8445"),s=r("cd49"),l=o.__importStar(r("cd49")),c=o.__importDefault(r("deb6"));let u=class extends i.Vue{constructor(){super(...arguments),this.currentGroup=this.groups[0]}mounted(){if(this.root&&(s.glob.headFuncs=[],this.dec.links))for(const e of this.dec.links)s.glob.headFuncs.push({title:e.title,name:e.address["$oid"],exec:this.execLink})}getGroupId(e){return this.root?"gp-"+e.replace(/\s/g,"-"):void 0}onPropertyChanged(e,t){this.currentGroup=this.groups[0]}selectGroup(e){if(this.currentGroup=e.title,history.pushState(null,null,e.ref),this.dec.detailsViewType==a.ObjectDetailsViewType.Tabular){let t=$(".details-view");t.animate({scrollTop:$(e.ref).offset().top+t.scrollTop()-t.offset().top},0)}}nonGroupVisible(){return this.groups.length<=1}groupVisible(e){return!(this.groups.length<=1)&&(!this.root||(this.dec.detailsViewType==a.ObjectDetailsViewType.Tabular||this.currentGroup==e))}groupHeadVisible(e){return this.root&&this.dec.detailsViewType==a.ObjectDetailsViewType.Tabular}onScroll(){l.hideCmenu()}execLink(e){let t={data:this.item};l.ajax("/"+e.name,t,null,l.handleResponse,e=>{l.notify(e)})}changed(e){l.dispatchStoreModify(this,{type:n.ChangeType.EditProp,prop:e.prop,value:e.val,item:e.item,uri:this.uri,vue:e.vue})}getProps(e){return this.dec.properties.filter(t=>t.properties?e==t.title:t.group==e)}get sideMenuVisible(){return this.sideMenu&&this.root&&(!this.dec.detailsViewType||this.dec.detailsViewType==a.ObjectDetailsViewType.Grouped||this.dec.detailsViewType==a.ObjectDetailsViewType.Tabular)}get sideMenu(){let e=[];for(const t of this.groups)e.push({uri:"#gp-"+t.replace(/\s/g,"-"),title:t});return e.length<=1&&(e=null),e}get item(){return this.$store.state.data[this.uri]}get groups(){let e=this.dec.properties.filter(e=>null==e.condition||l.evalExpression(this.item,e.condition));return e.map(e=>e.group).filter(l.onlyUnique)}};o.__decorate([i.Prop()],u.prototype,"uri",void 0),o.__decorate([i.Prop()],u.prototype,"root",void 0),o.__decorate([i.Prop()],u.prototype,"dec",void 0),o.__decorate([i.Watch("uri")],u.prototype,"onPropertyChanged",null),u=o.__decorate([i.Component({components:{Prop:c.default}})],u),t.default=u},"02b4":function(e,t,r){"use strict";r.r(t);var o=r("f180"),n=r("5010");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("4f1b");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"049b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=o.__importDefault(r("78cf"));let a=class extends n.Vue{get currentRef(){return location.hostname}};o.__decorate([n.Prop()],a.prototype,"containerStyle",void 0),a=o.__decorate([n.Component({components:{AppLocaleMenu:i.default}})],a),t.default=a},"04f2":function(e,t,r){"use strict";r.r(t);var o=r("c023"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"065c":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.modal?r("div",[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title"},[e._v(e._s(e.title))]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"},on:{click:e.close}},[e._v("Ã—")])])]),r("div",{staticClass:"modal-body"},[r("form",e._l(e.bodyElems,(function(e){return r("FormElem",{attrs:{elem:e}})})),1)]),e.glob.notify?r("div",{staticClass:"text-light bg-danger modal-body"},[r("span",[e._v(e._s(e.glob.notify.message))])]):e._e(),r("div",{staticClass:"modal-footer"},e._l(e.footerElems,(function(e){return r("FormElem",{attrs:{elem:e}})})),1)])])])])])],1):e._e()},n=[]},"07c9":function(e,t,r){},"08a6":function(e,t,r){"use strict";r.r(t);var o=r("3086"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"08f7":function(e,t,r){"use strict";var o=r("e38a"),n=r.n(o);n.a},"0a84":function(e,t,r){"use strict";r.r(t);var o=r("1515"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"0c47":function(e,t,r){"use strict";r.r(t);var o=r("b408"),n=r("2bff");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"0edf":function(e,t,r){},"106e":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{staticClass:"form-control",attrs:{type:"text",name:1!=e.viewType?e.prop.name:null},domProps:{value:e.value},on:{focus:function(t){return e.$emit("focus",t)},blur:e.update}})},n=[]},"10f6":function(e,t,r){},1217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("cd49");let a=class extends n.Vue{changeLocale(e){location.href=i.setQs("e",e,!0)}};a=o.__decorate([n.Component],a),t.default=a},1322:function(e,t,r){},"13fa":function(e,t,r){"use strict";r.r(t);var o=r("ef63"),n=r("7196");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("5fe8");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"147c":function(e,t,r){"use strict";r.r(t);var o=r("76c8"),n=r("afec");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"37eb0758",null);t["default"]=s.exports},1515:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=o.__importStar(r("cd49")),a=o.__importDefault(r("2729"));let s=class extends n.Vue{onScroll(){i.hideCmenu()}};s=o.__decorate([n.Component({components:{FormElem:a.default}})],s),t.default=s},1636:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{get html(){return marked(this.content)}};o.__decorate([n.Prop()],i.prototype,"content",void 0),o.__decorate([n.Prop()],i.prototype,"styles",void 0),i=o.__decorate([n.Component],i),t.default=i},"1bc9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=o.__importDefault(r("2729")),i=r("60a3"),a=r("cd49"),s=o.__importStar(r("cd49"));let l=class extends i.Vue{close(){a.glob.modal=!1,s.load(location.href)}};o.__decorate([i.Prop()],l.prototype,"title",void 0),o.__decorate([i.Prop()],l.prototype,"footerElems",void 0),o.__decorate([i.Prop()],l.prototype,"bodyElems",void 0),l=o.__decorate([i.Component({name:"modal",components:{FormElem:n.default}})],l),t.default=l},"1df6":function(e,t,r){"use strict";r.r(t);var o=r("a461"),n=r("7c7f");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("5986");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"1ec2":function(e,t,r){},"1fc6":function(e,t,r){"use strict";r.r(t);var o=r("bad7"),n=r("5a6f");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("7f98");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"1fd4":function(e,t,r){"use strict";var o=r("2c84"),n=r.n(o);n.a},"20d3":function(e,t,r){},2549:function(e,t,r){},"269c":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"p-2 log-terminal w-100 bg-dark",on:{contextmenu:e.openMenu}},[e._l(e.glob.logs,(function(t){return[t?r("div",{directives:[{name:"focus",rawName:"v-focus",value:!0,expression:"true"}],class:"log-terminal-item type-"+t.type,attrs:{tabindex:"1"}},[e._v(e._s(t.message)+" ")]):r("div",{staticClass:"mb-5"})]}))],2)},n=[]},"26f5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("8445"),a=r("cd49"),s=r("a76d"),l=o.__importStar(r("cd49"));let c=class extends n.Vue{keydown(e){if(!a.glob.cmenu.show||e.which!==i.Keys.up&&e.which!==i.Keys.down||e.preventDefault(),!a.glob.cmenu.show)return{prop:this.prop,event:e}}update(e){let t=e.target.value,r=!t||this.prop._.items.length<s.Constants.contextMenuVisibleItems&&t==this.value?this.prop._.items:this.prop._.items.filter(e=>e.title.toLowerCase().indexOf(t.toLowerCase())>-1);r.forEach(e=>e.hover=t==e.title),this.showDropDown(r)}refreshText(){this.$refs.ctrl.value=this.value}showDropDown(e){!this.prop.required&&e&&e.length&&(e=[{ref:null,title:"",hover:!1}].concat(e)),l.showCmenu(this.prop,e,{ctrl:this.$refs.ctrl},(e,t)=>{null!=t?l.equalRef(this.doc[this.prop.name],t.ref)||this.selectItem(t.ref):this.refreshText()})}selectItem(e){return{prop:this.prop,val:e,vue:this}}get value(){return l.getPropReferenceValue(this.prop,this.doc)}};o.__decorate([n.Prop()],c.prototype,"type",void 0),o.__decorate([n.Prop()],c.prototype,"doc",void 0),o.__decorate([n.Prop()],c.prototype,"prop",void 0),o.__decorate([n.Emit("keydown")],c.prototype,"keydown",null),o.__decorate([n.Emit("changed")],c.prototype,"selectItem",null),c=o.__decorate([n.Component],c),t.default=c},2729:function(e,t,r){"use strict";r.r(t);var o=r("a2b9");for(var n in o)"default"!==n&&function(e){r.d(t,e,(function(){return o[e]}))}(n);var i,a,s=r("2877"),l=Object(s["a"])(o["default"],i,a,!1,null,null,null);t["default"]=l.exports},"278f":function(e,t,r){"use strict";r.r(t);var o=r("2c6e"),n=r("e6db");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("f978");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},2877:function(e,t,r){"use strict";function o(e,t,r,o,n,i,a,s){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),o&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):n&&(l=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}r.d(t,"a",(function(){return o}))},"2bff":function(e,t,r){"use strict";r.r(t);var o=r("d6ea"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"2c6e":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{ref:"ctrl",staticClass:"form-control",attrs:{type:e.type},domProps:{value:e.value},on:{focus:function(t){return e.$emit("focus",t)},keydown:e.keydown,blur:e.refreshText,input:e.update,click:e.update}})},n=[]},"2c6f":function(e,t,r){"use strict";r.r(t);var o=r("e781"),n=r("4d5b");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("027b");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"2c84":function(e,t,r){},"2f39":function(e,t,r){"use strict";r.r(t);var o=r("31b6"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"2f62":function(e,t,r){"use strict";r.r(t),function(e){
/**
 * vuex v3.1.3
 * (c) 2020 Evan You
 * @license MIT
 */
function o(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:o});else{var r=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[o].concat(e.init):o,r.call(this,e)}}function o(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}r.d(t,"Store",(function(){return y})),r.d(t,"install",(function(){return E})),r.d(t,"mapState",(function(){return S})),r.d(t,"mapMutations",(function(){return M})),r.d(t,"mapGetters",(function(){return R})),r.d(t,"mapActions",(function(){return F})),r.d(t,"createNamespacedHelpers",(function(){return D}));var n="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},i=n.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(e){i&&(e._devtoolHook=i,i.emit("vuex:init",e),i.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){i.emit("vuex:mutation",e,t)})))}function s(e,t){Object.keys(e).forEach((function(r){return t(e[r],r)}))}function l(e){return null!==e&&"object"===typeof e}function c(e){return e&&"function"===typeof e.then}function u(e,t){return function(){return e(t)}}var d=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=("function"===typeof r?r():r)||{}},f={namespaced:{configurable:!0}};f.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(e,t){this._children[e]=t},d.prototype.removeChild=function(e){delete this._children[e]},d.prototype.getChild=function(e){return this._children[e]},d.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},d.prototype.forEachChild=function(e){s(this._children,e)},d.prototype.forEachGetter=function(e){this._rawModule.getters&&s(this._rawModule.getters,e)},d.prototype.forEachAction=function(e){this._rawModule.actions&&s(this._rawModule.actions,e)},d.prototype.forEachMutation=function(e){this._rawModule.mutations&&s(this._rawModule.mutations,e)},Object.defineProperties(d.prototype,f);var p=function(e){this.register([],e,!1)};function m(e,t,r){if(t.update(r),r.modules)for(var o in r.modules){if(!t.getChild(o))return void 0;m(e.concat(o),t.getChild(o),r.modules[o])}}p.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},p.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,r){return t=t.getChild(r),e+(t.namespaced?r+"/":"")}),"")},p.prototype.update=function(e){m([],this.root,e)},p.prototype.register=function(e,t,r){var o=this;void 0===r&&(r=!0);var n=new d(t,r);if(0===e.length)this.root=n;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],n)}t.modules&&s(t.modules,(function(t,n){o.register(e.concat(n),t,r)}))},p.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1];t.getChild(r).runtime&&t.removeChild(r)};var h;var y=function(e){var t=this;void 0===e&&(e={}),!h&&"undefined"!==typeof window&&window.Vue&&E(window.Vue);var r=e.plugins;void 0===r&&(r=[]);var o=e.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new p(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new h,this._makeLocalGettersCache=Object.create(null);var n=this,i=this,s=i.dispatch,l=i.commit;this.dispatch=function(e,t){return s.call(n,e,t)},this.commit=function(e,t,r){return l.call(n,e,t,r)},this.strict=o;var c=this._modules.root.state;w(this,c,[],this._modules.root),g(this,c),r.forEach((function(e){return e(t)}));var u=void 0!==e.devtools?e.devtools:h.config.devtools;u&&a(this)},v={state:{configurable:!0}};function b(e,t){return t.indexOf(e)<0&&t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function _(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var r=e.state;w(e,r,[],e._modules.root,!0),g(e,r,t)}function g(e,t,r){var o=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var n=e._wrappedGetters,i={};s(n,(function(t,r){i[r]=u(t,e),Object.defineProperty(e.getters,r,{get:function(){return e._vm[r]},enumerable:!0})}));var a=h.config.silent;h.config.silent=!0,e._vm=new h({data:{$$state:t},computed:i}),h.config.silent=a,e.strict&&$(e),o&&(r&&e._withCommit((function(){o._data.$$state=null})),h.nextTick((function(){return o.$destroy()})))}function w(e,t,r,o,n){var i=!r.length,a=e._modules.getNamespace(r);if(o.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=o),!i&&!n){var s=j(t,r.slice(0,-1)),l=r[r.length-1];e._withCommit((function(){h.set(s,l,o.state)}))}var c=o.context=x(e,a,r);o.forEachMutation((function(t,r){var o=a+r;k(e,o,t,c)})),o.forEachAction((function(t,r){var o=t.root?r:a+r,n=t.handler||t;P(e,o,n,c)})),o.forEachGetter((function(t,r){var o=a+r;T(e,o,t,c)})),o.forEachChild((function(o,i){w(e,t,r.concat(i),o,n)}))}function x(e,t,r){var o=""===t,n={dispatch:o?e.dispatch:function(r,o,n){var i=O(r,o,n),a=i.payload,s=i.options,l=i.type;return s&&s.root||(l=t+l),e.dispatch(l,a)},commit:o?e.commit:function(r,o,n){var i=O(r,o,n),a=i.payload,s=i.options,l=i.type;s&&s.root||(l=t+l),e.commit(l,a,s)}};return Object.defineProperties(n,{getters:{get:o?function(){return e.getters}:function(){return C(e,t)}},state:{get:function(){return j(e.state,r)}}}),n}function C(e,t){if(!e._makeLocalGettersCache[t]){var r={},o=t.length;Object.keys(e.getters).forEach((function(n){if(n.slice(0,o)===t){var i=n.slice(o);Object.defineProperty(r,i,{get:function(){return e.getters[n]},enumerable:!0})}})),e._makeLocalGettersCache[t]=r}return e._makeLocalGettersCache[t]}function k(e,t,r,o){var n=e._mutations[t]||(e._mutations[t]=[]);n.push((function(t){r.call(e,o.state,t)}))}function P(e,t,r,o){var n=e._actions[t]||(e._actions[t]=[]);n.push((function(t){var n=r.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return c(n)||(n=Promise.resolve(n)),e._devtoolHook?n.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):n}))}function T(e,t,r,o){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return r(o.state,o.getters,e.state,e.getters)})}function $(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function j(e,t){return t.reduce((function(e,t){return e[t]}),e)}function O(e,t,r){return l(e)&&e.type&&(r=t,t=e,e=e.type),{type:e,payload:t,options:r}}function E(e){h&&e===h||(h=e,o(h))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(e){0},y.prototype.commit=function(e,t,r){var o=this,n=O(e,t,r),i=n.type,a=n.payload,s=(n.options,{type:i,payload:a}),l=this._mutations[i];l&&(this._withCommit((function(){l.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,o.state)})))},y.prototype.dispatch=function(e,t){var r=this,o=O(e,t),n=o.type,i=o.payload,a={type:n,payload:i},s=this._actions[n];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,r.state)}))}catch(c){0}var l=s.length>1?Promise.all(s.map((function(e){return e(i)}))):s[0](i);return l.then((function(e){try{r._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,r.state)}))}catch(c){0}return e}))}},y.prototype.subscribe=function(e){return b(e,this._subscribers)},y.prototype.subscribeAction=function(e){var t="function"===typeof e?{before:e}:e;return b(t,this._actionSubscribers)},y.prototype.watch=function(e,t,r){var o=this;return this._watcherVM.$watch((function(){return e(o.state,o.getters)}),t,r)},y.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},y.prototype.registerModule=function(e,t,r){void 0===r&&(r={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),w(this,this.state,e,this._modules.get(e),r.preserveState),g(this,this.state)},y.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var r=j(t.state,e.slice(0,-1));h.delete(r,e[e.length-1])})),_(this)},y.prototype.hotUpdate=function(e){this._modules.update(e),_(this,!0)},y.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(y.prototype,v);var S=G((function(e,t){var r={};return A(t).forEach((function(t){var o=t.key,n=t.val;r[o]=function(){var t=this.$store.state,r=this.$store.getters;if(e){var o=I(this.$store,"mapState",e);if(!o)return;t=o.context.state,r=o.context.getters}return"function"===typeof n?n.call(this,t,r):t[n]},r[o].vuex=!0})),r})),M=G((function(e,t){var r={};return A(t).forEach((function(t){var o=t.key,n=t.val;r[o]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var o=this.$store.commit;if(e){var i=I(this.$store,"mapMutations",e);if(!i)return;o=i.context.commit}return"function"===typeof n?n.apply(this,[o].concat(t)):o.apply(this.$store,[n].concat(t))}})),r})),R=G((function(e,t){var r={};return A(t).forEach((function(t){var o=t.key,n=t.val;n=e+n,r[o]=function(){if(!e||I(this.$store,"mapGetters",e))return this.$store.getters[n]},r[o].vuex=!0})),r})),F=G((function(e,t){var r={};return A(t).forEach((function(t){var o=t.key,n=t.val;r[o]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var o=this.$store.dispatch;if(e){var i=I(this.$store,"mapActions",e);if(!i)return;o=i.context.dispatch}return"function"===typeof n?n.apply(this,[o].concat(t)):o.apply(this.$store,[n].concat(t))}})),r})),D=function(e){return{mapState:S.bind(null,e),mapGetters:R.bind(null,e),mapMutations:M.bind(null,e),mapActions:F.bind(null,e)}};function A(e){return V(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function V(e){return Array.isArray(e)||l(e)}function G(e){return function(t,r){return"string"!==typeof t?(r=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,r)}}function I(e,t,r){var o=e._modulesNamespaceMap[r];return o}var q={Store:y,install:E,version:"3.1.3",mapState:S,mapMutations:M,mapGetters:R,mapActions:F,createNamespacedHelpers:D};t["default"]=q}.call(this,r("c8ba"))},"306e":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.styles+" border-0"},[2==e.viewType?r("div",{staticClass:"prop-file-box"},[e._l(e.files,(function(t){return r("div",[r("div",{staticClass:"prop-file-item d-flex px-2 py-1 mb-2 border border-bottom",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.showMenu(t,r)}}},[r("span",{staticClass:"flex-grow-1"},[e._v(e._s(e.title(t)))]),r("span",{staticClass:"property-file-size text-secondary text-nowrap mx-2"},[e._v(e._s(e.size(t)))]),r("i",{staticClass:"text-black-50 fa fa-times float-right p-1 fa-xs",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.remove(t,r)}}})]),e.prop.file&&e.prop.file.preview&&t._?r("figure",{staticClass:"m-0"},[r("img",{staticClass:"figure-img img-fluid border",attrs:{src:t._.uri},on:{load:function(r){return e.resetFileInfo(r,t)}}}),t._.dimensions?r("figcaption",[e._v(e._s(t._.dimensions))]):e._e()]):e._e()])})),e.showBrowseButton?r("Function",{attrs:{title:"Browse file ...",styles:"btn-secondary border"},on:{exec:e.selectFile}}):e._e()],2):e._l(e.files,(function(t){return r("div",{class:"p-1 "+(3==e.viewType?"d-inline-block":"")},[e._v(e._s(e.title(t))),r("span",{staticClass:"text-secondary mx-2"},[e._v(e._s(e.size(t)))])])}))],2)},n=[]},3086:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("8445"),a=o.__importStar(r("cd49"));let s=class extends n.Vue{update(e){let t=e.target.value?moment.utc(e.target.value):null,r=t&&t.isValid()?t.toDate():null;!r&&e.target.value?(a.notify("invalid-date: "+e.target.value,i.LogType.Error),this.$forceUpdate()):this.change(r)}change(e){return{prop:this.prop,val:e,vue:this}}get value(){let e=this.doc[this.prop.name];return e?moment(e).format("YYYY/MM/DD"):""}};o.__decorate([n.Prop()],s.prototype,"doc",void 0),o.__decorate([n.Prop()],s.prototype,"prop",void 0),o.__decorate([n.Prop()],s.prototype,"viewType",void 0),o.__decorate([n.Emit("changed")],s.prototype,"change",null),s=o.__decorate([n.Component],s),t.default=s},"31b6":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{};i=o.__decorate([n.Component],i),t.default=i},3426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("cd49"),a=o.__importStar(r("cd49"));let s=class extends n.Vue{click(e){i.glob.cmenu.show=!1,i.glob.cmenu.handler(i.glob.cmenu.state,e)}getTitle(e){let t=e.title||"&nbsp;";return t=t.replace(/\((.+)\)/,"<span class='float-right ml-3 text-secondary'>($1)</span>"),t}calcMenuPosition(){let e,t,r,o,n=0,s=0,l=$(window).height(),c=$(window).width();if(i.glob.cmenu.event.ctrl){let a=$(i.glob.cmenu.event.ctrl);e=r=a.offset().left,t=o=a.offset().top,n=a.outerWidth(),s=a.outerHeight()}else e=r=i.glob.cmenu.event.pageX,t=o=i.glob.cmenu.event.pageY;l-o<300?o=l-t:(o=0,t+=s),r=a.isRtl()||e>c-300?c-e-n:0,i.glob.cmenu.left=e,i.glob.cmenu.right=r,i.glob.cmenu.top=t,i.glob.cmenu.bottom=o}get style(){this.calcMenuPosition();let e={};return i.glob.cmenu.right?(e.right=i.glob.cmenu.right+"px",e.left="auto"):e.left=i.glob.cmenu.left+"px",i.glob.cmenu.bottom?(e.bottom=i.glob.cmenu.bottom+"px",e.top="auto"):e.top=i.glob.cmenu.top+"px",e}};s=o.__decorate([n.Component],s),t.default=s},"34a0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("cd49");let a=class extends n.Vue{fileBrowsed(e){i.glob.fileGallery.fileBrowsed(e.target.files)}};o.__decorate([n.Prop()],a.prototype,"prop",void 0),a=o.__decorate([n.Component],a),t.default=a},3610:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},n=[]},3659:function(e,t,r){"use strict";r.r(t);var o=r("fc26"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"366c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("8445"),a=r("cd49"),s=r("761a");let l=class extends n.Vue{render(e){let t=this.elem;if(!t.obj)return console.error("Element 'object-view' needs obj property.",t),void e("div","...");let r=this.$store.state.data[t.obj.ref];const o=a.glob.form.declarations[t.obj.ref];if(!o)throw`dec is empty for ref '${t.obj.ref}'`;a.glob.form.toolbar=!0;let n=null==this.root||this.root;return t.obj&&t.obj.type==i.ObjectViewType.TreeView?e("tree-view",{props:{uri:t.obj.ref}}):(a.glob.newItemButton=Array.isArray(r)&&o.newItemMode==i.NewItemMode.newPage?"New "+s.singular(a.glob.form.title):null,Array.isArray(r)?e("grid-view",{props:{uri:t.obj.ref,root:n,dec:o}}):e("details-view",{props:{uri:t.obj.ref,root:n,dec:o}}))}};o.__decorate([n.Prop()],l.prototype,"elem",void 0),o.__decorate([n.Prop()],l.prototype,"root",void 0),l=o.__decorate([n.Component],l),t.default=l},"368d":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.cmenu.show?r("div",{staticClass:"dropdown-menu show overflow-auto context-menu",style:e.style},[e._l(e.glob.cmenu.items,(function(t){return["-"===t.title?r("div",{staticClass:"dropdown-divider"}):r("a",{class:"dropdown-item"+(t.hover?" active":""),attrs:{href:"javascript:;"},domProps:{innerHTML:e._s(e.getTitle(t))},on:{click:function(r){return e.click(t)}}})]}))],2):e._e()},n=[]},"38a4":function(e,t,r){"use strict";r.r(t);var o=r("3ed3"),n=r("9b3a");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("cf5e");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},3955:function(e,t,r){},3978:function(e,t,r){},"3d70":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("8445"),a=r("cd49"),s=o.__importStar(r("cd49"));let l=class extends n.Vue{get glob(){return a.glob}emit(e,...t){a.glob.socket.emit(e,...t)}mounted(){a.glob.config.interactive&&(console.log("web-socket initing ..."),a.glob.socket.on("cmd",this.handleCommand))}handleCommand(e,...t){switch(e){case i.ClientCommand.Log:a.glob.logs.push({message:t[0],type:t[1],ref:t[2]});break;case i.ClientCommand.PingAck:console.log("socket is ready");break;case i.ClientCommand.Notification:s.notify(t[0],t[1]);break;case i.ClientCommand.Question:s.question(t[0],t[1],t[2],e=>{a.glob.socket.emit("cmd",i.ClientCommand.Answer,t[0],e?e.ref:null)});break;case i.ClientCommand.FunctionDone:a.glob.logs.push({message:"done!",type:i.LogType.Info}),a.glob.logs.push(null);break;case i.ClientCommand.Download:window.open(t[0]);break;case i.ClientCommand.FunctionFailed:a.glob.logs.push({message:t[0],type:i.LogType.Error}),a.glob.logs.push(null);break}}};l=o.__decorate([n.Component],l),t.default=l},"3dfd":function(e,t,r){"use strict";r.r(t);var o=r("78b6"),n=r("6f68");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("5c0b");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"3ed3":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"p-5"},[r("div",{staticClass:"range-picker"},[r("span",{attrs:{contenteditable:"true"},on:{click:e.showMenu}},[e._v(e._s(e.value))]),r("div",{class:{"context-menu":!0,"d-none":!e.menuVisible}},[r("div",[e._v("UP")]),r("div",[e._v("2010")]),r("div",[e._v("2011")]),r("div",[e._v("2012")]),r("div",[e._v("2013")]),r("div",[e._v("Down")])])]),r("span",[e._v("/")])])},n=[]},4092:function(e,t,r){"use strict";var o=r("47e4"),n=r.n(o);n.a},"40ff":function(e,t,r){"use strict";r.r(t);var o=r("db9d"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"41ed":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("8445"),a=r("a76d"),s=o.__importDefault(r("0c47")),l=o.__importDefault(r("631a")),c=o.__importDefault(r("4497")),u=o.__importDefault(r("13fa")),d=o.__importDefault(r("147c")),f=o.__importDefault(r("278f")),p=o.__importDefault(r("b83a")),m=o.__importDefault(r("027f")),h=o.__importDefault(r("1df6")),y=o.__importDefault(r("840b")),v=o.__importDefault(r("c7bb")),b=o.__importStar(r("cd49"));let _=class extends n.Vue{render(e){if(!this.prop)return console.error("error rendering 'ElemProp' component. prop is empty! item:",this.item),e("div","...");if(this.prop._=this.prop._||{gtype:i.GlobalType.string},null!=this.prop.condition&&!b.evalExpression(this.item,this.prop.condition))return this.item[this.prop.name]=null,null;switch(this.viewType){case i.ObjectViewType.GridView:return this.renderValue(e,"px-1");default:case i.ObjectViewType.DetailsView:return this.renderDetailsView(e);case i.ObjectViewType.TreeView:return this.renderTreeView(e)}}changed(e){return b.setPropertyEmbeddedError(this.item,e.prop.name,null),{prop:e.prop,item:this.item,val:e.val,vue:e.vue}}focused(e){return{e:e,prop:this.prop}}keydown(e){return e}renderDetailsView(e){let t="prop-value border mx-2";if(this.prop._.gtype==i.GlobalType.object&&!this.prop.documentView)return e("object-view",{props:{root:!1,elem:{type:i.ElemType.Object,obj:{ref:this.prop._.ref}}}});let r=this.renderValue(e,t),o=this.item&&this.item._&&this.item._[this.prop.name],n=null;o&&(n=e("prop-message",{props:{message:o.err}}));let a=this.prop.comment?e("p",{attrs:{class:"prop-comment mt-3 p-2"}},[e("i",{attrs:{class:"fa fa-info-circle m-1 fa-lg"}}),e("span",{attrs:{class:"ml-3"},domProps:{innerHTML:b.markDown(this.prop.comment)}})]):null,s=this.prop.title||this.prop.name,l=b.someProps(this.prop)?null:e("label",{attrs:{class:"prop-label align-top pt-2"}},s),c="form-group";return this.prop._.gtype==i.GlobalType.boolean?e("div",{attrs:{class:c}},[r,a]):e("div",{attrs:{class:c}},[l,r,n,a])}renderTreeView(e){let t="prop-value mx-2",r=this.renderValue(e,t),o=e("prop-message",{props:{message:this.item._error}}),n=this.prop.comment?e("small",{attrs:{class:"property-comment p-3 text-muted d-block"}},this.prop.comment):null,s=this.prop.title||this.prop.name,l=this.labelMode==a.PropertyLabelMode.Hidden||b.someProps(this.prop)?null:e("label",{attrs:{class:"mr-1 tree-view-attr-label"}},s+":"),c="d-inline-block";return this.prop._.gtype==i.GlobalType.boolean?e("div",{attrs:{class:c+" form-check"}},[e("label",{attrs:{class:"col-sm-8 tree-view-attr-label"}},[r,s]),n]):e("div",{attrs:{class:c}},[l,r,o,n])}renderValue(e,t){let r={doc:this.item,name:this.prop.name,prop:this.prop,viewType:this.viewType,styles:t};if(this.prop._.isRef)return this.viewType==i.ObjectViewType.TreeView?e("span",{attrs:{class:t+" text-success"}},b.getPropReferenceValue(this.prop,this.item)):this.prop.isList?e("prop-reference-multiple",{attrs:{styles:t},on:{changed:this.changed,focus:this.focused},props:r}):e("prop-reference",{attrs:{class:"prop-reference "+t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});switch(this.prop._.gtype){case i.GlobalType.string:if(this.viewType==i.ObjectViewType.TreeView){let r=b.getPropTextValue(this.prop,this.item)||"";return e("span",{attrs:{class:t+" text-success"}},r.substring(0,30)+(r.length>30?"...":""))}return this.viewType!=i.ObjectViewType.GridView&&this.prop.text&&this.prop.text.multiLine?e("prop-text-multiline",{attrs:{class:"prop-text-multiline prop-value border"},on:{changed:this.changed,focus:this.focused},props:r}):this.viewType==i.ObjectViewType.GridView&&0===this.indexInGrid&&b.getBsonId(this.item)?e("prop-link",{attrs:{class:t},on:{keydown:this.keydown,focus:this.focused},props:r}):e("prop-text",{attrs:{type:this.prop.text&&this.prop.text.password?"password":"text",class:t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case i.GlobalType.number:return this.viewType==i.ObjectViewType.TreeView?e("span",{attrs:{class:t+" text-success"}},this.item[this.prop.name]):e("prop-text",{attrs:{type:"number",class:t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case i.GlobalType.boolean:return this.viewType==i.ObjectViewType.TreeView?null:(this.viewType==i.ObjectViewType.DetailsView&&(r["label"]=this.prop.title),e("prop-boolean",{on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r}));case i.GlobalType.time:return this.viewType==i.ObjectViewType.TreeView?e("span",{attrs:{class:t+" text-success"}},this.item[this.prop.name]):e("prop-time",{attrs:{class:"prop-time "+t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case i.GlobalType.location:return e("prop-location",{on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case i.GlobalType.file:return r.styles+=" prop-file",e("prop-file",{on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r});case i.GlobalType.object:return e("prop-document-editor",{attrs:{styles:t},on:{changed:this.changed,keydown:this.keydown,focus:this.focused},props:r})}return console.error("prop: Invalid property",this.prop),e("span","***")}};o.__decorate([n.Prop()],_.prototype,"item",void 0),o.__decorate([n.Prop()],_.prototype,"prop",void 0),o.__decorate([n.Prop()],_.prototype,"viewType",void 0),o.__decorate([n.Prop()],_.prototype,"labelMode",void 0),o.__decorate([n.Prop()],_.prototype,"indexInGrid",void 0),o.__decorate([n.Emit("changed")],_.prototype,"changed",null),o.__decorate([n.Emit("focus")],_.prototype,"focused",null),o.__decorate([n.Emit("keydown")],_.prototype,"keydown",null),_=o.__decorate([n.Component({name:"prop",components:{PropReferenceMultiple:v.default,PropTime:y.default,PropTextMultiline:m.default,PropText:p.default,PropReference:f.default,PropMessage:d.default,PropLocation:u.default,PropLink:c.default,PropFile:l.default,PropDocumentEditor:h.default,PropBoolean:s.default}})],_),t.default=_},4298:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("8445"),a=r("a76d"),s=r("cd49"),l=r("e144"),c=o.__importStar(r("cd49")),u=o.__importDefault(r("474f"));let d=class extends n.Vue{showMenu(e,t){if(this.prop.file&&this.prop.file.drive){let r=[{ref:"select",title:s.$t("select")},{ref:"download",title:s.$t("download")}];c.showCmenu(e,r,t,this.selectMenu)}}selectMenu(e,t){if(c.hideCmenu(),t)switch(t.ref){case"download":window.open(e._.uri+"?m="+i.RequestMode.download,"_blank");break;case"select":this.selectFile();break}}selectFromGallery(e,t){let r="http://"+s.joinUri(this.prop.file.drive._.uri,e,t.name),o={path:e,_:{uri:r},name:t.name,size:t.size,lastModified:t.lastModified},n=this.doc[this.prop.name];Array.isArray(n)?(n=[...n],n.push(o)):n=o,c.dispatchFileAction(this,{prop:this.prop,val:n,item:this.doc,type:a.FileActionType.Select})}selectFile(e){e&&e.stopProgress();let t=this.getVal();if(this.prop.file&&this.prop.file.drive&&this.prop.file.drive.mode==i.DriveMode.Gallery){let e=t&&t.path?t.path:this.prop.file.path;c.openFileGallery(this.prop.file.drive,t?t.name:null,e,!!this.prop.file.path,this.selectFromGallery)}else this.browseFile(t)}getVal(){let e=this.doc[this.prop.name];return this.prop.isList&&(e?Array.isArray(e)||(e=[e]):e=[]),e}browseFile(e){c.browseFile(t=>{if(!t.length)return;let r=[];for(const e of t)r.push({name:l.v4()+"__"+e.name,path:this.prop.file.path,size:e.size,lastModified:e.lastModified,type:e.type,_:{rawData:e,uri:URL.createObjectURL(e)}});this.prop.file&&this.prop.file.sizeLimit&&r.find(e=>e.size>this.prop.file.sizeLimit)?c.notify("File size must be less than "+this.prop.file.sizeLimit,i.LogType.Error):(e=this.prop.isList?e.concat(...r):r[0],c.dispatchFileAction(this,{prop:this.prop,val:e,item:this.doc,type:a.FileActionType.Upload}))})}remove(e,t){let r=this.doc[this.prop.name];Array.isArray(r)?(r=r.filter(t=>t.name!=e.name),0==r.length&&(r=null)):r=null,c.dispatchFileAction(this,{prop:this.prop,item:this.doc,val:r,type:a.FileActionType.Delete}),t.stopPropagation()}size(e){return e.size?"("+c.toFriendlyFileSizeString(e.size)+")":null}title(e){return a.Constants.uniqueFilenameRegex.test(e.name)?e.name.replace(a.Constants.uniqueFilenameRegex,""):e.path?c.joinUri(e.path,e.name):e.name}resetFileInfo(e,t){e.path&&e.path[0]&&e.path[0].naturalWidth&&(t._.dimensions=e.path[0].naturalWidth+" x "+e.path[0].naturalHeight,this.$forceUpdate())}get showBrowseButton(){return!this.files||this.prop.isList||!this.prop.file}get files(){let e=this.doc[this.prop.name];return e&&0!=e.length?(Array.isArray(e)||(e=[e]),e):null}get allowUpload(){return!this.files||this.prop.isList}};o.__decorate([n.Prop()],d.prototype,"prop",void 0),o.__decorate([n.Prop()],d.prototype,"doc",void 0),o.__decorate([n.Prop()],d.prototype,"viewType",void 0),o.__decorate([n.Prop()],d.prototype,"styles",void 0),d=o.__decorate([n.Component({components:{Function:u.default}})],d),t.default=d},4497:function(e,t,r){"use strict";r.r(t);var o=r("ca02"),n=r("3659");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"72172bfc",null);t["default"]=s.exports},4667:function(e,t,r){"use strict";r.r(t);var o=r("8233"),n=r("40ff");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"5e00730a",null);t["default"]=s.exports},"474f":function(e,t,r){"use strict";r.r(t);var o=r("c7ce");for(var n in o)"default"!==n&&function(e){r.d(t,e,(function(){return o[e]}))}(n);var i,a,s=r("2877"),l=Object(s["a"])(o["default"],i,a,!1,null,null,null);t["default"]=l.exports},"47e4":function(e,t,r){},"49bd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=o.__importDefault(r("474f")),i=r("60a3"),a=r("cd49");let s=class extends i.Vue{close(){a.glob.question.show=!1,a.glob.question.options.length&&a.glob.question.select(null)}select(e){let t=e.data;a.glob.question.select(t),a.glob.question.options=[],a.glob.question.show=!1}get message(){return a.glob.question.message?marked(a.glob.question.message):""}};s=o.__decorate([i.Component({components:{Function:n.default}})],s),t.default=s},"4a04":function(e,t,r){"use strict";r.r(t);var o=r("0251"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"4a5f":function(e,t,r){"use strict";r.r(t);var o=r("b181"),n=r("7820");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("7505");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"4aa5":function(e,t,r){"use strict";r.r(t);var o=r("50cb"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"4b67":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{update(e){let t=e.target.value;return""===t&&(t=null),{prop:this.prop,val:t,vue:this}}focus(e){return{prop:this.prop,event:e}}get value(){return this.doc[this.prop.name]}};o.__decorate([n.Prop()],i.prototype,"doc",void 0),o.__decorate([n.Prop()],i.prototype,"prop",void 0),o.__decorate([n.Emit("changed")],i.prototype,"update",null),o.__decorate([n.Emit("focus")],i.prototype,"focus",null),i=o.__decorate([n.Component],i),t.default=i},"4d5b":function(e,t,r){"use strict";r.r(t);var o=r("dc11"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"4f1b":function(e,t,r){"use strict";var o=r("9587"),n=r.n(o);n.a},5010:function(e,t,r){"use strict";r.r(t);var o=r("a5bc"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"50cb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("8445"),a=r("cd49"),s=o.__importStar(r("cd49"));let l=class extends n.Vue{keydown(e){return e.which!==i.Keys.up&&e.which!==i.Keys.down||e.preventDefault(),{prop:this.prop,event:e}}focus(e){return{prop:this.prop,event:e}}update(e){let t="number"==this.type?e.target.valueAsNumber:e.target.value;""===t&&(t=null);let r=this.doc[this.prop.name];if(this.prop.text&&this.prop.text.multiLanguage)if(null==r&&this.$set(this.doc,this.prop.name,{}),a.glob.config.locale){if("string"==typeof r){let e=r;r={},r[a.glob.config.defaultLocale]=e,r[a.glob.config.locale]=t,this.$set(this.doc,this.prop.name,r)}else r=r||{};this.$set(this.doc[this.prop.name],a.glob.config.locale,t),r[a.glob.config.locale]=t}else r&&"object"==typeof r&&a.glob.config.defaultLocale?(this.$set(this.doc[this.prop.name],a.glob.config.defaultLocale,t),r[a.glob.config.defaultLocale]=t):r=t;else r=t;return{prop:this.prop,val:r,vue:this}}get readonly(){return!!this.prop.formula}get value(){return s.getPropTextValue(this.prop,this.doc)}get placeholder(){if(!this.doc||this.prop.formula)return null;let e=this.doc[this.prop.name];if(e&&"object"===typeof e){let t=s.getQs("e")||"en";if(!e[t])return e["en"]||e[Object.keys(e)[0]]}return null}};o.__decorate([n.Prop()],l.prototype,"type",void 0),o.__decorate([n.Prop()],l.prototype,"doc",void 0),o.__decorate([n.Prop()],l.prototype,"viewType",void 0),o.__decorate([n.Prop()],l.prototype,"prop",void 0),o.__decorate([n.Emit("keydown")],l.prototype,"keydown",null),o.__decorate([n.Emit("focus")],l.prototype,"focus",null),o.__decorate([n.Emit("changed")],l.prototype,"update",null),l=o.__decorate([n.Component],l),t.default=l},5223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{constructor(){super(...arguments),this.menuVisible=!1}showMenu(){this.menuVisible=!0}};o.__decorate([n.Prop()],i.prototype,"pair",void 0),o.__decorate([n.Prop()],i.prototype,"value",void 0),i=o.__decorate([n.Component({components:{}})],i),t.default=i},"53b6":function(e,t,r){"use strict";r.r(t);var o=r("af9a"),n=r("6b2e");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("4092");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"544c":function(e,t,r){"use strict";r.r(t);var o=r("c5cf"),n=r("9ca0");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"3b79b01e",null);t["default"]=s.exports},"556d":function(e,t,r){"use strict";var o=r("7f63"),n=r.n(o);n.a},"55f3":function(e,t,r){},5636:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.config.navmenu.length?r("div",{staticClass:"side-nav sidenav p-3 d-none d-lg-block"},[e._m(0),r("ul",{staticClass:"pl-0 list-unstyled"},e._l(e.glob.config.navmenu,(function(t){return r("li",{staticClass:"mr-2 nav-item"},["-"==t.title?r("a",{staticClass:"d-block my-2 border-bottom border-secondary"}):t.ref?r("a",{class:e.getStyle(t),attrs:{href:t.ref}},[e._v(e._s(t.title))]):r("a",{staticClass:"nav-link font-weight-bold"},[e._v(e._s(t.title))]),r("ul",{staticClass:"list-unstyled"},e._l(t.items,(function(t){return r("li",{staticClass:"mr-2 nav-item"},[r("a",{class:e.getStyle(t),attrs:{href:t.ref}},[e._v(e._s(t.title))])])})),0)])})),0)]):e._e()},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-group mb-3"},[r("input",{staticClass:"form-control border-right-0",attrs:{type:"text",placeholder:"Search"}}),r("span",{staticClass:"input-group-append bg-white rounded border-left-0"},[r("span",{staticClass:"input-group-text bg-transparent"},[r("span",{staticClass:"fa fa-search text-muted"})])])])}]},"56b9":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"filter-item py-2 badge badge-pill badge-info"},[e._v(e._s(e.item.title)+" "),r("i",{staticClass:"fas fa-times ml-2",on:{click:e.close}})])},n=[]},5986:function(e,t,r){"use strict";var o=r("3955"),n=r.n(o);n.a},"5a6f":function(e,t,r){"use strict";r.r(t);var o=r("49bd"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"5c0b":function(e,t,r){"use strict";var o=r("9c0c"),n=r.n(o);n.a},"5d23":function(e,t,r){},"5fe8":function(e,t,r){"use strict";var o=r("f275"),n=r.n(o);n.a},"60a3":function(e,t,r){"use strict";r.r(t),r.d(t,"Component",(function(){return P})),r.d(t,"Vue",(function(){return n.a})),r.d(t,"Mixins",(function(){return v})),r.d(t,"Inject",(function(){return $})),r.d(t,"InjectReactive",(function(){return j})),r.d(t,"Provide",(function(){return S})),r.d(t,"ProvideReactive",(function(){return M})),r.d(t,"Model",(function(){return D})),r.d(t,"Prop",(function(){return A})),r.d(t,"PropSync",(function(){return V})),r.d(t,"Watch",(function(){return G})),r.d(t,"Emit",(function(){return L})),r.d(t,"Ref",(function(){return N}));var o=r("8bbf"),n=r.n(o);
/**
  * vue-class-component v7.2.3
  * (c) 2015-present Evan You
  * @license MIT
  */
function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return l(e)||c(e)||u()}function l(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function f(e,t){p(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(r){p(e.prototype,t.prototype,r)})),Object.getOwnPropertyNames(t).forEach((function(r){p(e,t,r)}))}function p(e,t,r){var o=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);o.forEach((function(o){var n=r?Reflect.getOwnMetadata(o,t,r):Reflect.getOwnMetadata(o,t);r?Reflect.defineMetadata(o,n,e,r):Reflect.defineMetadata(o,n,e)}))}var m={__proto__:[]},h=m instanceof Array;function y(e){return function(t,r,o){var n="function"===typeof t?t:t.constructor;n.__decorators__||(n.__decorators__=[]),"number"!==typeof o&&(o=void 0),n.__decorators__.push((function(t){return e(t,r,o)}))}}function v(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.a.extend({mixins:t})}function b(e){var t=i(e);return null==e||"object"!==t&&"function"!==t}function _(e,t){var r=t.prototype._init;t.prototype._init=function(){var t=this,r=Object.getOwnPropertyNames(e);if(e.$options.props)for(var o in e.$options.props)e.hasOwnProperty(o)||r.push(o);r.forEach((function(r){"_"!==r.charAt(0)&&Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},configurable:!0})}))};var o=new t;t.prototype._init=r;var n={};return Object.keys(o).forEach((function(e){void 0!==o[e]&&(n[e]=o[e])})),n}var g=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach((function(e){if("constructor"!==e)if(g.indexOf(e)>-1)t[e]=r[e];else{var o=Object.getOwnPropertyDescriptor(r,e);void 0!==o.value?"function"===typeof o.value?(t.methods||(t.methods={}))[e]=o.value:(t.mixins||(t.mixins=[])).push({data:function(){return a({},e,o.value)}}):(o.get||o.set)&&((t.computed||(t.computed={}))[e]={get:o.get,set:o.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return _(this,e)}});var o=e.__decorators__;o&&(o.forEach((function(e){return e(t)})),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),s=i instanceof n.a?i.constructor:n.a,l=s.extend(t);return C(l,e,s),d()&&f(l,e),l}var x={prototype:!0,arguments:!0,callee:!0,caller:!0};function C(e,t,r){Object.getOwnPropertyNames(t).forEach((function(o){if(!x[o]){var n=Object.getOwnPropertyDescriptor(e,o);if(!n||n.configurable){var i=Object.getOwnPropertyDescriptor(t,o);if(!h){if("cid"===o)return;var a=Object.getOwnPropertyDescriptor(r,o);if(!b(i.value)&&a&&a.value===i.value)return}0,Object.defineProperty(e,o,i)}}}))}function k(e){return"function"===typeof e?w(e):function(t){return w(t,e)}}k.registerHooks=function(e){g.push.apply(g,s(e))};var P=k,T="__reactiveInject__";function $(e){return y((function(t,r){"undefined"===typeof t.inject&&(t.inject={}),Array.isArray(t.inject)||(t.inject[r]=e||r)}))}function j(e){return y((function(t,r){if("undefined"===typeof t.inject&&(t.inject={}),!Array.isArray(t.inject)){var o=e?e.from||e:r,n=!!e&&e.default||void 0;t.computed||(t.computed={}),t.computed[r]=function(){var e=this[T];return e?e[o]:n},t.inject[T]=T}}))}function O(e){var t=function(){var r=this,o="function"===typeof e?e.call(this):e;for(var n in o=Object.create(o||null),o[T]=this[T]||{},t.managed)o[t.managed[n]]=this[n];var i=function(e){o[t.managedReactive[e]]=a[e],o[T].hasOwnProperty(t.managedReactive[e])||Object.defineProperty(o[T],t.managedReactive[e],{enumerable:!0,get:function(){return r[e]}})},a=this;for(var n in t.managedReactive)i(n);return o};return t.managed={},t.managedReactive={},t}function E(e){return"function"!==typeof e||!e.managed&&!e.managedReactive}function S(e){return y((function(t,r){var o=t.provide;E(o)&&(o=t.provide=O(o)),o.managed[r]=e||r}))}function M(e){return y((function(t,r){var o=t.provide;Array.isArray(t.inject)||(t.inject=t.inject||{},t.inject[T]={from:T,default:{}}),E(o)&&(o=t.provide=O(o)),o.managedReactive[r]=e||r}))}var R="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function F(e,t,r){if(R&&!Array.isArray(e)&&"function"!==typeof e&&"undefined"===typeof e.type){var o=Reflect.getMetadata("design:type",t,r);o!==Object&&(e.type=o)}}function D(e,t){return void 0===t&&(t={}),function(r,o){F(t,r,o),y((function(r,o){(r.props||(r.props={}))[o]=t,r.model={prop:o,event:e||o}}))(r,o)}}function A(e){return void 0===e&&(e={}),function(t,r){F(e,t,r),y((function(t,r){(t.props||(t.props={}))[r]=e}))(t,r)}}function V(e,t){return void 0===t&&(t={}),function(r,o){F(t,r,o),y((function(r,o){(r.props||(r.props={}))[e]=t,(r.computed||(r.computed={}))[o]={get:function(){return this[e]},set:function(t){this.$emit("update:"+e,t)}}}))(r,o)}}function G(e,t){void 0===t&&(t={});var r=t.deep,o=void 0!==r&&r,n=t.immediate,i=void 0!==n&&n;return y((function(t,r){"object"!==typeof t.watch&&(t.watch=Object.create(null));var n=t.watch;"object"!==typeof n[e]||Array.isArray(n[e])?"undefined"===typeof n[e]&&(n[e]=[]):n[e]=[n[e]],n[e].push({handler:r,deep:o,immediate:i})}))}var I=/\B([A-Z])/g,q=function(e){return e.replace(I,"-$1").toLowerCase()};function L(e){return function(t,r,o){var n=q(r),i=o.value;o.value=function(){for(var t=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=function(o){var i=e||n;void 0===o?0===r.length?t.$emit(i):1===r.length?t.$emit(i,r[0]):t.$emit(i,r):t.$emit(i,o)},s=i.apply(this,r);return U(s)?s.then((function(e){a(e)})):a(s),s}}}function N(e){return y((function(t,r){t.computed=t.computed||{},t.computed[r]={cache:!1,get:function(){return this.$refs[e||r]}}}))}function U(e){return e instanceof Promise||e&&"function"===typeof e.then}},"61d6":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{class:{"navbar navbar-expand-lg navbar-dark":!0,container:e.containerStyle}},[r("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[e.glob.config.brandingLogo?r("img",{staticClass:"branding-logo img-responsive",attrs:{alt:"logo",src:e.glob.config.brandingLogo}}):e._e(),r("span",{staticClass:"app-title"},[e._v(e._s(e.glob.config.appTitle))])]),e._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[r("ul",{staticClass:"navbar-nav"},e._l(e.glob.config.menu,(function(t){return r("li",{class:{"nav-item":!0,active:e.currentRef===t.ref,dropdown:t.items}},[t.items&&t.items.length?r("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown","data-toggle":"dropdown","aria-expanded":"false"}},[e._v(e._s(t.title))]):e._e(),t.items&&t.items.length?r("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},e._l(t.items,(function(t){return r("a",{staticClass:"dropdown-item",attrs:{href:t.ref}},[e._v(e._s(t.title))])})),0):r("a",{staticClass:"nav-link",attrs:{href:t.ref}},[e._v(e._s(t.title))])])})),0),r("AppLocaleMenu"),r("a",{staticClass:"my-2 my-sm-0 text-light",attrs:{href:e.glob.config.loginRef}},[e._v(e._s(e.glob.config.loginTitle))])],1)])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])}]},"631a":function(e,t,r){"use strict";r.r(t);var o=r("306e"),n=r("bfd3");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("a3ca");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},6542:function(e,t,r){"use strict";r.r(t);var o=r("1636"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"659d":function(e,t,r){"use strict";r.r(t);var o=r("c089"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"65f4":function(e,t,r){},6825:function(e,t,r){"use strict";r.r(t);var o=r("368d"),n=r("7164");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("9789");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},6857:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("8445"),a=o.__importStar(r("cd49")),s=r("cd49");let l=class extends n.Vue{constructor(){super(...arguments),this.showProgress=!1,this.spinnerTimer=null}render(e){return this.styles&&this.styles.indexOf("fa-")>-1?e("div",[e("button",{attrs:{class:"btn"},on:{click:this.click}},[e("i",{attrs:{class:"fa "+this.styles}})])]):e("div",{attrs:{class:"d-inline-block"}},[e("button",{attrs:{class:"btn "+(this.styles||"btn-primary m-1")},on:{click:this.click}},[e("span",this.title),e("i",{attrs:{class:"ml-2 fa fa-sync fa-spin wait-spinner "+(this.showProgress?"":"d-none")}})])])}validate(e){let t=a.getDec(e);if(t&&t.properties){let r=t.properties.filter(e=>e.required),o="";for(const t of r)null!==e[t.name]&&""!==e[t.name]||(o=o||`value is required for property '${t.title}'`,a.setPropertyEmbeddedError(e,t.name,"* mandatory"));if(o)return a.notify(o,i.LogType.Error),!1}return!0}emitExec(e){return e}click(e){if(this.showProgress=!0,this.$listeners&&this.$listeners.exec)try{let e=this,t={name:this.name,data:this.$store.state.data,stopProgress(){e.showProgress=!1}};this.$emit("exec",t)}catch(t){this.showProgress=!1,console.error(`function '${this.name}' click error.`,t)}else{let e=this.name;if(!this.data)throw`data must be set for 'Function' element '${e}'`;let t=a.getDec(this.data);if(!this.validate(this.data))return;a.log(`calling '${this.name}' ...`,this.data),a.ajax("/"+this.name,this.data,null,e=>{this.showProgress=!1,t.interactive&&e.code==i.StatusCode.Accepted||(e.code!=i.StatusCode.Ok?a.notify(e.message,i.LogType.Error):(s.glob.modal=!1,setTimeout(()=>{a.handleResponse(e)},100)))},e=>{this.showProgress=!1,a.notify(e)})}}};o.__decorate([n.Prop()],l.prototype,"title",void 0),o.__decorate([n.Prop()],l.prototype,"name",void 0),o.__decorate([n.Prop()],l.prototype,"data",void 0),o.__decorate([n.Prop()],l.prototype,"styles",void 0),o.__decorate([n.Emit("exec")],l.prototype,"emitExec",null),l=o.__decorate([n.Component({name:"function"})],l),t.default=l},6908:function(e,t,r){"use strict";r.r(t);var o=r("bd61"),n=r("4a04");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("b751");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"6b2e":function(e,t,r){"use strict";r.r(t);var o=r("7b98"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"6ca4":function(e,t,r){},"6d32":function(e,t,r){"use strict";var o=r("0edf"),n=r.n(o);n.a},"6f68":function(e,t,r){"use strict";r.r(t);var o=r("78c7"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"714b":function(e,t,r){"use strict";r.r(t);var o=r("065c"),n=r("e25f");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},7164:function(e,t,r){"use strict";r.r(t);var o=r("3426"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},7196:function(e,t,r){"use strict";r.r(t);var o=r("eb81"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},7271:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("textarea",{staticClass:"text-nowrap form-control",domProps:{value:e.value},on:{focus:e.focus,input:e.update}})},n=[]},7505:function(e,t,r){"use strict";var o=r("55f3"),n=r.n(o);n.a},"761a":function(e,t,r){(function(t,r){e.exports=r()})(0,(function(){var e=[],t=[],r={},o={},n={};function i(e){return"string"===typeof e?new RegExp("^"+e+"$","i"):e}function a(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,r){return t[r]||""}))}function l(e,t){return e.replace(t[0],(function(r,o){var n=s(t[1],arguments);return a(""===r?e[o-1]:r,n)}))}function c(e,t,o){if(!e.length||r.hasOwnProperty(e))return t;var n=o.length;while(n--){var i=o[n];if(i[0].test(t))return l(t,i)}return t}function u(e,t,r){return function(o){var n=o.toLowerCase();return t.hasOwnProperty(n)?a(o,n):e.hasOwnProperty(n)?a(o,e[n]):c(n,o,r)}}function d(e,t,r,o){return function(o){var n=o.toLowerCase();return!!t.hasOwnProperty(n)||!e.hasOwnProperty(n)&&c(n,n,r)===n}}function f(e,t,r){var o=1===t?f.singular(e):f.plural(e);return(r?t+" ":"")+o}return f.plural=u(n,o,e),f.isPlural=d(n,o,e),f.singular=u(o,n,t),f.isSingular=d(o,n,t),f.addPluralRule=function(t,r){e.push([i(t),r])},f.addSingularRule=function(e,r){t.push([i(e),r])},f.addUncountableRule=function(e){"string"!==typeof e?(f.addPluralRule(e,"$0"),f.addSingularRule(e,"$0")):r[e.toLowerCase()]=!0},f.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),n[e]=t,o[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return f.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return f.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return f.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eÃ©]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(f.addUncountableRule),f}))},"76c8":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.message?r("span",{staticClass:"prop-message text-danger"},[e._v(e._s(e.message))]):e._e()},n=[]},7820:function(e,t,r){"use strict";r.r(t);var o=r("8771"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"78b6":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex h-100 flex-column"},[r("header",[r("NavBar")],1),r("main",{staticClass:"d-flex align-items-stretch overflow-auto"},[r("SideNav"),r("div",{staticClass:"d-flex flex-column flex-fill overflow-auto"},[r("Toolbar"),r("FormView")],1)],1),r("section",{staticClass:"helpers-section"},[r("FileGallery"),r("div",{attrs:{id:"snackbar"}}),r("BrowseFile"),r("NotifyBox"),r("WebSocket"),r("QuestionBox"),r("ContextMenu"),r("ProgressBar")],1)])},n=[]},"78c7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=o.__importDefault(r("99b8")),i=o.__importDefault(r("d000")),a=o.__importDefault(r("2729")),s=o.__importDefault(r("4a5f")),l=o.__importDefault(r("53b6")),c=o.__importDefault(r("e7fa")),u=o.__importDefault(r("1fc6")),d=o.__importDefault(r("6825")),f=o.__importDefault(r("6908")),p=o.__importDefault(r("b6b4")),m=o.__importDefault(r("7a8d")),h=r("60a3"),y=r("cd49"),v=o.__importDefault(r("ab06"));let b=class extends h.Vue{mounted(){console.log(`%c mina framework started. %c version: ${y.glob.config.version} %c`,"background:#05B ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#0072C6 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent")}};b=o.__decorate([h.Component({components:{FormView:v.default,BrowseFile:m.default,ProgressBar:p.default,ContextMenu:d.default,QuestionBox:u.default,WebSocket:c.default,NotifyBox:l.default,FileGallery:s.default,FormElem:a.default,Toolbar:f.default,SideNav:n.default,NavBar:i.default}})],b),t.default=b},"78cf":function(e,t,r){"use strict";r.r(t);var o=r("aa30"),n=r("cee1");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"830b6d36",null);t["default"]=s.exports},"79ce":function(e,t,r){"use strict";r.r(t);var o=r("9609"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"7a8d":function(e,t,r){"use strict";r.r(t);var o=r("f4fb"),n=r("c1ba");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"7b98":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{};i=o.__decorate([n.Component],i),t.default=i},"7c7f":function(e,t,r){"use strict";r.r(t);var o=r("ec7d"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"7f63":function(e,t,r){},"7f98":function(e,t,r){"use strict";var o=r("65f4"),n=r.n(o);n.a},"7fae":function(e,t,r){"use strict";r.r(t);var o=r("366c"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},8133:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"ctrl",class:e.styles+" prop-reference ref-multi pr-3",attrs:{tabindex:"1"},on:{focus:e.focus}},[e._l(e.items,(function(t){return r("div",{staticClass:"rounded-lg rmI d-inline-block mr-1 my-1 px-1 border text-nowrap"},[r("i",{staticClass:"text-black-50 rmD fa fa-times",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.remove(t)}}}),r("span",{staticClass:"rmV"},[e._v(e._s(t.title))])])})),r("textarea",{staticClass:"w-100 bg-transparent align-middle rmT d-inline border-0",attrs:{rows:"1",spellcheck:"false",autocomplete:"off",autocorrect:"off",autocapitalize:"off",tabindex:"1"},on:{click:function(t){return e.showDropDown(e.prop._.items)},blur:e.refreshText,input:function(t){return e.update()}}})],2)},n=[]},8233:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"el",staticClass:"d-block w-100 border-0",attrs:{contenteditable:"true"},on:{input:e.updateHTML}})},n=[]},"840b":function(e,t,r){"use strict";r.r(t);var o=r("106e"),n=r("08a6");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("c815");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},8445:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{}t.AuditArgs=o;class n{}t.Role=n;class i{constructor(){this.roles=[],this.disabled=!1}}t.User=i;class a{}t.AuditType=a;class s{constructor(){this.dbs={},this.packageInfo={},this.appConfig={},this.clientQuestionCallbacks={}}}t.Global=s;class l{}t.Entity=l;class c extends l{}t.mObject=c;class u extends l{}t.Function=u;class d extends l{constructor(e){super(),this.elems=[],this._={db:e}}}t.Form=d;class f{constructor(){this.breadcrumb=[],this.toolbar=!1,this.elems=[],this.declarations={}}}t.FormDto=f;class p{}t.ObjectModifyState=p,function(e){e[e["Update"]=1]="Update",e[e["Insert"]=2]="Insert",e[e["Patch"]=3]="Patch",e[e["Delete"]=4]="Delete"}(t.ObjectModifyType||(t.ObjectModifyType={}));class m{}t.Property=m;class h{}t.Drive=h;class y{}t.FunctionTestSample=y;class v{}t.EntityLink=v,function(e){e[e["GridView"]=1]="GridView",e[e["DetailsView"]=2]="DetailsView",e[e["TreeView"]=3]="TreeView"}(t.ObjectViewType||(t.ObjectViewType={}));class b{}t.Elem=b;class _ extends Error{constructor(e,t){super(),this.code=e,this.message=t,this.toString=()=>`error (${this.code}) ${this.message||""}`}}t.ErrorObject=_;class g{}t.ChartSeries=g;class w{}t.Access=w;class x{}t.AccessItem=x;class C{}t.Menu=C;class k{}t.MenuItem=k;class P{}t.Pair=P;class T{}t.App=T;class ${}t.SystemConfigStaticPackage=$;class j{}t.Host=j;class O{}t.Enum=O;class E{}t.EnumItem=E;class S{}t.MultilangText=S;class M{}t.SmsAccount=M;class R{}t.EmailAccount=R;class F{}t.PackageConfig=F;class D{}t.SystemConfig=D;class A{}t.PackageInfo=A,function(e){e["StaticWebsite"]="static-website",e["Code"]="code"}(t.PackageType||(t.PackageType={}));class V{}t.PackageAddressRule=V;class G{}t.mFile=G;class I{}t.Text=I;class q{}t.TimeZone=q;class L{}t.RefPortion=L;class N{}t.GeoLocation=N;class U{}t.PutOptions=U;class z{}t.PatchOptions=z;class B{}t.DelOptions=B;class H{}t.GetOptions=H,function(e){e[e["Ok"]=200]="Ok",e[e["Accepted"]=202]="Accepted",e[e["ResetContent"]=205]="ResetContent",e[e["MovedPermanently"]=301]="MovedPermanently",e[e["MovedTemporarily"]=302]="MovedTemporarily",e[e["BadRequest"]=400]="BadRequest",e[e["Unauthorized"]=401]="Unauthorized",e[e["PaymentRequired"]=402]="PaymentRequired",e[e["Forbidden"]=403]="Forbidden",e[e["NotFound"]=404]="NotFound",e[e["MethodNotAllowed"]=405]="MethodNotAllowed",e[e["NotAcceptable"]=406]="NotAcceptable",e[e["RequestTimeout"]=408]="RequestTimeout",e[e["Gone"]=410]="Gone",e[e["RequestEntityTooLarge"]=413]="RequestEntityTooLarge",e[e["RequestedRangeNotSatisfiable"]=416]="RequestedRangeNotSatisfiable",e[e["ExpectationFailed"]=417]="ExpectationFailed",e[e["UnprocessableEntity"]=422]="UnprocessableEntity",e[e["UpgradeRequired"]=426]="UpgradeRequired",e[e["PreconditionRequired"]=428]="PreconditionRequired",e[e["TooManyRequests"]=429]="TooManyRequests",e[e["UnavailableForLegalReasons"]=451]="UnavailableForLegalReasons",e[e["ServerError"]=500]="ServerError",e[e["NotImplemented"]=501]="NotImplemented",e[e["ServiceUnavailable"]=503]="ServiceUnavailable",e[e["NetworkAuthenticationRequired"]=511]="NetworkAuthenticationRequired",e[e["UnknownError"]=1001]="UnknownError",e[e["ConfigurationProblem"]=1002]="ConfigurationProblem"}(t.StatusCode||(t.StatusCode={}));class K{}t.UploadedFile=K,function(e){e[e["Fatal"]=0]="Fatal",e[e["Error"]=3]="Error",e[e["Warning"]=4]="Warning",e[e["Info"]=6]="Info",e[e["Debug"]=7]="Debug",e[e["Silly"]=8]="Silly"}(t.LogType||(t.LogType={})),function(e){e[e["Auto"]=0]="Auto",e[e["Help"]=1]="Help"}(t.LinkType||(t.LinkType={})),function(e){e[e["Stack"]=1]="Stack",e[e["Dock"]=2]="Dock",e[e["Wrap"]=4]="Wrap",e[e["Flex"]=5]="Flex",e[e["Modal"]=6]="Modal"}(t.PanelType||(t.PanelType={})),function(e){e[e["Horizontal"]=1]="Horizontal",e[e["Vertical"]=2]="Vertical"}(t.Orientation||(t.Orientation={})),function(e){e[e["Text"]=1]="Text",e[e["Panel"]=2]="Panel",e[e["Property"]=3]="Property",e[e["Object"]=4]="Object",e[e["Function"]=5]="Function",e[e["Image"]=6]="Image",e[e["Map"]=7]="Map",e[e["Chart"]=8]="Chart",e[e["Viewer"]=9]="Viewer",e[e["Component"]=10]="Component",e[e["Tree"]=11]="Tree",e[e["Document"]=12]="Document",e[e["View"]=13]="View"}(t.ElemType||(t.ElemType={})),function(e){e[e["Object"]=1]="Object",e[e["Function"]=2]="Function",e[e["Form"]=3]="Form",e[e["File"]=4]="File"}(t.EntityType||(t.EntityType={})),function(e){e[e["None"]=0]="None",e[e["View"]=1]="View",e[e["NewItem"]=2]="NewItem",e[e["DeleteItem"]=3]="DeleteItem",e[e["Edit"]=4]="Edit",e[e["Full"]=8]="Full"}(t.AccessPermission||(t.AccessPermission={})),function(e){e[e["Visible"]=0]="Visible",e[e["DetailViewVisible"]=1]="DetailViewVisible",e[e["Hidden"]=2]="Hidden"}(t.PropertyViewMode||(t.PropertyViewMode={})),function(e){e[e["Readonly"]=3]="Readonly",e[e["OnceOnly"]=4]="OnceOnly"}(t.PropertyEditMode||(t.PropertyEditMode={})),function(e){e[e["left"]=37]="left",e[e["right"]=39]="right",e[e["up"]=38]="up",e[e["down"]=40]="down",e[e["enter"]=13]="enter",e[e["esc"]=27]="esc",e[e["tab"]=9]="tab",e[e["del"]=46]="del",e[e["backspace"]=8]="backspace",e[e["shift"]=16]="shift",e[e["ctrl"]=17]="ctrl",e[e["alt"]=18]="alt",e[e["space"]=32]="space",e[e["f1"]=112]="f1",e[e["f2"]=113]="f2",e[e["f3"]=114]="f3",e[e["f4"]=115]="f4",e[e["f5"]=116]="f5",e[e["f6"]=117]="f6",e[e["f7"]=118]="f7",e[e["f8"]=119]="f8",e[e["f9"]=120]="f9",e[e["f10"]=121]="f10",e[e["f11"]=122]="f11",e[e["f12"]=123]="f12",e[e["s"]=83]="s",e[e["t"]=84]="t",e[e["u"]=85]="u",e[e["v"]=86]="v",e[e["w"]=87]="w",e[e["x"]=88]="x",e[e["y"]=89]="y",e[e["z"]=90]="z",e[e["m"]=77]="m",e[e["q"]=81]="q",e[e["num_8"]=104]="num_8",e[e["num_2"]=98]="num_2"}(t.Keys||(t.Keys={})),function(e){e[e["en"]=1033]="en",e[e["ar"]=1025]="ar",e[e["fa"]=1065]="fa",e[e["fr"]=1036]="fr",e[e["de"]=1031]="de",e[e["it"]=1040]="it",e[e["ru"]=1049]="ru",e[e["sl"]=1060]="sl",e[e["tr"]=1055]="tr",e[e["pt"]=1046]="pt",e[e["zh"]=2052]="zh",e[e["es"]=3082]="es",e[e["hi"]=1081]="hi",e[e["ja"]=1041]="ja",e[e["ko"]=1042]="ko"}(t.Locale||(t.Locale={})),function(e){e[e["Db"]=1]="Db",e[e["File"]=2]="File",e[e["Memory"]=3]="Memory",e[e["Redis"]=4]="Redis",e[e["Ftp"]=5]="Ftp",e[e["Rest"]=6]="Rest",e[e["Soap"]=7]="Soap",e[e["Kafka"]=8]="Kafka",e[e["S3"]=9]="S3"}(t.SourceType||(t.SourceType={})),function(e){e[e["OpenDialog"]=1]="OpenDialog",e[e["OpenPage"]=2]="OpenPage",e[e["Run"]=3]="Run"}(t.FunctionMode||(t.FunctionMode={})),function(e){e[e["always"]=1]="always",e[e["hourly"]=2]="hourly",e[e["daily"]=3]="daily",e[e["weekly"]=4]="weekly",e[e["monthly"]=5]="monthly",e[e["yearly"]=6]="yearly",e[e["never"]=7]="never"}(t.ChangeFrequency||(t.ChangeFrequency={})),function(e){e[e["inline"]=0]="inline",e[e["newPage"]=1]="newPage",e[e["modal"]=2]="modal"}(t.NewItemMode||(t.NewItemMode={})),function(e){e[e["inlineData"]=9]="inlineData",e[e["outbound"]=5]="outbound",e[e["select"]=10]="select"}(t.PropertyReferType||(t.PropertyReferType={})),function(e){e[e["unknown"]=0]="unknown",e[e["number"]=1]="number",e[e["string"]=2]="string",e[e["boolean"]=3]="boolean",e[e["time"]=4]="time",e[e["location"]=5]="location",e[e["id"]=6]="id",e[e["object"]=7]="object",e[e["file"]=8]="file"}(t.GlobalType||(t.GlobalType={})),function(e){e[e["entity"]=1]="entity",e[e["property"]=2]="property",e[e["item"]=3]="item",e[e["file"]=4]="file"}(t.RefPortionType||(t.RefPortionType={})),function(e){e[e["yearMonthDayHourMinute"]=1]="yearMonthDayHourMinute",e[e["hourMinute"]=2]="hourMinute",e[e["dateWithDayOfWeek"]=3]="dateWithDayOfWeek",e[e["friendlyDate"]=4]="friendlyDate"}(t.TimeFormat||(t.TimeFormat={})),function(e){e[e["similar"]=0]="similar",e[e["filter"]=1]="filter",e[e["aggregate"]=2]="aggregate",e[e["value"]=3]="value"}(t.ObjectReferType||(t.ObjectReferType={})),function(e){e[e["Permanent"]=0]="Permanent"}(t.RedirectType||(t.RedirectType={})),function(e){e["audits"]="audits",e["users"]="users",e["dictionary"]="dictionary",e["objects"]="objects",e["functions"]="functions",e["roles"]="roles",e["appConfig"]="appConfig",e["systemConfig"]="systemConfig",e["hosts"]="hosts",e["menus"]="menus",e["drives"]="drives",e["forms"]="forms",e["auditTypes"]="auditTypes",e["enums"]="enums"}(t.SysCollection||(t.SysCollection={})),function(e){e["addItem"]="5d7b8fbd10f5321b74a1b83b",e["edit"]="5d7b91d410f5321b74a1b83c",e["deleteItem"]="5d7b91e810f5321b74a1b83d",e["login"]="5d7b91f710f5321b74a1b83e",e["logout"]="5d7b920410f5321b74a1b83f",e["start"]="5d7b920d10f5321b74a1b840",e["stop"]="5d7b921b10f5321b74a1b841",e["uncaughtException"]="5d7b922910f5321b74a1b842",e["unhandledRejection"]="5d7b923510f5321b74a1b843",e["tryNotAllowedModify"]="5d7b920d10f5321b74a1b840"}(t.SysAuditTypes||(t.SysAuditTypes={})),function(e){e["title"]="title",e["name"]="name",e["time"]="time",e["comment"]="comment"}(t.SystemProperty||(t.SystemProperty={}));class W{}t.EmbeddedInfo=W,function(e){e["text"]="589f2d8bb16c7523543ae1b0",e["number"]="589f2d8bb16c7523543ae1b3",e["boolean"]="589f2d8bb16c7523543ae1b9",e["time"]="589f2d8bb16c7523543ae1b6",e["reference"]="589f2d8bb16c7523543ae1cb",e["location"]="58a18d9c70c25e0c30930287",e["file"]="589f2d8bb16c7523543ae1c2",e["obj"]="5e2562d9a3c257129832b75f"}(t.PType||(t.PType={})),function(e){e[e["index"]=0]="index",e[e["empty"]=1]="empty",e[e["select"]=2]="select"}(t.GridRowHeaderStyle||(t.GridRowHeaderStyle={})),t.Constants={urlPortionApi:"api",sysDb:"sys",defaultAddress:"_default",indexProperty:"_z",defaultLoginUri:"login",amazonS3ApiVersion:"2006-03-01",mongodbPoolSize:10,mainDbSourceName:"db",systemPropertiesObjectName:"systemProperties",timeZonesCollection:"timeZones"},function(e){e[e["Visible"]=1]="Visible",e[e["Enable"]=2]="Enable"}(t.PropertyConditionBehavior||(t.PropertyConditionBehavior={})),function(e){e[e["None"]=0]="None",e[e["View"]=1]="View",e[e["Full"]=8]="Full"}(t.DefaultPermission||(t.DefaultPermission={})),function(e){e["Development"]="development",e["Production"]="production"}(t.EnvMode||(t.EnvMode={})),function(e){e[e["inline"]=1]="inline",e[e["download"]=2]="download",e[e["api"]=3]="api",e[e["inlineDev"]=4]="inlineDev"}(t.RequestMode||(t.RequestMode={}));class Q{}t.WebResponse=Q;class J{constructor(){this.version="",this.appTitle="",this.brandingLogo="",this.locale=null,this.defaultLocale=null,this.appLocales=[],this.loginRef="",this.loginTitle="",this.interactive=!1,this.menu=[],this.navmenu=[]}}t.AppStateConfig=J,function(e){e["get"]="GET",e["post"]="POST",e["put"]="PUT",e["patch"]="PATCH",e["del"]="DELETE"}(t.WebMethod||(t.WebMethod={}));class Y{}t.UnitTestObject=Y,function(e){e[e["Gallery"]=1]="Gallery",e[e["NonSelectable"]=2]="NonSelectable"}(t.DriveMode||(t.DriveMode={})),function(e){e[e["File"]=1]="File",e[e["Folder"]=2]="Folder"}(t.DirFileType||(t.DirFileType={}));class X{}t.DirFile=X,function(e){e[e["Notification"]=1]="Notification",e[e["Log"]=2]="Log",e[e["Question"]=3]="Question",e[e["Answer"]=4]="Answer",e[e["FunctionDone"]=5]="FunctionDone",e[e["FunctionFailed"]=6]="FunctionFailed",e[e["Ping"]=7]="Ping",e[e["PingAck"]=8]="PingAck",e[e["Download"]=9]="Download"}(t.ClientCommand||(t.ClientCommand={})),function(e){e[e["Grouped"]=1]="Grouped",e[e["Tabular"]=2]="Tabular",e[e["Simple"]=3]="Simple",e[e["Wizard"]=4]="Wizard"}(t.ObjectDetailsViewType||(t.ObjectDetailsViewType={})),function(e){e[e["Grid"]=1]="Grid",e[e["Card"]=2]="Card",e[e["Column"]=3]="Column"}(t.ObjectListsViewType||(t.ObjectListsViewType={})),function(e){e[e["Yes"]=1]="Yes",e[e["No"]=2]="No"}(t.YesNo||(t.YesNo={}));class Z{}t.Context=Z;class ee{}t.AjaxConfig=ee;class te{}t.NotificationInfo=te;class re{}t.EntityMeta=re;class oe{}t.ObjectDec=oe;class ne{}t.FunctionDec=ne,function(e){e["query"]="q",e["version"]="v",e["locale"]="e",e["page"]="p",e["cache"]="c",e["sort"]="s",e["mode"]="m",e["functionType"]="f"}(t.ReqParams||(t.ReqParams={}));class ie{}t.ApiDocParameter=ie;class ae{}t.ApiDocOperation=ae;class se{constructor(){this.operations=[]}}t.ApiDocBlock=se;class le{}t.ApiDocSchema=le;class ce{}t.ApiDocEnum=ce;class ue{constructor(){this.blocks=[],this.schemas=[],this.enums=[]}}t.ApiDoc=ue},8556:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{};o.__decorate([n.Prop()],i.prototype,"message",void 0),i=o.__decorate([n.Component],i),t.default=i},"86ae":function(e,t,r){},8771:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("cd49"),a=r("8445"),s=r("a76d"),l=o.__importStar(r("cd49")),c=o.__importDefault(r("474f"));let u=class extends n.Vue{get glob(){return i.glob}isSelected(e){return i.glob.fileGallery.selected==e}openRootMenu(e){e.preventDefault();let t=[{ref:"upload",title:i.$t("upload")},{title:"-"},{ref:"refresh",title:i.$t("refresh")}];l.showCmenu(null,t,e,(e,t)=>{switch(t.ref){case"upload":this.upload();break;case"refresh":l.refreshFileGallery();break}})}upload(){l.browseFile(e=>{l.ajax("/uploadToFileGallery?m=1",{drive:i.glob.fileGallery.drive._id,path:i.glob.fileGallery.path},{files:e},e=>{l.refreshFileGallery(),l.notify("upload done!",a.LogType.Debug)})})}removeFile(e){l.question(null,`### Delete Confirm\n\nAre you sure you want to delete the file '${e}'`,[{title:"YES",ref:a.YesNo.Yes},{title:"NO",ref:a.YesNo.No}],t=>{t&&t.ref!=a.YesNo.No&&l.ajax("/deleteFromFileGallery?m=1",{drive:i.glob.fileGallery.drive._id,pth:i.glob.fileGallery.path,name:e},null,()=>l.refreshFileGallery())})}openMenu(e,t){if(t.type==a.DirFileType.Folder)return;let r=[{ref:"preview",title:i.$t("preview")},{ref:"download",title:i.$t("download")},{title:"-"},{ref:"remove",title:i.$t("remove")},{title:"-"},{ref:"refresh",title:i.$t("refresh")}];l.showCmenu(t,r,e,(e,r)=>{switch(r.ref){case"remove":this.removeFile(t.name);break;case"preview":case"download":window.open(l.joinUri(i.glob.fileGallery.uri,t.name),"_blank");break;case"refresh":l.refreshFileGallery();break;case"rename":t["editing"]=!0,console.log(t);break}}),e.stopPropagation(),e.preventDefault()}isImage(e){let t=e.name.split(".").pop().toLowerCase();return s.Constants.imageExtensions.includes(t)}size(e){return e.size?"("+l.toFriendlyFileSizeString(e.size)+")":""}icon(e){const t="/@sys-ui/images/gallery/";if(e.type==a.DirFileType.Folder)return t+"folder2.png";let r=e.name.split(".").pop().toLowerCase();if(s.Constants.imageExtensions.includes(r))return l.joinUri(i.glob.fileGallery.uri,e.name);switch(r){case"doc":case"docx":return t+"doc.png";case"exe":return t+"exe.png";case"mp3":case"wav":return t+"music.png";case"pdf":return t+"pdf.png";case"avi":case"mp4":case"mov":return t+"play.png";case"zip":return t+"zip.png";case"xml":return t+"xml.png";default:return t+"file.png"}}browse(e){i.glob.fileGallery.fixedPath?l.notify("Current directory Can not be changed!",a.LogType.Debug):(i.glob.fileGallery.path=e,l.refreshFileGallery())}select(e,t){console.log(1),i.glob.fileGallery.show=!1,t&&(i.glob.fileGallery.selected=t),e.stopProgress&&e.stopProgress(),i.glob.fileGallery.selected&&i.glob.fileGallery.selected.type==a.DirFileType.Folder?(i.glob.fileGallery.path=l.joinUri(i.glob.fileGallery.path,i.glob.fileGallery.selected.name),l.refreshFileGallery(null)):(i.glob.fileGallery.show=!1,i.glob.fileGallery.fileSelectCallback(i.glob.fileGallery.path,i.glob.fileGallery.selected))}close(e){i.glob.fileGallery.show=!1,e.stopProgress()}focus(e){i.glob.fileGallery.selected=e}get breadcrumb(){if(i.glob.fileGallery.fixedPath)return[];let e=i.glob.fileGallery.path.split("/").filter(e=>e),t=[];return e.forEach((e,r)=>t.push({title:e,ref:""})),t.length>0&&t.unshift({title:l.getText(i.glob.fileGallery.drive.name),ref:""}),t.pop(),t}get files(){return i.glob.fileGallery.fixedPath&&(i.glob.fileGallery.list=i.glob.fileGallery.list.filter(e=>e.type==a.DirFileType.File)),i.glob.fileGallery.list.sort((e,t)=>t.type-e.type),i.glob.fileGallery.list.forEach(e=>e["editing"]=!1),i.glob.fileGallery.list}get current(){if(i.glob.fileGallery.fixedPath)return l.getText(i.glob.fileGallery.drive.name)+` (${i.glob.fileGallery.path})`;{let e=i.glob.fileGallery.path.split("/").filter(e=>e);return 0==e.length?l.getText(i.glob.fileGallery.drive.name):e.pop()}}};u=o.__decorate([n.Component({components:{Function:c.default}})],u),t.default=u},8875:function(e,t,r){var o,n,i;(function(r,a){n=[],o=a,i="function"===typeof o?o.apply(t,n):o,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(d){var e,t,r,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,n=/@([^@]*):(\d+):(\d+)\s*$/gi,i=o.exec(d.stack)||n.exec(d.stack),a=i&&i[1]||!1,s=i&&i[2]||!1,l=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");a===l&&(e=document.documentElement.outerHTML,t=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=e.replace(t,"$1").trim());for(var u=0;u<c.length;u++){if("interactive"===c[u].readyState)return c[u];if(c[u].src===a)return c[u];if(a===l&&c[u].innerHTML&&c[u].innerHTML.trim()===r)return c[u]}return null}}return e}))},"8bbf":function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__8bbf__},"8cb5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("a76d");let a=class extends n.Vue{mounted(){let e={labels:[],datasets:[]};e.labels=this.data.series.map(e=>e.x);let t={backgroundColor:i.ChartColors[0],data:[],label:this.data.title,type:this.data.type};this.data.series.forEach((function(e){t.data.push(e.y)})),e.datasets.push(t);let r=this.$refs.canvas.getContext("2d");new Chart(r,{type:"bar",data:e,options:{legend:{display:!0,labels:{fontFamily:"calibri"}},responsive:!0,tooltips:{mode:"index",intersect:!0,titleFontFamily:"calibri",titleMarginBottom:15,bodyFontFamily:"calibri"},pointLabels:{fontFamily:"calibri"}}}),r.font="tahoma"}};o.__decorate([n.Prop()],a.prototype,"data",void 0),a=o.__decorate([n.Component],a),t.default=a},"8de4":function(e,t,r){"use strict";r.r(t);var o=r("cbce"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"8f20":function(e,t,r){"use strict";r.r(t);var o=r("049b"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},9508:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{class:"d-block border-0 "+e.styles,domProps:{innerHTML:e._s(e.html)}})},n=[]},9587:function(e,t,r){},9609:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("8445"),a=r("cd49"),s=o.__importDefault(r("714b"));let l=class extends n.Vue{render(e){let t=this.elem.panel,r=t.elems||[];switch(t.type){case i.PanelType.Modal:let o=r.filter(e=>e.type!==i.ElemType.Function),n=r.filter(e=>e.type===i.ElemType.Function);return a.glob.modal=!0,e("modal",{props:{title:this.elem.title,bodyElems:o,footerElems:n}});case i.PanelType.Stack:{let o=r.map(t=>e("form-elem",{props:{elem:t}})),n=t.stack&&t.stack.orientation==i.Orientation.Horizontal;return e("div",{attrs:{class:"d-flex "+(n?"flex-row":"flex-column")+" "+this.elem.styles}},o)}case i.PanelType.Wrap:{let t=r.map(t=>e("form-elem",{props:{elem:t}}));return e("div",{attrs:{class:this.elem.styles}},t)}case i.PanelType.Flex:{let t=r.map(t=>e("form-elem",{props:{elem:t}}));return e("div",{attrs:{class:"d-flex "+this.elem.styles}},t)}}return e("div")}};o.__decorate([n.Prop()],l.prototype,"elem",void 0),l=o.__decorate([n.Component({components:{Modal:s.default}})],l),t.default=l},"970f":function(e,t,r){"use strict";var o=r("3978"),n=r.n(o);n.a},9789:function(e,t,r){"use strict";var o=r("1ec2"),n=r.n(o);n.a},"99b8":function(e,t,r){"use strict";r.r(t);var o=r("5636"),n=r("dff2");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("fa42");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},"9ab4":function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return n})),r.d(t,"__assign",(function(){return i})),r.d(t,"__rest",(function(){return a})),r.d(t,"__decorate",(function(){return s})),r.d(t,"__param",(function(){return l})),r.d(t,"__metadata",(function(){return c})),r.d(t,"__awaiter",(function(){return u})),r.d(t,"__generator",(function(){return d})),r.d(t,"__exportStar",(function(){return f})),r.d(t,"__values",(function(){return p})),r.d(t,"__read",(function(){return m})),r.d(t,"__spread",(function(){return h})),r.d(t,"__spreadArrays",(function(){return y})),r.d(t,"__await",(function(){return v})),r.d(t,"__asyncGenerator",(function(){return b})),r.d(t,"__asyncDelegator",(function(){return _})),r.d(t,"__asyncValues",(function(){return g})),r.d(t,"__makeTemplateObject",(function(){return w})),r.d(t,"__importStar",(function(){return x})),r.d(t,"__importDefault",(function(){return C})),r.d(t,"__classPrivateFieldGet",(function(){return k})),r.d(t,"__classPrivateFieldSet",(function(){return P}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},o(e,t)};function n(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};function a(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}function s(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function l(e,t){return function(r,o){t(r,o,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,o){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(t){i(t)}}function s(e){try{l(o["throw"](e))}catch(t){i(t)}}function l(e){e.done?r(e.value):n(e.value).then(a,s)}l((o=o.apply(e,t||[])).next())}))}function d(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return l([e,t])}}function l(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,o&&(n=2&i[0]?o["return"]:i[0]?o["throw"]||((n=o["return"])&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function f(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=i.next()).done)a.push(o.value)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(n)throw n.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,n++)o[n]=i[a];return o}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){n[e]&&(o[e]=function(t){return new Promise((function(r,o){i.push([e,t,r,o])>1||s(e,t)}))})}function s(e,t){try{l(n[e](t))}catch(r){d(i[0][3],r)}}function l(e){e.value instanceof v?Promise.resolve(e.value.v).then(c,u):d(i[0][2],e)}function c(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,r;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,n){t[o]=e[o]?function(t){return(r=!r)?{value:v(e[o](t)),done:"return"===o}:n?n(t):t}:n}}function g(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"===typeof p?p(e):e[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(r){t[r]=e[r]&&function(t){return new Promise((function(o,i){t=e[r](t),n(o,i,t.done,t.value)}))}}function n(e,t,r,o){Promise.resolve(o).then((function(t){e({value:t,done:r})}),t)}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},"9aba":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.progress?r("div",{staticClass:"progress"},[r("div",{staticClass:"progress-bar",style:{width:e.glob.progress+"%"},attrs:{role:"progressbar","aria-valuenow":e.glob.progress,"aria-valuemin":"0","aria-valuemax":"100"}})]):e._e()},n=[]},"9b3a":function(e,t,r){"use strict";r.r(t);var o=r("5223"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"9c0c":function(e,t,r){},"9c97":function(e,t,r){"use strict";r.r(t);var o=r("79ce");for(var n in o)"default"!==n&&function(e){r.d(t,e,(function(){return o[e]}))}(n);var i,a,s=r("2877"),l=Object(s["a"])(o["default"],i,a,!1,null,null,null);t["default"]=l.exports},"9ca0":function(e,t,r){"use strict";r.r(t);var o=r("8cb5"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"9e87":function(e,t,r){"use strict";r.r(t);var o=r("41ed"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},a258:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{class:{highlight:e.meta.marked},on:{click:e.click}},[e.selectable?r("th",{staticClass:"text-center",attrs:{scope:"row"}},[r("CheckBox",{attrs:{checked:e.meta.marked}})],1):r("th",{staticClass:"text-center",on:{click:e.headerClick}}),e._l(e.item._.dec.properties,(function(t,o){return r("td",[r("Prop",{attrs:{item:e.item,prop:t,viewType:1,indexInGrid:o},on:{focus:e.focused,changed:e.changed,keydown:e.keydown}})],1)}))],2)},n=[]},a2b9:function(e,t,r){"use strict";r.r(t);var o=r("e467"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},a3ca:function(e,t,r){"use strict";var o=r("e9d7"),n=r.n(o);n.a},a402:function(e,t,r){"use strict";r.r(t);var o=r("3d70"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},a461:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("textarea",{class:{"prop-document-editor col-md-8 border":!0,"border-danger":e.hasError},attrs:{wrap:"off",autocorrect:"off",spellcheck:"false",autocapitalize:"off"},domProps:{value:e.value},on:{blur:e.blur,keydown:e.keydown}})},n=[]},a5bc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("cd49"),a=r("a76d"),s=o.__importDefault(r("cf6c")),l=o.__importDefault(r("ab34")),c=r("e144"),u=o.__importStar(r("cd49")),d=r("8445"),f=o.__importDefault(r("c321"));let p=class extends n.Vue{constructor(){super(...arguments),this.rowHeaderStyle=d.GridRowHeaderStyle.empty,this.mainChecked=!1}get items(){return this.$store.state.data[this.uri]||[]}mainCheckChange(e){this.mainChecked=e.val,e.val?this.selectAll():(this.rowHeaderStyle=d.GridRowHeaderStyle.empty,this.deselectAll())}changed(e){u.dispatchStoreModify(this,{type:a.ChangeType.EditProp,prop:e.prop,value:e.val,item:e.item,uri:this.uri+"/"+u.getBsonId(e.item),vue:e.vue})}keydown(e){if(e&&e.event)switch(e.event.which){case d.Keys.esc:break;case d.Keys.up:case d.Keys.down:case d.Keys.enter:let t=$(e.event.target),r=t.closest("td")[0].cellIndex,o=t.closest("tr")[0].rowIndex+(e.event.which==d.Keys.up?-1:1),n=t.closest("table");if(e.event.which==d.Keys.enter&&o==n[0].rows.length-1)this.insert();else if(o<=0||o>=n[0].rows.length-1)return;setTimeout(()=>{let e=n[0].rows[o],t=e.cells[r].firstChild;e.click(),t.focus()},0),e.event.ctrlKey&&(e.event.which==d.Keys.up&&this.rowMove(!0,this.uri),e.event.which==d.Keys.down&&this.rowMove(!1,this.uri));break}}insert(){switch(this.dec.newItemMode){case d.NewItemMode.newPage:u.load(location.pathname+"?n=1",!0);break;default:let e={_id:c.v4(),_:{marked:!1,dec:this.dec}};this.dec.properties.forEach(t=>e[t.name]=null),this.dec.reorderable&&(e["_z"]=(Math.max(...this.items.map(e=>e._z))||0)+1),u.dispatchStoreModify(this,{type:a.ChangeType.InsertItem,item:e,uri:this.uri,vue:this});break;case d.NewItemMode.modal:u.notify("not supported!",d.LogType.Error);break}}goBack(){if(this.dec.page>1){let e=u.setQs(d.ReqParams.page,this.dec.page-1,!0);u.load(e)}}goForward(){if(this.dec.page<this.dec.pages){let e=u.setQs(d.ReqParams.page,this.dec.page+1,!0);u.load(e)}}showColumnMenu(e,t){let r=[{ref:"sort",title:i.$t("sort")}];u.showCmenu(e,r,t,(e,t)=>{if(u.hideCmenu(),t)switch(t.ref){case"sort":let t=u.getQs(d.ReqParams.sort),r=(t&&-1==t.indexOf("-")?"-":"")+e.name,o=u.setQs(d.ReqParams.sort,r,!0);u.load(o,!0);break;case"filter":break}})}deleteItems(){let e=this.items.filter(e=>e._.marked);for(let t of e)u.dispatchStoreModify(this,{type:a.ChangeType.DeleteItem,uri:this.dec.ref,item:t,vue:this});this.rowHeaderStyle=d.GridRowHeaderStyle.empty}onScroll(){u.hideCmenu()}selectAll(){this.rowHeaderStyle=d.GridRowHeaderStyle.select,this.items.forEach(e=>e._.marked=!0)}deselectAll(e){this.items.forEach(e=>e._.marked=!1),e&&(e._.marked=!0)}rowSelected(e){this.mainChecked=!1,this.rowHeaderStyle==d.GridRowHeaderStyle.select?e.item._.marked=!e.item._.marked:this.deselectAll(e.item)}showRowMenu(e){let t=[{ref:"select",title:i.$t("select")},{ref:"select-all",title:i.$t("select-all")},{ref:null,title:"-"},{ref:"delete",title:i.$t("delete")}];e.item._id&&u.getBsonId(e.item)&&(this.root&&t.unshift({ref:"tree",title:i.$t("tree-view")}),t.unshift({ref:"details",title:i.$t("details")})),this.dec.reorderable&&(t.push({ref:null,title:"-"}),t.push({ref:"move-up",title:i.$t("row-move-up")}),t.push({ref:"move-down",title:i.$t("row-move-down")})),u.showCmenu(e.item,t,e.event,(e,t)=>{if(u.hideCmenu(),t)switch(t.ref){case"delete":this.deleteItems();break;case"details":{if(!e._id)return u.notify("ID is expected, please check the item data!",d.LogType.Error),void console.error(e);let t=u.prepareServerUrl(`${this.dec.ref}/${u.getBsonId(e)}`);u.load(t,!0);break}case"tree":{if(!e._id)return u.notify("ID is expected, please check the item data!",d.LogType.Error),void console.error(e);let t=u.prepareServerUrl(`${this.dec.ref}/${u.getBsonId(e)}?t=${d.ObjectViewType.TreeView}`);u.load(t,!0);break}case"select":this.rowHeaderStyle=d.GridRowHeaderStyle.select;break;case"select-all":this.selectAll();break;case"move-up":this.rowMove(!0,this.uri);break;case"move-down":this.rowMove(!1,this.uri);break}}),this.deselectAll(e.item)}rowMove(e,t){console.log(1),u.commitReorderItems(this.$store,this.items,e,t)}};o.__decorate([n.Prop()],p.prototype,"uri",void 0),o.__decorate([n.Prop()],p.prototype,"root",void 0),o.__decorate([n.Prop()],p.prototype,"dec",void 0),p=o.__decorate([n.Component({components:{CheckBox:f.default,GridViewRow:s.default,FilterItem:l.default}})],p),t.default=p},a76d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("8445");t.Constants={redirectBack:"_back",redirectSelf:"_self",notifyEvent:"notify",defaultAddress:"/_default",questionEvent:"question",contextMenuVisibleItems:10,delayToStartProgressBar:300,imageExtensions:["png","tiff","ico","gif","jpg","jpeg"],uniqueFilenameRegex:/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}__/},t.ChartColors=["rgba(54, 162, 235, 0.8)","rgba(255, 99, 132, 0.8)","rgba(75, 192, 192, 0.8)","rgba(255, 159, 64, 0.8)","rgba(255, 205, 86, 0.8)","rgba(153, 102, 255, 0.8)","rgba(231,233,237, 0.8)"];class n{}t.HeadFunc=n;class i{}t.MenuItem=i;class a{}t.StateChange=a,function(e){e[e["EditProp"]=1]="EditProp",e[e["InsertItem"]=2]="InsertItem",e[e["DeleteItem"]=3]="DeleteItem",e[e["EditFileProp"]=4]="EditFileProp"}(t.ChangeType||(t.ChangeType={}));class s{constructor(){this.show=!1}}t.AppStateGeoMap=s;class l{}t.PropEventArg=l;class c{}t.ItemEventArg=c;class u{}t.FunctionExecEventArg=u;class d{}t.ItemChangeEventArg=d;class f{constructor(){this.show=!1,this.items=[],this.left=0,this.top=0}}t.AppStateCmenu=f,function(e){e[e["Hidden"]=1]="Hidden",e[e["Visible"]=2]="Visible"}(t.PropertyLabelMode||(t.PropertyLabelMode={}));class p{}t.TreeViewNode=p;class m{}t.TreeViewLine=m;class h{}t.TreeViewAttribute=h;class y{constructor(){this.question=new g,this.fileGallery=new b,this.logs=[],this.modal=!1,this.headFuncs=[],this.config=new o.AppStateConfig,this.dirty=!1,this.notify=null,this.cmenu=new f,this.geoMap=new s,this.modifies=[],this.progress=null,this.newItemButton=null}}t.Global=y;class v{}t.Modify=v;class b{constructor(){this.path="",this.list=[],this.file="",this.show=!1,this.loading=!1,this.fixedPath=!1,this.uri=""}}t.AppStateFileGallery=b;class _{}t.FileAction=_,function(e){e[e["Upload"]=1]="Upload",e[e["Select"]=2]="Select",e[e["Delete"]=3]="Delete"}(t.FileActionType||(t.FileActionType={}));class g{constructor(){this.options=[],this.show=!1}}t.AppStateQuestion=g;class w{}t.AppStateLog=w},aa30:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.config.locale?r("span",{staticClass:"app-locale-menu dropdown"},[r("a",{staticClass:"nav-link dropdown-toggle py-0 px-4 text-light",attrs:{href:"#",id:"navbarDropdownLocale",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(e._s(e.glob.config.locale.toUpperCase()))]),r("div",{staticClass:"dropdown-menu"},e._l(e.glob.config.appLocales,(function(t){return r("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(r){return e.changeLocale(t.uri)}}},[e._v(e._s(t.title))])})),0)]):e._e()},n=[]},ab06:function(e,t,r){"use strict";r.r(t);var o=r("c1f9"),n=r("0a84");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("fada");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},ab34:function(e,t,r){"use strict";r.r(t);var o=r("56b9"),n=r("8de4");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"944db304",null);t["default"]=s.exports},ad9d:function(e,t,r){"use strict";r.r(t);var o=r("0297"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},ae64:function(e,t,r){},af9a:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[e.glob.notify&&!e.glob.modal?r("div",{ref:"notifyBox",class:"text-left w-100 navbar notify-type-"+e.glob.notify.type,attrs:{id:"notify-box",role:"alert"},on:{click:function(t){e.glob.notify=null}}},[r("span",[3===e.glob.notify.type?r("i",{staticClass:"m-1 fa fa-exclamation-circle fa-2x"}):e._e(),4===e.glob.notify.type?r("i",{staticClass:"m-1 fa fa-exclamation-triangle fa-2x"}):e._e(),6===e.glob.notify.type?r("i",{staticClass:"m-1 fa fa-info-circle fa-2x"}):e._e()]),r("span",{staticClass:"mx-3 flex-grow-1 notify-message"},[e._v(e._s(e.glob.notify.message))])]):e._e()])},n=[]},afec:function(e,t,r){"use strict";r.r(t);var o=r("8556"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},b181:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.fileGallery.show?r("div",{attrs:{id:"file-gallery"}},[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper align-middle"},[r("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[r("div",{staticClass:"modal-content",on:{contextmenu:e.openRootMenu}},[e.glob.fileGallery.drive?r("div",{staticClass:"modal-header"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb pt-2 p-0 m-0 bg-transparent"},[e._l(e.breadcrumb,(function(t){return r("li",{staticClass:"breadcrumb-item"},[r("a",{attrs:{href:"#"},on:{click:function(r){return e.browse(t.uri)}}},[e._v(e._s(t.title))]),r("i",{staticClass:"fa fa-chevron-right ml-2"})])})),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v(e._s(e.current))])],2)]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"},on:{click:function(t){e.glob.fileGallery.show=!1}}},[e._v("Ã—")])])]):e._e(),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"d-flex flex-wrap px-4"},[r("transition",{attrs:{name:"fade"}},[e.glob.fileGallery.loading?r("div",{staticClass:"file-gallery-waiting p-5"},[r("i",{staticClass:"fa text-secondary fa-spin fa-refresh fa-lg"}),r("span",{staticClass:"p-2"},[e._v("loading ...")])]):e._e()]),e._l(e.files,(function(t){return r("div",{directives:[{name:"focus",rawName:"v-focus",value:e.isSelected(t),expression:"isSelected(item)"}],staticClass:"file-gallery-item m-1 p-1",attrs:{tabindex:"1"},on:{dblclick:function(r){return e.select({},t)},focus:function(r){return e.focus(t)},contextmenu:function(r){return e.openMenu(r,t)}}},[r("div",{staticClass:"gallery-item-file d-flex align-items-end justify-content-center"},[r("img",{class:{"file-gallery-image-src":e.isImage(t)},attrs:{src:e.icon(t)}})]),r("label",{staticClass:"text-center mt-1 w-100 file-gallery-label"},[e._v(e._s(t.name)),r("span",{staticClass:"file-gallery-size"},[e._v(e._s(e.size(t)))])])])}))],2)]),r("div",{staticClass:"modal-footer"},[r("div",{staticClass:"d-flex w-100"},[e.glob.fileGallery.selectable?r("Function",{attrs:{styles:"m-2 btn-primary",title:e.$t("select")},on:{exec:e.select}}):e._e(),r("Function",{attrs:{styles:"m-2 btn-secondary",title:e.$t("close")},on:{exec:e.close}})],1)])])])])])])],1):e._e()},n=[]},b403:function(e,t,r){"use strict";r.r(t);var o=r("d3ac"),n=r("ad9d");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("556d");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},b408:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("check-box",{attrs:{label:e.label,checked:e.checked},on:{changed:e.change}})},n=[]},b57c:function(e,t,r){"use strict";r.r(t);var o=r("7fae");for(var n in o)"default"!==n&&function(e){r.d(t,e,(function(){return o[e]}))}(n);var i,a,s=r("2877"),l=Object(s["a"])(o["default"],i,a,!1,null,"0d74f5a8",null);t["default"]=l.exports},b6b4:function(e,t,r){"use strict";r.r(t);var o=r("9aba"),n=r("2f39");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("dee8");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},b751:function(e,t,r){"use strict";var o=r("10f6"),n=r.n(o);n.a},b83a:function(e,t,r){"use strict";r.r(t);var o=r("e52c"),n=r("4aa5");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},b875:function(e,t,r){"use strict";r.r(t);var o=r("269c"),n=r("04f2");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("970f");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},bad7:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.glob.question.show?r("div",{attrs:{id:"question-box"}},[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-dialog modal-dialog-centered"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("i",{staticClass:"fa fa-question-circle fa-2x text-muted"}),r("span",{attrs:{"aria-hidden":"true"},on:{click:e.close}},[e._v("Ã—")])]),r("div",{staticClass:"modal-body d-flex align-items-center"},[r("div",{staticClass:"flex-grow-1 mx-2",domProps:{innerHTML:e._s(e.message)}})]),r("div",{staticClass:"modal-footer"},e._l(e.glob.question.options,(function(t){return r("Function",{key:t.ref,attrs:{styles:"btn-primary",title:t.title},on:{exec:function(r){return e.select(Object.assign({},r,{data:t}))}}})})),1)])])])])])],1):e._e()},n=[]},bb01:function(e,t,r){"use strict";r.r(t);var o=r("f72a"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},bd61:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.alwaysVisible||e.glob.form.toolbar?r("div",{staticClass:"d-flex p-2 pl-4 btn-toolbar separator-line toolbar",attrs:{role:"toolbar","aria-label":"Toolbar with button groups"}},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb pt-2 p-0 m-0 bg-transparent"},[e._l(e.glob.form.breadcrumb,(function(t){return r("li",{staticClass:"breadcrumb-item"},[r("a",{attrs:{href:t.ref}},[e._v(e._s(t.title))]),r("i",{staticClass:"fa fa-chevron-right ml-2"})])})),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v(e._s(e.glob.form.title))])],2)]),e.glob.dirty?r("div",{staticClass:"mx-2",attrs:{role:"group"}},[r("Function",{attrs:{styles:"btn-primary",name:"apply",title:e.$t("apply")},on:{exec:e.apply}}),r("Function",{attrs:{styles:"btn-link",name:"cancel",title:e.$t("cancel")},on:{exec:e.cancel}})],1):e._e(),r("div",{staticClass:"mr-auto"}),r("div",{staticClass:"mx-2",attrs:{role:"group"}},[e._l(e.glob.headFuncs,(function(e){return r("Function",{key:e._id,attrs:{styles:"btn-primary",name:e.name,title:e.title},on:{exec:e.exec}})})),e.glob.newItemButton?r("Function",{attrs:{styles:"btn-primary",title:e.glob.newItemButton},on:{exec:e.newItem}}):e._e()],2),r("Function",{attrs:{styles:"text-secondary fa-cog fa-lg",name:"clickTitlePin"},on:{exec:e.clickTitlePin}})],1):e._e()},n=[]},bfd3:function(e,t,r){"use strict";r.r(t);var o=r("4298"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},c023:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("cd49"),a=r("8445"),s=o.__importStar(r("cd49"));let l=class extends n.Vue{mounted(){i.glob.socket.emit(a.ClientCommand.Ping)}openMenu(e){let t=[{ref:"clear",title:i.$t("clear")}];s.showCmenu(null,t,e,(e,t)=>{switch(t.ref){case"clear":i.glob.logs=[];break}}),e.preventDefault()}};o.__decorate([n.Prop()],l.prototype,"prop",void 0),l=o.__decorate([n.Component],l),t.default=l},c089:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=o.__importStar(r("cd49"));let a=class extends n.Vue{update(){let e=event.target.value,t=""==e?this.prop._.items:this.prop._.items.filter(t=>t.title.toLowerCase().indexOf(e.toLowerCase())>-1);t.forEach(e=>e.hover=!1),this.showDropDown(t)}refreshText(){let e=this.doc[this.prop.name];this.doc[this.prop.name]=null,this.doc[this.prop.name]=e}focus(){$(this.$refs.ctrl).find("textarea").focus()}remove(e){let t=this.doc[this.prop.name];return t=t.filter(t=>!i.equalRef(t,e.ref)),{prop:this.prop,val:t,vue:this}}showDropDown(e){let t=this.value.map(e=>JSON.stringify(e));e=e.filter(e=>!t.includes(JSON.stringify(e.ref))),i.showCmenu(this.prop,e,{ctrl:this.$refs.ctrl},(e,t)=>this.selectItem(t))}selectItem(e){if(!e)return void this.refreshText();let t=this.doc[this.prop.name];return t||(t=[]),t=[...t],t.push(e.ref),{prop:this.prop,val:t,vue:this}}get value(){let e=this.doc[this.prop.name];return e?Array.isArray(e)||(e=[e]):this.doc[this.prop.name]=e=[],e}get items(){let e=[];for(const t of this.value){let r=this.prop._.items.find(e=>i.equalRef(t,e.ref));r?e.push(r):e.push({title:"...",ref:t})}return e}};o.__decorate([n.Prop()],a.prototype,"type",void 0),o.__decorate([n.Prop()],a.prototype,"doc",void 0),o.__decorate([n.Prop()],a.prototype,"prop",void 0),o.__decorate([n.Prop()],a.prototype,"styles",void 0),o.__decorate([n.Emit("changed")],a.prototype,"remove",null),o.__decorate([n.Emit("changed")],a.prototype,"selectItem",null),a=o.__decorate([n.Component],a),t.default=a},c1ba:function(e,t,r){"use strict";r.r(t);var o=r("34a0"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},c1f9:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-body h-100 overflow-auto w-100 d-flex",on:{scroll:function(t){return e.onScroll()}}},e._l(e.glob.form.elems,(function(e){return r("FormElem",{key:e.id,attrs:{elem:e}})})),1)},n=[]},c321:function(e,t,r){"use strict";r.r(t);var o=r("d730"),n=r("e5e8");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("d03b");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},c5cf:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chart"},[r("canvas",{ref:"canvas"})])},n=[]},c7a9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("cd49");let a=class extends n.Vue{get glob(){return i.glob}getStyle(e){let t="text-nowrap nav-link";return location.hostname==e.ref&&(t+=" active"),e.items&&(t+=" has-child"),t}};a=o.__decorate([n.Component],a),t.default=a},c7bb:function(e,t,r){"use strict";r.r(t);var o=r("8133"),n=r("659d");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("6d32");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},c7ce:function(e,t,r){"use strict";r.r(t);var o=r("6857"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},c815:function(e,t,r){"use strict";var o=r("ae64"),n=r.n(o);n.a},c8ba:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(o){"object"===typeof window&&(r=window)}e.exports=r},ca02:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{attrs:{href:e.ref},on:{focus:function(t){return e.$emit("focus",t)},keydown:e.keydown}},[e._v(e._s(e.value))])},n=[]},cbce:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{close(){}};o.__decorate([n.Prop()],i.prototype,"item",void 0),o.__decorate([n.Prop()],i.prototype,"dec",void 0),i=o.__decorate([n.Component],i),t.default=i},cd19:function(e,t,r){"use strict";var o=r("e717"),n=r.n(o);n.a},cd49:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__("9ab4");let index={"Modify                         ":dispatchStoreModify,"Server: Dispatch Changes       ":dispatchRequestServerModify,"Server: Commit Changes         ":commitServerChangeResponse,"Reorder Items                  ":commitReorderItems,"File Action                    ":dispatchFileAction,"Registers Components           ":registerComponents,"Reset Form Data                ":vueResetFormData,"Start Vue                      ":startVue,"Load                           ":load,"Handle Response                ":handleResponse,"Ajax                           ":ajax};const uuid_1=__webpack_require__("e144"),vue_1=tslib_1.__importDefault(__webpack_require__("8bbf")),vuex_1=tslib_1.__importDefault(__webpack_require__("2f62")),types_1=__webpack_require__("a76d"),types_2=__webpack_require__("8445"),App_vue_1=tslib_1.__importDefault(__webpack_require__("3dfd"));let store;function getText(e,t){if(!e)return"";if("string"==typeof e)return t?exports.glob.texts[e]?exports.glob.texts[e]:-1==e.indexOf(".")&&exports.glob.texts["sys."+e]||e.replace(/-/g," "):e;let r=types_2.Locale[exports.glob.config.locale];return e[r]?e[r]:Object.values(e)[0]}function $t(e){return getText(e,!0)}function evalExpression($this,expression){try{return null==expression?null:eval(expression.replace(/\bthis\b/g,"$this"))}catch(ex){console.error(`Evaluating '${expression}' failed! this:`,$this,"Error:",ex.message)}}function addHeadStyle(e){let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");t.appendChild(r),r.type="text/css",r.appendChild(document.createTextNode(e))}function vueResetFormData(e){let t=e.data;if(t){if(e.form&&e.form.declarations){e.form.elems.forEach(e=>e.id=uuid_1.v4());const r=(e,t,r)=>(t._=t._||{},t._.ref=e,t._.dec=r,t._);for(let o in t){let n=t[o],i=e.form.declarations[o];if(n&&i){Array.isArray(n)?n.forEach(e=>{let t=r(o+"/"+getBsonId(e),e,i);t.marked=null}):r(o,n,i);for(const e of i.properties)Array.isArray(n)?n.forEach(t=>setUndefinedToNull(t,e)):setUndefinedToNull(n,e)}}}exports.glob.data=e.data,exports.glob.form=e.form,exports.glob.headFuncs=[],exports.glob.newItemButton=null,commitReloadData(store,e.data)}}function setUndefinedToNull(e,t){e&&(void 0===e[t.name]&&(e[t.name]=null),t.required&&setPropertyEmbeddedError(e,t.name,null))}function getDec(e){return e._?e._.dec:null}function validateData(e,t){let r=e._,o=r.dec.properties.filter(e=>e.required);for(const n of o)if(null==e[n.name])return notify(`Property '${n.name}' is required.`,types_2.LogType.Warning),!1;return!0}function validate(e){for(const t in e)if(Array.isArray(e[t])){for(const r of e[t])if(!validateData(r,t))return!1}else if(!validateData(e[t],t))return!1;return!0}function someProps(e){return Array.isArray(e.properties)&&e.properties.length}function prepareServerUrl(e){e="/"+e;let t=getQs("e");return t&&(e+="?e="+t),e}function onlyUnique(e,t,r){return r.indexOf(e)===t}function handleResponse(e){if(!e)throw"handleResponse: res is empty";if("object"!=typeof e)throw console.warn("handleResponse res",e),"handleResponse: res must be object";e=flat2recursive(e),e.config&&(exports.glob.config=e.config,e.config.style&&addHeadStyle(e.config.style)),e.redirect?handleResponseRedirect(e):e.message?notify(e.message,types_2.LogType.Info):e.form?(vueResetFormData(e),document.title=exports.glob.form.title,$(".details-view").scrollTop(0)):(notify("WHAT should I do now?",types_2.LogType.Warning),console.log(e)),exports.glob.texts=exports.glob.texts||e.texts||{}}function getPropTextValue(e,t){if(e.formula)return evalExpression(this.doc,e.formula);if(!t)throw"prop-text doc is null!";let r=t[e.name];if(r&&"object"==typeof r){let e=getQs("e")||"en";return r[e]}return r}function equalRef(e,t){return!e&&!t||!(!e||!t)&&(e.$oid?e.$oid==t.$oid:e==t)}function getPropReferenceValue(e,t){if(!t)return"";let r=t[e.name];if(!r)return"";if(e.isList){Array.isArray(r)||(r=[r]);let t=[];for(const o of r){let r=e._.items.find(e=>equalRef(e.ref,o));r?t.push(r.title):t.push("...")}return t.join(", ")}{let t=e._.items.find(e=>equalRef(e.ref,r));return t?t.title:"..."}}function refresh(){exports.glob.dirty=!1,location.reload()}function handleResponseRedirect(e){if(e.redirect==types_1.Constants.redirectBack)window.history.back();else if(e.redirect==types_1.Constants.redirectSelf)refresh();else if(null!=e.data){let t="";for(let r of e.data)t+='<input type="hidden" name="'+r+'" value="'+e.data[r]+'">';$('<form action="'+e.redirect+'" method="POST">'+t+"</form>").appendTo("body").submit()}else window.open(e.redirect,"_self")}function isRtl(){return"rtl"==$("body").attr("dir")}function showCmenu(e,t,r,o){if(t&&0!=t.length){for(let e of t)e.hover=e.hover||!1;t.find(e=>e.hover)||(t[0].title?t[0].hover=!0:(t[0].hover=!1,t[1].hover=!0)),exports.glob.cmenu={show:!0,items:t,handler:o,state:e,top:0,left:0,right:0,bottom:0,event:r}}else hideCmenu()}function hideCmenu(){exports.glob.cmenu.show=!1}function handleWindowEvents(){$(window).on(types_1.Constants.notifyEvent,(function(e){let t=e.detail;t.type==types_2.LogType.Debug?($("#snackbar").addClass("visible").text(t.message),setTimeout((function(){$("#snackbar").removeClass("visible")}),3e3)):exports.glob.notify=t})).on(types_1.Constants.questionEvent,(function(e){exports.glob.question=e.detail})).on("popstate",e=>{load(location.href)}).on("beforeunload",e=>{if(exports.glob.dirty)return e=e||window.event,e&&(e.returnValue=$t("save-before")),$t("save-before")}).on("resize",e=>{hideCmenu()}).on("keydown",e=>{exports.glob.cmenu.show&&handleCmenuKeys(e),exports.glob.notify=null}).on("click",e=>{let t=e.target;if("A"!==t.tagName||t.getAttribute("target"))return;let r=t.getAttribute("href");if(r){if(r.match(/^javascript/)||/^#/.test(r))return;if(e.preventDefault(),exports.glob.dirty)return void notify($t("save-before"),types_2.LogType.Warning);/\bf=\d/.test(r)||history.pushState(null,null,r),load(r),e.stopPropagation()}}).on("mouseup",e=>{exports.glob.cmenu.show&&!$(".dropdown-item").is(e.target)&&0===$(".dropdown-item").has(e.target).length&&0===$(".dropdown-menu.show").has(e.target).length&&hideCmenu()})}function handleCmenuKeys(e){switch(e.which){case types_2.Keys.tab:case types_2.Keys.esc:exports.glob.cmenu.handler(exports.glob.cmenu.state,null),hideCmenu();break;case types_2.Keys.enter:{let e=exports.glob.cmenu.items.find(e=>e.hover);e&&(exports.glob.cmenu.handler(exports.glob.cmenu.state,e),hideCmenu());break}case types_2.Keys.down:{let e=exports.glob.cmenu.items.find(e=>e.hover);if(e){let t=exports.glob.cmenu.items.indexOf(e);t<exports.glob.cmenu.items.length-1&&(exports.glob.cmenu.items[t].hover=!1,exports.glob.cmenu.items[t+1].hover=!0)}else exports.glob.cmenu.items[0].hover=!0;break}case types_2.Keys.up:{let e=exports.glob.cmenu.items.find(e=>e.hover);if(e){let t=exports.glob.cmenu.items.indexOf(e);t>0&&(exports.glob.cmenu.items[t].hover=!1,exports.glob.cmenu.items[t-1].hover=!0)}else exports.glob.cmenu.items[exports.glob.cmenu.items.length-1].hover=!0;break}}}function getQs(e){let t=location.search,r=new URLSearchParams(t);return r.get(e)}function setQs(e,t,r,o){let n,i;o?(i=document.createElement("a"),i.href=o,n=i.search):n=location.search;let a=new URLSearchParams(n);return null==t?a.delete(e):a.set(e,t.toString()),o?i.pathname+"?"+a:r?location.pathname+"?"+a:a.toString()}function checkPropDependencyOnChange(e,t,r){if(!r)return;let o=e.properties.filter(e=>e.dependsOn==t.name);for(const n of o)if(r[n.name]=null,n._.items){n._.items=null;let e={prop:n,instance:r};ajax("/getPropertyReferenceValues",e,null,e=>n._.items=e.data,e=>notify(e))}}function parse(e){if(!e)return null;let t=JSON.parse(e);return flat2recursive(t)}function flat2recursive(flatJson){if(!flatJson)return flatJson;let keys={};const findKeys=e=>{e&&e._0&&(keys[e._0]=e,delete e._0);for(const t in e)"object"===typeof e[t]&&findKeys(e[t])},seen=new WeakSet,replaceRef=obj=>{if(!seen.has(obj)){seen.add(obj);for(const key in obj){let val=obj[key];val&&("object"!==typeof val||val.$oid||(""==val._$?obj[key]=flatJson:val._$&&(obj[key]=eval("flatJson"+val._$)),replaceRef(val)))}}};return delete flatJson._0,findKeys(flatJson),replaceRef(flatJson),flatJson}function browseFile(e){exports.glob.fileGallery.fileBrowsed=e,$("#file-browse").val("").click()}function refreshFileGallery(e){openFileGallery(exports.glob.fileGallery.drive,e,exports.glob.fileGallery.path,exports.glob.fileGallery.fixedPath,exports.glob.fileGallery.fileSelectCallback)}function openFileGallery(e,t,r,o,n){exports.glob.fileGallery={list:[],loading:!0,drive:e,file:t,path:r||"",fixedPath:o,selectable:!0,show:!0,fileSelectCallback:n},ajax("/getFileGallery?m=1",{drive:e._id,path:r},{},e=>{if(e.code!=types_2.StatusCode.Ok)return exports.glob.fileGallery.show=!1,void notify(e.message,types_2.LogType.Error);exports.glob.fileGallery.loading=!1,exports.glob.fileGallery.uri=e.data.uri,exports.glob.fileGallery.list=e.data.list,exports.glob.fileGallery.selected=exports.glob.fileGallery.list.find(e=>e.name===exports.glob.fileGallery.file)})}function log(...e){console.log(e)}function invoke(e,t,r){return!1}function toFriendlyFileSizeString(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1024/1024).toFixed(1)+" MB"}function joinUri(...e){let t="";for(const r of e)t+="/"+(r||"").replace(/^\//,"").replace(/\/$/,"");return t.substr(1)}function notify(e,t,r){if(!e)return;const o="string"===typeof e?e:e.message;null==t&&(t="string"!==typeof e&&e.code&&e.code!==types_2.StatusCode.Ok?types_2.LogType.Error:types_2.LogType.Info),t===types_2.LogType.Fatal?$("#app").html(`<div style="color:red; font-family: monospace;padding: 40px;"><h1>Fatal error</h1>${e}</div>`):window.dispatchEvent(new CustomEvent(types_1.Constants.notifyEvent,{detail:{message:o,type:t}}))}function question(e,t,r,o){window.dispatchEvent(new CustomEvent(types_1.Constants.questionEvent,{detail:{questionId:e,message:t,options:r,select:o}})),exports.glob.question.show=!0}function getBsonId(e){if(e)return e._id?e._id.$oid:(console.error("Invalid item data, _id is expected:",e),notify("Invalid data, please check the logs!",types_2.LogType.Error),null);throw"Item is null"}function head_script(e){if(document.querySelector("script[src='"+e+"']"))return;const t=document.createElement("script");t.setAttribute("src",e),t.setAttribute("type","text/javascript"),document.head.appendChild(t)}function body_script(e){if(document.querySelector("script[src='"+e+"']"))return;const t=document.createElement("script");t.setAttribute("src",e),t.setAttribute("type","text/javascript"),document.body.appendChild(t)}function del_script(e){const t=document.querySelector("script[src='"+e+"']");t&&t.remove()}function head_link(e){if(document.querySelector("link[href='"+e+"']"))return;const t=document.createElement("link");t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),document.head.appendChild(t)}function body_link(e){if(document.querySelector("link[href='"+e+"']"))return;const t=document.createElement("link");t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),document.body.appendChild(t)}function del_link(e){const t=document.querySelector('link[href="'+e+'"]');t&&t.remove()}function setPropertyEmbeddedError(e,t,r){console.assert(e,`setPropertyEmbeddedError doc is empty, prop:${t}!`),e._=e._||{},e._[t]=e._[t]||{},e._[t].err=r}function load(e,t=!1){exports.glob.dirty?notify($t("save-before"),types_2.LogType.Warning):(t&&history.pushState(null,null,e),ajax(setQs("m",types_2.RequestMode.inline,!1,e),null,null,handleResponse,e=>notify(e)))}function ajax(e,t,r,o,n){r=r||{};let i={};exports.glob.config.host&&(e=joinUri(exports.glob.config.host,e));let a={url:e,data:t,headers:i,withCredentials:!0};if(r.method?a.method=r.method:a.method=t?types_2.WebMethod.post:types_2.WebMethod.get,t){let e=null;for(let r in t){if(!t[r])continue;let o=Array.isArray(t[r])?t[r]:[t[r]];for(let t of o)if(t._&&t._.rawData){e=e||new FormData;let r=t._.rawData;e.append("files[]",r,t.name),delete t._.rawData}}e&&(a.data=e,a.data.append("data",JSON.stringify(t)),a.headers["Content-Type"]="multipart/form-data")}axios.defaults.headers.post["Access-Control-Allow-Origin"]="*",n=n||notify,console.log(a),startProgress(),axios(a).then(e=>{if(stopProgress(),e.status&&e.status!==types_2.StatusCode.Ok)n({code:e.status,message:e.statusText});else try{o(e.data)}catch(t){notify("error on handling ajax response: "+t.message),console.error(e,t)}}).catch(t=>{stopProgress(),console.error(`error on ajax '${e}'`,t),t.response&&t.response.data&&t.response.data.message?n({message:t.response.data.message,code:t.response.data.code}):t.response&&t.response.data?n({message:t.response.data,code:t.response.status}):n({message:t.toString(),code:types_2.StatusCode.UnknownError})})}function startProgress(){exports.glob.progress=0,setTimeout(()=>{null!=exports.glob.progress&&(exports.glob.progress=1,setTimeout(()=>exports.glob.progress=exports.glob.progress?50:0,0),setTimeout(()=>exports.glob.progress=exports.glob.progress?95:0,1e3))},types_1.Constants.delayToStartProgressBar)}function stopProgress(){exports.glob.progress=null}function registerComponents(e,t){if(e.component("function",__webpack_require__("474f").default),e.component("panel",__webpack_require__("9c97").default),e.component("modal",__webpack_require__("714b").default),e.component("prop",__webpack_require__("deb6").default),e.component("object-view",__webpack_require__("b57c").default),e.component("document-editor",__webpack_require__("4667").default),e.component("form-elem",__webpack_require__("2729").default),e.component("grid-view",__webpack_require__("02b4").default),e.component("details-view",__webpack_require__("b403").default),e.component("check-box",__webpack_require__("c321").default),e.component("log-terminal",__webpack_require__("b875").default),e.component("api-doc",__webpack_require__("2c6f").default),e.component("range-picker",__webpack_require__("38a4").default),t)for(let r in t)e.component(r,t[r])}function startVue(e,t,r){try{handleWindowEvents(),vue_1.default.use(vuex_1.default),store=createStore(),handleResponse(e),"undefined"!=typeof io&&(exports.glob.socket=io()),Object.assign(vue_1.default.config,{productionTip:!1,devtools:!0}),vue_1.default.prototype.glob=exports.glob,vue_1.default.prototype.$t=$t,vue_1.default.config.productionTip=!1,vue_1.default.directive("focus",{inserted(e,t){t.value&&e.focus()}}),registerComponents(vue_1.default,r),new vue_1.default({data:exports.glob,store:store,render:e=>e(t||App_vue_1.default)}).$mount("#app")}catch(o){console.error(o),notify("<strong>Starting Vue failed:</strong> "+o.message,types_2.LogType.Fatal)}}function commitFileAction(e,t){e.commit("_commitFileAction",t)}function _commitFileAction(e,t){t.item[t.prop.name]=t.val,exports.glob.dirty=!0}function dispatchFileAction(e,t){e.$store.dispatch("_dispatchFileAction",t)}function _dispatchFileAction(e,t){if(null==t.item._.ref)throw"ref is empty!";let r={ref:t.item._.ref,type:types_1.ChangeType.EditFileProp,data:{},state:t.item};exports.glob.modifies.push(r),r.data[t.prop.name]=t.val,commitFileAction(e,t)}function commitReloadData(e,t){e.commit("_commitReloadData",t)}function _commitReloadData(e,t){e.data=t}function clearModifies(){exports.glob.dirty=!1,exports.glob.modifies=[]}function commitStoreChange(e,t){e.commit("_commitStoreChange",t)}function _commitStoreChange(e,t){let r=t.uri;switch(t.type){case types_1.ChangeType.EditProp:t.item[t.prop.name]=t.value;break;case types_1.ChangeType.InsertItem:e.data[r].push(t.item);break;case types_1.ChangeType.DeleteItem:e.data[r].splice(e.data[r].indexOf(t.item),1);break}t.vue.$forceUpdate()}function commitServerChangeResponse(e,t,r){e.commit("_commitServerChangeResponse",{modify:t,res:r})}function _commitServerChangeResponse(e,t){switch(t.modify.type){case types_1.ChangeType.EditProp:for(let e in t.res)t.modify.state[e]=t.res[e];break;case types_1.ChangeType.InsertItem:t.modify.state._id!=t.res._reqId?notify(`data save error: state id '${t.modify.state._id}' and request id '${t.res._reqId}' are not same`,types_2.LogType.Error):delete t.res._reqId;for(let e in t.res)t.modify.state[e]=t.res[e];break}}function commitReorderItems(e,t,r,o){e.commit("_commitReorderItems",{items:t,up:r,uri:o})}function _commitReorderItems(e,t){let{items:r,up:o,uri:n}=t,i=r.find(e=>e._.marked),a=r.indexOf(i);if(o&&0==a||!o&&a==r.length-1)return;exports.glob.dirty=!0;let s=r.filter(e=>!e._z);if(s.length){let e=Math.min(...r.map(e=>e._z))||0;r.forEach(t=>{t._z=++e,modifyOrder(t,n)})}let l=o?a-1:a+1,c=r[l];if(i._z==c._z){let e=Math.min(...r.map(e=>e._z));r.forEach(t=>{t._z=e++,modifyOrder(t,n)})}let u=i._z;i._z=c._z,modifyOrder(i,n),c._z=u,modifyOrder(c,n),r.splice(a,1),r.splice(l,0,i)}function modifyOrder(e,t){let r=exports.glob.modifies.find(t=>t.state==e&&(t.type==types_1.ChangeType.InsertItem||t.type==types_1.ChangeType.EditProp));r||(r={ref:t+"/"+getBsonId(e),type:types_1.ChangeType.EditProp,data:{},state:e},exports.glob.modifies.push(r)),r.data._z=e._z}function dispatchStoreModify(e,t){e.$store.dispatch("_dispatchStoreModify",t)}function _dispatchStoreModify(e,t){let r=t.uri;switch(t.type){case types_1.ChangeType.EditProp:{let e;if(getQs("n")){let o={_id:t.item._id};e=exports.glob.modifies.find(e=>e.state==t.item),e||(e={ref:r,type:types_1.ChangeType.InsertItem,data:o,state:t.item}),exports.glob.modifies.push(e)}else e=exports.glob.modifies.find(e=>e.state==t.item&&(e.type==types_1.ChangeType.InsertItem||e.type==types_1.ChangeType.EditProp)),e||(e={ref:r,type:types_1.ChangeType.EditProp,data:{},state:t.item},exports.glob.modifies.push(e));e.data[t.prop.name]=t.value;break}case types_1.ChangeType.InsertItem:{let e={_id:t.item._id};t.item._z&&(e["_z"]=t.item._z),exports.glob.modifies.push({ref:r,type:types_1.ChangeType.InsertItem,data:e,state:t.item});break}case types_1.ChangeType.DeleteItem:{r=r+"/"+getBsonId(t.item);let e=exports.glob.modifies.find(e=>e.state==t.item);e?(exports.glob.modifies.splice(exports.glob.modifies.indexOf(e),1),e.type!=types_1.ChangeType.InsertItem&&exports.glob.modifies.push({state:t.item,ref:r,type:types_1.ChangeType.DeleteItem})):exports.glob.modifies.push({state:t.item,ref:r,type:types_1.ChangeType.DeleteItem});break}}exports.glob.dirty=exports.glob.modifies.length>0,commitStoreChange(e,t)}function dispatchRequestServerModify(e,t){e.dispatch("_dispatchRequestServerModify",t)}function markDown(e){return marked(e).replace(/^\<p\>|\<\/p\>\s*$/g,"")}function _dispatchRequestServerModify(e,t){if(0==exports.glob.modifies.length)return notify($t("saved"),types_2.LogType.Debug),exports.glob.dirty=!1,t();let r=exports.glob.modifies.shift(),o=types_2.WebMethod.patch;switch(r.type){case types_1.ChangeType.InsertItem:o=types_2.WebMethod.post;break;case types_1.ChangeType.DeleteItem:o=types_2.WebMethod.del;break}ajax(prepareServerUrl(r.ref),r.data,{method:o},o=>{if(o.data=flat2recursive(o.data),commitServerChangeResponse(e,r,o.data),getQs("n"))clearModifies(),load("/"+r.ref+"/"+o.data._id.$oid,!0);else{if(o.redirect&&0==exports.glob.modifies.length)return handleResponseRedirect(o);dispatchRequestServerModify(e,t)}},e=>{exports.glob.modifies.unshift(r),t(e),notify(e)})}function createStore(){return new vuex_1.default.Store({mutations:{_commitStoreChange:_commitStoreChange,_commitServerChangeResponse:_commitServerChangeResponse,_commitReloadData:_commitReloadData,_commitFileAction:_commitFileAction,_commitReorderItems:_commitReorderItems},actions:{_dispatchStoreModify:_dispatchStoreModify,_dispatchFileAction:_dispatchFileAction,_dispatchRequestServerModify:_dispatchRequestServerModify}})}function start(e,t){const r=$("#main-state").html(),o=parse(r);if(o)startVue(o,e,t);else{let r=setQs("m",types_2.RequestMode.inlineDev,!1,location.pathname&&"/"!=location.pathname?location.pathname:types_1.Constants.defaultAddress);r=setQs("t",Math.random(),!1,r),console.log(`loading main-state async from '${r}' ...`),axios.get(r,{withCredentials:!0}).then(r=>{r.data?startVue(r.data,e,t):console.error(r)}).catch(e=>{console.error(e),notify("Connecting to proxy server failed! "+e.message,types_2.LogType.Fatal)})}}exports.glob=new types_1.Global,exports.getText=getText,exports.$t=$t,exports.evalExpression=evalExpression,exports.getDec=getDec,exports.validate=validate,exports.someProps=someProps,exports.prepareServerUrl=prepareServerUrl,exports.onlyUnique=onlyUnique,exports.handleResponse=handleResponse,exports.getPropTextValue=getPropTextValue,exports.equalRef=equalRef,exports.getPropReferenceValue=getPropReferenceValue,exports.handleResponseRedirect=handleResponseRedirect,exports.isRtl=isRtl,exports.showCmenu=showCmenu,exports.hideCmenu=hideCmenu,exports.handleCmenuKeys=handleCmenuKeys,exports.getQs=getQs,exports.setQs=setQs,exports.checkPropDependencyOnChange=checkPropDependencyOnChange,exports.flat2recursive=flat2recursive,exports.browseFile=browseFile,exports.refreshFileGallery=refreshFileGallery,exports.openFileGallery=openFileGallery,exports.log=log,exports.invoke=invoke,exports.toFriendlyFileSizeString=toFriendlyFileSizeString,exports.joinUri=joinUri,exports.notify=notify,exports.question=question,exports.getBsonId=getBsonId,exports.head_script=head_script,exports.body_script=body_script,exports.del_script=del_script,exports.head_link=head_link,exports.body_link=body_link,exports.del_link=del_link,exports.setPropertyEmbeddedError=setPropertyEmbeddedError,exports.load=load,exports.ajax=ajax,exports.dispatchFileAction=dispatchFileAction,exports.clearModifies=clearModifies,exports.commitStoreChange=commitStoreChange,exports.commitServerChangeResponse=commitServerChangeResponse,exports.commitReorderItems=commitReorderItems,exports.dispatchStoreModify=dispatchStoreModify,exports.dispatchRequestServerModify=dispatchRequestServerModify,exports.markDown=markDown,exports.start=start,window["start"]=start,exports.default={}},cee1:function(e,t,r){"use strict";r.r(t);var o=r("1217"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},cf5e:function(e,t,r){"use strict";var o=r("5d23"),n=r.n(o);n.a},cf6c:function(e,t,r){"use strict";r.r(t);var o=r("a258"),n=r("bb01");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("1fd4");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},d000:function(e,t,r){"use strict";r.r(t);var o=r("61d6"),n=r("8f20");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("ed6b");var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},d03b:function(e,t,r){"use strict";var o=r("07c9"),n=r.n(o);n.a},d3ac:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex overflow-auto details-view",on:{scroll:function(t){return e.onScroll()}}},[e.sideMenuVisible?r("aside",{staticClass:"border-right separator-line sidenav p-2 py-4 d-none d-md-block"},[r("ul",{staticClass:"nav flex-column tree pr-5",attrs:{id:"menus"}},e._l(e.sideMenu,(function(t){return r("li",{staticClass:"nav-item"},[r("a",{class:{"pr-5 text-nowrap text-secondary nav-link":!0,active:e.$data.currentGroup===t.title},attrs:{href:"javascript:void(0);"},on:{click:function(r){return e.selectGroup(t)}}},[e._v(e._s(t.title))])])})),0)]):e._e(),r("div",{class:{"p-4":e.root,"border rounded":!e.root&&2===e.dec.detailsViewType}},[e._l(e.groups,(function(t){return e.groupVisible(t)?r("div",{class:{"py-4":2===e.dec.detailsViewType,gp:e.root},attrs:{id:e.getGroupId(t)}},[e.groupHeadVisible(t)?r("h3",{staticClass:"text-secondary mb-4"},[e._v(e._s(t))]):e._e(),r("div",{staticClass:"group"},e._l(e.getProps(t),(function(t){return r("Prop",{key:t.name,attrs:{item:e.item,prop:t,viewType:2},on:{changed:e.changed}})})),1)]):e._e()})),e.nonGroupVisible()?r("div",{class:{gp:e.root}},e._l(e.dec.properties,(function(t){return r("Prop",{key:t.name,attrs:{item:e.item,prop:t,viewType:2},on:{changed:e.changed}})})),1):e._e(),e.root?r("div",{staticClass:"h-25"}):e._e()],2)])},n=[]},d5a8:function(e,t,r){},d6ea:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=o.__importDefault(r("c321"));let a=class extends n.Vue{keydown(e){return{e:e}}change(e){return{prop:this.prop,val:e.val,vue:this}}get checked(){return!!this.doc[this.prop.name]}};o.__decorate([n.Prop()],a.prototype,"prop",void 0),o.__decorate([n.Prop()],a.prototype,"doc",void 0),o.__decorate([n.Prop()],a.prototype,"label",void 0),o.__decorate([n.Emit("keydown")],a.prototype,"keydown",null),o.__decorate([n.Emit("changed")],a.prototype,"change",null),a=o.__decorate([n.Component({name:"prop-boolean",components:{CheckBox:i.default}})],a),t.default=a},d730:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"checkbox-wrapper text-center mr-2",on:{click:e.changed}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"checkbox",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.changed(t)},keydown:e.keydown,input:e.changed,change:function(t){var r=e.checked,o=t.target,n=!!o.checked;if(Array.isArray(r)){var i=null,a=e._i(r,i);o.checked?a<0&&(e.checked=r.concat([i])):a>-1&&(e.checked=r.slice(0,a).concat(r.slice(a+1)))}else e.checked=n}}}),r("label",{class:{"checkbox-label":!0,"no-label":!e.label}},[e._v(e._s(e.label))])])},n=[]},db9d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{mounted(){this.$el.innerHTML=JSON.stringify(this.value)}updateHTML(e){try{let t=JSON.parse(e.target.innerHTML);Object.assign(this.value,t)}catch(t){}return{val:e.target.innerHTML}}};o.__decorate([n.Prop()],i.prototype,"value",void 0),o.__decorate([n.Emit("input")],i.prototype,"updateHTML",null),i=o.__decorate([n.Component({name:"document-editor"})],i),t.default=i},dc11:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{getOprId(e,t){return"oper-"+e.name+"-"+t.method+"-"+t.uri.replace(/\//g,"-")}};o.__decorate([n.Prop()],i.prototype,"data",void 0),i=o.__decorate([n.Component],i),t.default=i},deb6:function(e,t,r){"use strict";r.r(t);var o=r("9e87");for(var n in o)"default"!==n&&function(e){r.d(t,e,(function(){return o[e]}))}(n);r("cd19");var i,a,s=r("2877"),l=Object(s["a"])(o["default"],i,a,!1,null,null,null);t["default"]=l.exports},dee8:function(e,t,r){"use strict";var o=r("6ca4"),n=r.n(o);n.a},dff2:function(e,t,r){"use strict";r.r(t);var o=r("c7a9"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},e144:function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return h})),r.d(t,"v3",(function(){return F})),r.d(t,"v4",(function(){return A})),r.d(t,"v5",(function(){return N}));var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function i(){if(!o)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(n)}for(var a=[],s=0;s<256;++s)a[s]=(s+256).toString(16).substr(1);function l(e,t){var r=t||0,o=a;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}var c,u,d=l,f=0,p=0;function m(e,t,r){var o=t&&r||0,n=t||[];e=e||{};var a=e.node||c,s=void 0!==e.clockseq?e.clockseq:u;if(null==a||null==s){var l=e.random||(e.rng||i)();null==a&&(a=c=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==s&&(s=u=16383&(l[6]<<8|l[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:p+1,y=m-f+(h-p)/1e4;if(y<0&&void 0===e.clockseq&&(s=s+1&16383),(y<0||m>f)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=m,p=h,u=s,m+=122192928e5;var v=(1e4*(268435455&m)+h)%4294967296;n[o++]=v>>>24&255,n[o++]=v>>>16&255,n[o++]=v>>>8&255,n[o++]=255&v;var b=m/4294967296*1e4&268435455;n[o++]=b>>>8&255,n[o++]=255&b,n[o++]=b>>>24&15|16,n[o++]=b>>>16&255,n[o++]=s>>>8|128,n[o++]=255&s;for(var _=0;_<6;++_)n[o+_]=a[_];return t||d(n)}var h=m;function y(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}function v(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}var b="6ba7b810-9dad-11d1-80b4-00c04fd430c8",_="6ba7b811-9dad-11d1-80b4-00c04fd430c8",g=function(e,t,r){var o=function(e,o,n,i){var a=n&&i||0;if("string"==typeof e&&(e=v(e)),"string"==typeof o&&(o=y(o)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(o)||16!==o.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=r(o.concat(e));if(s[6]=15&s[6]|t,s[8]=63&s[8]|128,n)for(var l=0;l<16;++l)n[a+l]=s[l];return n||d(s)};try{o.name=e}catch(n){}return o.DNS=b,o.URL=_,o};function w(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return x(C(k(e),8*e.length))}function x(e){var t,r,o,n=[],i=32*e.length,a="0123456789abcdef";for(t=0;t<i;t+=8)r=e[t>>5]>>>t%32&255,o=parseInt(a.charAt(r>>>4&15)+a.charAt(15&r),16),n.push(o);return n}function C(e,t){var r,o,n,i,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,l=-271733879,c=-1732584194,u=271733878;for(r=0;r<e.length;r+=16)o=s,n=l,i=c,a=u,s=j(s,l,c,u,e[r],7,-680876936),u=j(u,s,l,c,e[r+1],12,-389564586),c=j(c,u,s,l,e[r+2],17,606105819),l=j(l,c,u,s,e[r+3],22,-1044525330),s=j(s,l,c,u,e[r+4],7,-176418897),u=j(u,s,l,c,e[r+5],12,1200080426),c=j(c,u,s,l,e[r+6],17,-1473231341),l=j(l,c,u,s,e[r+7],22,-45705983),s=j(s,l,c,u,e[r+8],7,1770035416),u=j(u,s,l,c,e[r+9],12,-1958414417),c=j(c,u,s,l,e[r+10],17,-42063),l=j(l,c,u,s,e[r+11],22,-1990404162),s=j(s,l,c,u,e[r+12],7,1804603682),u=j(u,s,l,c,e[r+13],12,-40341101),c=j(c,u,s,l,e[r+14],17,-1502002290),l=j(l,c,u,s,e[r+15],22,1236535329),s=O(s,l,c,u,e[r+1],5,-165796510),u=O(u,s,l,c,e[r+6],9,-1069501632),c=O(c,u,s,l,e[r+11],14,643717713),l=O(l,c,u,s,e[r],20,-373897302),s=O(s,l,c,u,e[r+5],5,-701558691),u=O(u,s,l,c,e[r+10],9,38016083),c=O(c,u,s,l,e[r+15],14,-660478335),l=O(l,c,u,s,e[r+4],20,-405537848),s=O(s,l,c,u,e[r+9],5,568446438),u=O(u,s,l,c,e[r+14],9,-1019803690),c=O(c,u,s,l,e[r+3],14,-187363961),l=O(l,c,u,s,e[r+8],20,1163531501),s=O(s,l,c,u,e[r+13],5,-1444681467),u=O(u,s,l,c,e[r+2],9,-51403784),c=O(c,u,s,l,e[r+7],14,1735328473),l=O(l,c,u,s,e[r+12],20,-1926607734),s=E(s,l,c,u,e[r+5],4,-378558),u=E(u,s,l,c,e[r+8],11,-2022574463),c=E(c,u,s,l,e[r+11],16,1839030562),l=E(l,c,u,s,e[r+14],23,-35309556),s=E(s,l,c,u,e[r+1],4,-1530992060),u=E(u,s,l,c,e[r+4],11,1272893353),c=E(c,u,s,l,e[r+7],16,-155497632),l=E(l,c,u,s,e[r+10],23,-1094730640),s=E(s,l,c,u,e[r+13],4,681279174),u=E(u,s,l,c,e[r],11,-358537222),c=E(c,u,s,l,e[r+3],16,-722521979),l=E(l,c,u,s,e[r+6],23,76029189),s=E(s,l,c,u,e[r+9],4,-640364487),u=E(u,s,l,c,e[r+12],11,-421815835),c=E(c,u,s,l,e[r+15],16,530742520),l=E(l,c,u,s,e[r+2],23,-995338651),s=S(s,l,c,u,e[r],6,-198630844),u=S(u,s,l,c,e[r+7],10,1126891415),c=S(c,u,s,l,e[r+14],15,-1416354905),l=S(l,c,u,s,e[r+5],21,-57434055),s=S(s,l,c,u,e[r+12],6,1700485571),u=S(u,s,l,c,e[r+3],10,-1894986606),c=S(c,u,s,l,e[r+10],15,-1051523),l=S(l,c,u,s,e[r+1],21,-2054922799),s=S(s,l,c,u,e[r+8],6,1873313359),u=S(u,s,l,c,e[r+15],10,-30611744),c=S(c,u,s,l,e[r+6],15,-1560198380),l=S(l,c,u,s,e[r+13],21,1309151649),s=S(s,l,c,u,e[r+4],6,-145523070),u=S(u,s,l,c,e[r+11],10,-1120210379),c=S(c,u,s,l,e[r+2],15,718787259),l=S(l,c,u,s,e[r+9],21,-343485551),s=P(s,o),l=P(l,n),c=P(c,i),u=P(u,a);return[s,l,c,u]}function k(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}function P(e,t){var r=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(r>>16);return o<<16|65535&r}function T(e,t){return e<<t|e>>>32-t}function $(e,t,r,o,n,i){return P(T(P(P(t,e),P(o,i)),n),r)}function j(e,t,r,o,n,i,a){return $(t&r|~t&o,e,t,n,i,a)}function O(e,t,r,o,n,i,a){return $(t&o|r&~o,e,t,n,i,a)}function E(e,t,r,o,n,i,a){return $(t^r^o,e,t,n,i,a)}function S(e,t,r,o,n,i,a){return $(r^(t|~o),e,t,n,i,a)}var M=w,R=g("v3",48,M),F=R;function D(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var n=e.random||(e.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t)for(var a=0;a<16;++a)t[o+a]=n[a];return t||d(n)}var A=D;function V(e,t,r,o){switch(e){case 0:return t&r^~t&o;case 1:return t^r^o;case 2:return t&r^t&o^r&o;case 3:return t^r^o}}function G(e,t){return e<<t|e>>>32-t}function I(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=new Array(o.length);for(var n=0;n<o.length;n++)e[n]=o.charCodeAt(n)}e.push(128);var i=e.length/4+2,a=Math.ceil(i/16),s=new Array(a);for(n=0;n<a;n++){s[n]=new Array(16);for(var l=0;l<16;l++)s[n][l]=e[64*n+4*l]<<24|e[64*n+4*l+1]<<16|e[64*n+4*l+2]<<8|e[64*n+4*l+3]}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(n=0;n<a;n++){for(var c=new Array(80),u=0;u<16;u++)c[u]=s[n][u];for(u=16;u<80;u++)c[u]=G(c[u-3]^c[u-8]^c[u-14]^c[u-16],1);var d=r[0],f=r[1],p=r[2],m=r[3],h=r[4];for(u=0;u<80;u++){var y=Math.floor(u/20),v=G(d,5)+V(y,f,p,m)+h+t[y]+c[u]>>>0;h=m,m=p,p=G(f,30)>>>0,f=d,d=v}r[0]=r[0]+d>>>0,r[1]=r[1]+f>>>0,r[2]=r[2]+p>>>0,r[3]=r[3]+m>>>0,r[4]=r[4]+h>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}var q=I,L=g("v5",80,q),N=L},e25f:function(e,t,r){"use strict";r.r(t);var o=r("1bc9"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},e38a:function(e,t,r){},e3ca:function(e,t,r){"use strict";r.r(t);var o=r("4b67"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},e467:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=o.__importDefault(r("e6e0")),i=o.__importDefault(r("544c")),a=r("60a3"),s=r("8445"),l=o.__importStar(r("cd49")),c=r("a76d");let u=class extends a.Vue{render(e){switch(this.elem.type){case s.ElemType.Object:return e("object-view",{props:{elem:this.elem}});case s.ElemType.Function:{console.assert(this.elem.func.ref,"ref is expected for the function:",this.elem.func);let t=this.elem.func.ref,r=this.$store.state.data[t],o=l.getDec(r);if(!o)throw`meta  not found for func ref '${t}'`;let n=this.elem.func.exec;return!n&&o.clientSide&&console.error("todo"),e("function",{props:{title:o.title,name:o.name,data:r,styles:this.elem.styles,exec:n}})}case s.ElemType.Property:{let t=this.elem.property.entityRef;if(!this.$store.state.data)throw"data is null!";let r=this.$store.state.data[t],o=this,n=l.getDec(r);if(!n)throw`property elem: meta not found for ref '${this.elem.property.entityRef}'`;let i=n.properties.find(e=>e.name==this.elem.property.name);if(!i)throw`error rendering property elem. property '${this.elem.property.name}' dec not found!`;let a=e("prop",{props:{item:r,prop:i,viewType:this.elem.property.detailsView?s.ObjectViewType.DetailsView:s.ObjectViewType.GridView},on:{changed(e){l.commitStoreChange(o.$store,{type:c.ChangeType.EditProp,prop:e.prop,value:e.val,item:r,uri:t,vue:e.vue})}}});return a}case s.ElemType.Text:return console.assert(!!this.elem.text,"incomplete text elem: ",this.elem),this.elem.text.markdown?e("markdown",{props:{content:this.elem.text.content,styles:this.elem.styles}}):e("span",{attrs:{class:this.elem.styles}},this.elem.text.content);case s.ElemType.Document:return e("document-editor",{props:{value:this.elem.document.value},attrs:{class:this.elem.styles}});case s.ElemType.Image:return e("img",{attrs:{class:this.elem.styles,src:this.elem.image.ref}});case s.ElemType.Panel:return e("panel",{props:{elem:this.elem}});case s.ElemType.Component:let t,r=this.elem.component.props;return this.elem.component._&&(t=this.elem.component._.data),e(this.elem.component.name,{props:{data:t,...r}});case s.ElemType.Chart:return e("AppChart",{props:{data:this.$store.state.data["tests"]}})}}};o.__decorate([a.Prop()],u.prototype,"elem",void 0),u=o.__decorate([a.Component({name:"form-elem",components:{AppChart:i.default,Markdown:n.default}})],u),t.default=u},e472:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3");let i=class extends n.Vue{changed(){return{val:!this.checked}}keydown(e){return e}};o.__decorate([n.Prop()],i.prototype,"checked",void 0),o.__decorate([n.Prop()],i.prototype,"label",void 0),o.__decorate([n.Emit("changed")],i.prototype,"changed",null),o.__decorate([n.Emit("keydown")],i.prototype,"keydown",null),i=o.__decorate([n.Component],i),t.default=i},e52c:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{attrs:{type:e.type,placeholder:e.placeholder,name:1!=e.viewType?e.prop.name:null,readonly:e.readonly},domProps:{value:e.value},on:{focus:e.focus,input:e.update,keydown:e.keydown}})},n=[]},e5e8:function(e,t,r){"use strict";r.r(t);var o=r("e472"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},e6db:function(e,t,r){"use strict";r.r(t);var o=r("26f5"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},e6e0:function(e,t,r){"use strict";r.r(t);var o=r("9508"),n=r("6542");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"4cff5456",null);t["default"]=s.exports},e717:function(e,t,r){},e781:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"api-doc p-4"},[e._l(e.data.blocks,(function(t){return r("div",{staticClass:"api-doc-block mb-5"},[r("h3",[e._v(e._s(t.title))]),e._l(t.operations,(function(o){return r("div",{staticClass:"m-2 api-doc-operation"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header p-1"},[r("a",{staticClass:"card-link",attrs:{"data-toggle":"collapse",href:"#"+e.getOprId(t,o)}},[r("span",{class:"api-doc-method text-white p-1 rounded text-center d-inline-block method-"+o.method},[e._v(e._s(o.method))]),r("span",{staticClass:"api-doc-opr-uri font-weight-bolder mx-2 text-dark"},[e._v(e._s(e.data.uriPrefix)+e._s(o.uri))]),r("span",{staticClass:"api-doc-opr-comment text-black-50"},[e._v(e._s(o.comment))])])]),r("div",{staticClass:"collapse",attrs:{id:e.getOprId(t,o),"data-parent":".api-doc"}},[r("div",{staticClass:"card-body"},[r("a",{staticClass:"api-doc-opr-uri font-weight-bolder mx-2 text-dark",attrs:{target:"_blank",href:e.data.uriPrefix+o.uri}},[e._v(e._s(e.data.uriPrefix)+e._s(o.uri))])])])])])}))],2)})),r("div",{staticClass:"api-doc-block mb-5"},[r("h3",[e._v("Schemas")]),e._l(e.data.schemas,(function(t){return r("div",{staticClass:"m-2 api-doc-schema"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header p-1"},[r("a",{staticClass:"card-link",attrs:{"data-toggle":"collapse",href:"#schema-"+t.name}},[r("span",{staticClass:"api-doc-opr-uri font-weight-bolder mx-2 text-dark"},[e._v(e._s(t.name))]),r("span",{staticClass:"api-doc-opr-comment text-black-50"},[e._v(e._s(t.comment))])])]),r("div",{staticClass:"collapse",attrs:{id:"schema-"+t.name,"data-parent":".api-doc"}},[r("div",{staticClass:"card-body"},[r("p",[e._v("{")]),e._l(t.properties,(function(t){return r("div",{staticClass:"pl-3"},[r("span",{staticClass:"text-dark schema-prop-name text-nowrap"},[e._v(e._s(t.name)),t.required?r("span",{staticClass:"text-danger"},[e._v("*")]):e._e()]),r("span",{staticClass:"text-primary text-nowrap"},[e._v(e._s(t.type))])])})),r("p",[e._v("}")])],2)])])])}))],2),r("div",{staticClass:"api-doc-block mb-5"},[r("h3",[e._v("Enumerations")]),e._l(e.data.enums,(function(t){return r("div",{staticClass:"m-2 api-doc-enum"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header p-1"},[r("a",{staticClass:"card-link",attrs:{"data-toggle":"collapse",href:"#enum-"+t.name}},[r("span",{staticClass:"api-doc-opr-uri font-weight-bolder mx-2 text-dark"},[e._v(e._s(t.name))]),r("span",{staticClass:"api-doc-opr-comment text-black-50"},[e._v(e._s(t.comment))])])]),r("div",{staticClass:"collapse",attrs:{id:"enum-"+t.name,"data-parent":".api-doc"}},[r("div",{staticClass:"card-body"},e._l(t.items,(function(t){return r("div",{},[r("span",{staticClass:"text-dark"},[e._v(e._s(t.name)+" =")]),r("span",{staticClass:"text-primary"},[e._v(e._s(t.value))])])})),0)])])])}))],2)],2)},n=[]},e7fa:function(e,t,r){"use strict";r.r(t);var o=r("3610"),n=r("a402");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},e9d7:function(e,t,r){},eb81:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("cd49");let a=class extends n.Vue{changed(e){return{prop:this.prop,val:e,vue:this}}changing(){this.doc;let e=this.changed;i.glob.geoMap={show:!0,val:this.value,select:e}}get value(){return this.doc[this.prop.name]}};o.__decorate([n.Prop()],a.prototype,"prop",void 0),o.__decorate([n.Prop()],a.prototype,"doc",void 0),o.__decorate([n.Emit("changed")],a.prototype,"changed",null),a=o.__decorate([n.Component],a),t.default=a},ec7d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=r("cd49");let a=class extends n.Vue{constructor(){super(...arguments),this.hasError=!1}keydown(e){return{e:e}}blur(e){try{let t=e.target.value?JSON.parse(e.target.value):null;this.hasError=!1,this.update(t)}catch(t){this.doc._.msg=`Property '${this.prop.title}' invalid data.`,this.hasError=!0,i.glob.dirty=!0}}update(e){return{prop:this.prop,val:e,vue:this}}get value(){if(this.hasError)return this.$el.value;{let e=this.doc[this.prop.name];return e?JSON.stringify(e):""}}};o.__decorate([n.Prop()],a.prototype,"doc",void 0),o.__decorate([n.Prop()],a.prototype,"prop",void 0),o.__decorate([n.Prop()],a.prototype,"styles",void 0),o.__decorate([n.Emit("keydown")],a.prototype,"keydown",null),o.__decorate([n.Emit("changed")],a.prototype,"update",null),a=o.__decorate([n.Component],a),t.default=a},ed6b:function(e,t,r){"use strict";var o=r("d5a8"),n=r.n(o);n.a},ef63:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"prop-location text-center "+(e.value?"has-data":""),on:{click:e.changing}},[r("i",{staticClass:"fa fa-map-marker-alt"})])},n=[]},f180:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"grid-view"+(e.root?" p-4":""),on:{scroll:function(t){return e.onScroll()}}},[r("table",{class:{"table table-sm":!0,"table-box":e.root}},[r("thead",[r("tr",[2===e.rowHeaderStyle?r("th",{staticClass:"text-center",attrs:{scope:"col"}},[r("CheckBox",{attrs:{checked:e.mainChecked},on:{changed:e.mainCheckChange}})],1):r("th",{attrs:{scope:"col"}}),e._l(e.dec.properties,(function(t){return r("th",{staticClass:"text-nowrap",attrs:{scope:"col"},on:{click:function(r){return e.showColumnMenu(t,r)}}},[e._v(" "+e._s(t.title||t.name)+" ")])}))],2)]),r("tbody",e._l(e.items,(function(t){return r("GridViewRow",{attrs:{selectable:2===e.rowHeaderStyle,item:t},on:{selected:e.rowSelected,keydown:e.keydown,headerClick:e.showRowMenu,changed:e.changed}})})),1),r("tfoot",[r("tr",[r("td",{staticClass:"border-0",attrs:{colspan:"100"}},[r("div",{staticClass:"align-items-center d-flex"},[r("function",{attrs:{styles:"m-2 fa-plus",name:"newItem",title:e.$t("add")},on:{exec:e.insert}}),2===e.rowHeaderStyle?r("function",{attrs:{styles:"fa-trash",name:"deleteItems",title:e.$t("delete")},on:{exec:e.deleteItems}}):e._e(),e.dec.pages>1?r("ul",{staticClass:"m-2 pagination flex-grow-1"},[r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link",attrs:{href:"javascript:;"},on:{click:e.goBack}},[r("i",{staticClass:"fa fa-chevron-left"})])]),e._l(e.dec.pageLinks,(function(t){return r("li",{class:"page-item"+(t.active?" active":"")},[r("a",{staticClass:"page-link",attrs:{href:t.ref}},[e._v(e._s(t.title))])])})),r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link",attrs:{href:"javascript:;"},on:{click:e.goForward}},[r("i",{staticClass:"fa fa-chevron-right"})])])],2):e._e()],1)])])])])])},n=[]},f275:function(e,t,r){},f4fb:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("input",{staticClass:"d-none",staticStyle:{width:"0",height:"0"},attrs:{id:"file-browse",type:"file",multiple:"true"},on:{change:e.fileBrowsed}})},n=[]},f72a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=o.__importDefault(r("c321")),a=o.__importDefault(r("deb6"));let s=class extends n.Vue{focused(e,t){$(".prop-focused").removeClass("prop-focused"),$(e.target).closest("td").addClass("prop-focused")}changed(e){return e}updateStatus(){this.meta.marked=event.target.checked}headerClick(e){return{item:this.item,event:e}}click(e){return{item:this.item,event:e}}keydown(e){return{event:e.event,item:this.item,prop:e.prop}}get meta(){return this.item._}};o.__decorate([n.Prop()],s.prototype,"item",void 0),o.__decorate([n.Prop()],s.prototype,"selectable",void 0),o.__decorate([n.Emit("changed")],s.prototype,"changed",null),o.__decorate([n.Emit("headerClick")],s.prototype,"headerClick",null),o.__decorate([n.Emit("selected")],s.prototype,"click",null),o.__decorate([n.Emit("keydown")],s.prototype,"keydown",null),s=o.__decorate([n.Component({components:{Prop:a.default,CheckBox:i.default}})],s),t.default=s},f978:function(e,t,r){"use strict";var o=r("2549"),n=r.n(o);n.a},fa42:function(e,t,r){"use strict";var o=r("1322"),n=r.n(o);n.a},fada:function(e,t,r){"use strict";var o=r("86ae"),n=r.n(o);n.a},fb15:function(e,t,r){"use strict";if(r.r(t),"undefined"!==typeof window){var o=window.document.currentScript,n=r("8875");o=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var i=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(r.p=i[1])}var a=r("a76d"),s=r("cd49"),l=r("ab06"),c=r("d000"),u={FormView:l["default"],...s,...a,NavBar:c["default"]};t["default"]=u},fc26:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("9ab4"),n=r("60a3"),i=o.__importStar(r("cd49"));let a=class extends n.Vue{keydown(e){return{e:e}}get value(){if(this.prop.formula)return i.evalExpression(this.doc,this.prop.formula);let e=this.doc[this.prop.name];if(e&&"object"==typeof e){let t=i.getQs("e")||"en";return e[t]}return e}get ref(){return this.doc._id?"/"+this.prop._.ref.replace(new RegExp(`/${this.prop.name}$`),"")+"/"+i.getBsonId(this.doc):"/"}};o.__decorate([n.Prop()],a.prototype,"doc",void 0),o.__decorate([n.Prop()],a.prototype,"prop",void 0),o.__decorate([n.Emit("keydown")],a.prototype,"keydown",null),a=o.__decorate([n.Component],a),t.default=a}})}));